<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script type="application/javascript" src='https://blog.nagih.io.vn/js/theme-mode.js'></script>
    <link rel="stylesheet" href='https://blog.nagih.io.vn/css/frameworks.min.css' />
    <link rel="stylesheet" href='https://blog.nagih.io.vn/css/github.min.css' />
    <link rel="stylesheet" href='https://blog.nagih.io.vn/css/github-style.css' />
    <link rel="stylesheet" href='https://blog.nagih.io.vn/css/light.css' />
    <link rel="stylesheet" href='https://blog.nagih.io.vn/css/dark.css' />
    <link rel="stylesheet" href='https://blog.nagih.io.vn/css/syntax.css' />
    <title>SSH - Github - Nagih&#39;s blog</title>
    
    <link rel="icon" type="image/x-icon" href='/images/avatar.png'>
    
    <meta name="theme-color" content="#1e2327">

    <link rel="stylesheet" href="https://blog.nagih.io.vn/css/custom.css">
    <script type="text/javascript" src="https://blog.nagih.io.vn/js/custom.js"></script>

    
    <meta name="description"
  content="SSH and GitHub Tutorial
" />
<meta name="keywords"
  content='blog, google analytics' />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://blog.nagih.io.vn/post/git/ssh/" />


<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="SSH - Github - Nagih&#39;s blog" />
<meta name="twitter:description"
  content="SSH and GitHub Tutorial
" />
<meta name="twitter:site" content="https://blog.nagih.io.vn/" />
<meta name="twitter:creator" content="" />
<meta name="twitter:image"
  content="https://blog.nagih.io.vn/">


<meta property="og:type" content="article" />
<meta property="og:title" content="SSH - Github - Nagih&#39;s blog">
<meta property="og:description"
  content="SSH and GitHub Tutorial
" />
<meta property="og:url" content="https://blog.nagih.io.vn/post/git/ssh/" />
<meta property="og:site_name" content="SSH - Github" />
<meta property="og:image"
  content="https://blog.nagih.io.vn/">
<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

<meta property="article:published_time" content="2025-08-13 00:00:00 &#43;0000 UTC" />













</head>


<body>
  <div style="position: relative">
	<header
		class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
		<div
			class="Header-item mobile-none"
			style="margin-top: -4px; margin-bottom: -4px">
			<a class="Header-link" href="https://blog.nagih.io.vn/">
				<img
					class="octicon"
					height="32"
					width="32"
					src="https://avatars.githubusercontent.com/u/123850496?v=4" />
			</a>
		</div>
		<div class="Header-item d-md-none">
			<button
				class="Header-link btn-link js-details-target"
				type="button"
				onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
				<svg
					height="24"
					class="octicon octicon-three-bars"
					viewBox="0 0 16 16"
					version="1.1"
					width="24">
					<path
						fill-rule="evenodd"
						d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path>
				</svg>
			</button>
		</div>
		<div
			style="display: none"
			id="header-search"
			class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
			<div
				class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
				<div class="position-relative">
					
					<form
						id="search-form"
						action=""
						accept-charset="UTF-8"
						method="get"
						autocomplete="off">
						<label
							class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
							<input
								type="text"
								class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
								name="q"
								value=""
								placeholder="Search"
								autocomplete="off" />
						</label>
					</form>
					
				</div>
			</div>
		</div>

		<div
			class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
			<a class="Header-link" href="https://blog.nagih.io.vn/">
				<img
					class="octicon octicon-mark-github v-align-middle"
					height="32"
					width="32"
					src="https://avatars.githubusercontent.com/u/123850496?v=4" />
			</a>
		</div>
		<div class="Header-item" style="margin-right: 0">
			<a
				href="javascript:void(0)"
				class="Header-link no-select"
				onclick="switchTheme()">
				<svg
					style="fill: var(--color-profile-color-modes-toggle-moon)"
					class="no-select"
					viewBox="0 0 16 16"
					version="1.1"
					width="16"
					height="16">
					<path
						fill-rule="evenodd"
						clip-rule="evenodd"
						d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z"></path>
				</svg>
			</a>
		</div>
	</header>
</div>

  <div id="search-result" class="container-lg px-3 new-discussion-timeline" style="display: none;">
</div>

  
<div class="application-main">
  <div>
  <main>
    <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
      <div class="px-0">
        <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
          <div class="flex-auto min-width-0 width-fit mr-3">
            <div class="d-flex">
              <div class="d-none d-md-block">
                <a class="avatar mr-2 flex-shrink-0" href="https://blog.nagih.io.vn/">
                  <img class=" avatar-user"
                    src="https://avatars.githubusercontent.com/u/123850496?v=4"
                    width="32" height="32"></a>
              </div>
              <div class="d-flex flex-column">
                <h1 class="break-word f3 text-normal mb-md-0 mb-1">
                  <span class="author">
                    <strong>
                      <a href="https://blog.nagih.io.vn/">Nagih</a>
                    </strong>
                  </span>
                  <span class="path-divider">/</span>
                  <strong class="css-truncate css-truncate-target mr-1" style="max-width: 410px">
                    <a href="https://blog.nagih.io.vn/post/git/ssh/">SSH - Github</a>
                  </strong>
                </h1>
                <div class="note m-0">
                  Created <relative-time datetime="Wed, 13 Aug 2025 00:00:00 &#43;0000"
                    class="no-wrap">
                    Wed, 13 Aug 2025 00:00:00 &#43;0000</relative-time>

                  
                  <span class="file-info-divider"></span>
                  Modified <relative-time datetime="Fri, 29 Aug 2025 07:51:52 &#43;0700"
                    class="no-wrap">
                    Fri, 29 Aug 2025 07:51:52 &#43;0700</relative-time>
                  
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-lg px-3 new-discussion-timeline">
      <div class="repository-content gist-content">
        <div>
          <div class="js-gist-file-update-container js-task-list-container file-box">
            <div id="file-pytest" class="file my-2">
              <div id="post-header" class="file-header d-flex flex-md-items-center flex-items-start sticky-header" style="z-index: 2">
                <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto">
                  <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                    
                    <summary id="toc-toggle" onclick="clickToc()" class="btn btn-octicon m-0 mr-2 p-2">
                      <svg aria-hidden="true" viewBox="0 0 16 16" height="16" width="16" class="octicon octicon-list-unordered">
                        <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
                      </svg>
                    </summary>
                    <details-menu class="SelectMenu" id="toc-details" style="display: none;">
                      <div class="SelectMenu-modal rounded-3 mt-1" style="max-height: 340px;">
                        <div class="SelectMenu-list SelectMenu-list--borderless p-2" style="overscroll-behavior: contain;" id="toc-list">
                        </div>
                      </div>
                    </details-menu>
                      3598 Words
                    

                  </div>
                  <div class="file-actions flex-order-2 pt-0">
                    
                    
                    <a class="muted-link mr-3" href="/tags/ssh">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      ssh
                    </a>
                    
                    <a class="muted-link mr-3" href="/tags/git">
                      <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                        <path fill-rule="evenodd"
                          d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                        </path>
                      </svg>
                      git
                    </a>
                    
                    
                  </div>
                </div>
              </div>


              <div class="Box-body px-5 pb-5" style="z-index: 1">
                <article class="markdown-body entry-content container-lg"><p>SSH and GitHub Tutorial</p>
<p>Trong hệ sinh thái phát triển phần mềm hiện đại, GitHub không chỉ là một kho lưu trữ mã nguồn mà còn là trung tâm cộng tác, quản lý dự án và triển khai ứng dụng. Việc tương tác hiệu quả và an toàn với nền tảng này là một kỹ năng cơ bản đối với mọi nhà phát triển. Mặc dù HTTPS cung cấp một phương thức kết nối ban đầu đơn giản, việc chuyển sang sử dụng giao thức SSH (Secure Shell) là một bước tiến quan trọng, không chỉ nâng cao đáng kể mức độ bảo mật mà còn tối ưu hóa quy trình làm việc hàng ngày.</p>
<p>Blog này sẽ cung cấp một hướng dẫn chi tiết và toàn diện về việc thiết lập và sử dụng khóa SSH để kết nối với GitHub. Chúng ta sẽ đi từ những khái niệm cơ bản, lý do tại sao SSH là lựa chọn ưu việt, các bước cấu hình chi tiết, đến việc quản lý nhiều tài khoản phức tạp và xử lý các lỗi thường gặp. Mục tiêu là trang bị cho các nhà phát triển, từ người mới bắt đầu đến các chuyên gia dày dạn kinh nghiệm, kiến thức và công cụ cần thiết để làm chủ phương thức kết nối an toàn và hiệu quả này.</p>
<h2 id="phần-1-nâng-cấp-bảo-mật-và-sự-tiện-lợi-với-ssh">Phần 1: Nâng Cấp Bảo Mật và Sự Tiện Lợi với SSH</h2>
<p>Trước khi đi sâu vào các bước kỹ thuật, điều quan trọng là phải hiểu rõ tại sao việc chuyển đổi từ HTTPS sang SSH lại là một nâng cấp đáng giá cho quy trình làm việc của một nhà phát triển chuyên nghiệp.</p>
<h3 id="những-hạn-chế-của-xác-thực-qua-https">Những Hạn Chế của Xác thực qua HTTPS</h3>
<p>Khi bắt đầu với Git và GitHub, hầu hết người dùng đều chọn HTTPS vì sự đơn giản của nó. Tuy nhiên, phương thức này có những hạn chế cố hữu. Xác thực qua HTTPS yêu cầu sử dụng Personal Access Token (PAT), một chuỗi ký tự hoạt động tương tự như mật khẩu.</p>
<p>Mặc dù dễ thiết lập, quy trình này bộc lộ sự bất tiện trong quá trình sử dụng lâu dài. Git sẽ thường xuyên yêu cầu người dùng nhập thông tin xác thực, làm gián đoạn luồng công việc. Mặc dù các công cụ hỗ trợ quản lý thông tin đăng nhập (credential helpers) có thể lưu trữ token, nhưng chúng lại đặt ra một vấn đề khác về mức độ an toàn của việc lưu trữ này. Quan trọng hơn, một PAT bị rò rỉ có thể cấp cho kẻ tấn công quyền truy cập không chỉ vào các kho lưu trữ mà còn có thể vào toàn bộ tài khoản GitHub, tùy thuộc vào phạm vi quyền hạn được cấp cho token đó.</p>
<h3 id="so-sánh-nhanh-https-và-ssh-trên-github">So Sánh Nhanh: HTTPS và SSH trên GitHub</h3>
<p>Để tóm tắt những khác biệt chính, bảng dưới đây cung cấp một cái nhìn tổng quan về hai phương thức xác thực.</p>
<table>
  <thead>
      <tr>
          <th>Tiêu chí</th>
          <th>HTTPS (với Personal Access Token)</th>
          <th>SSH</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Cơ chế Xác thực</strong></td>
          <td>Dựa trên token (hoạt động như mật khẩu) 1</td>
          <td>Cặp khóa Public/Private (mật mã bất đối xứng) 1</td>
      </tr>
      <tr>
          <td><strong>Mức độ Bảo mật</strong></td>
          <td>Dễ bị lộ nếu token không được bảo vệ cẩn thận 3</td>
          <td>Rất cao; khóa riêng tư không bao giờ truyền qua mạng 4</td>
      </tr>
      <tr>
          <td><strong>Sự tiện lợi</strong></td>
          <td>Yêu cầu nhập lại token hoặc phụ thuộc vào credential helper 3</td>
          <td>Rất tiện lợi sau khi thiết lập, không cần nhập lại thông tin 8</td>
      </tr>
      <tr>
          <td><strong>Thiết lập ban đầu</strong></td>
          <td>Đơn giản, chỉ cần tạo token 2</td>
          <td>Phức tạp hơn một chút, yêu cầu tạo và quản lý cặp khóa 2</td>
      </tr>
      <tr>
          <td><strong>Quản lý Truy cập</strong></td>
          <td>Phân quyền thông qua phạm vi của token trên GitHub 1</td>
          <td>Có thể quản lý truy cập chi tiết qua từng khóa riêng lẻ 1</td>
      </tr>
  </tbody>
</table>
<h2 id="phần-2-hướng-dẫn-thiết-lập-khóa-ssh-từ-a-đến-z">Phần 2: Hướng Dẫn Thiết Lập Khóa SSH Từ A đến Z</h2>
<p>Phần này sẽ hướng dẫn chi tiết từng bước để tạo và cấu hình khóa SSH cho tài khoản GitHub của bạn.</p>
<h3 id="bước-1-tạo-cặp-khóa-ssh-với-ssh-keygen">Bước 1: Tạo Cặp Khóa SSH với <code>ssh-keygen</code></h3>
<p>Công cụ dòng lệnh <code>ssh-keygen</code> được sử dụng để tạo ra cặp khóa công khai và riêng tư, là nền tảng của việc xác thực bằng SSH.</p>
<h4 id="lựa-chọn-thuật-toán-mã-hóa">Lựa chọn Thuật toán Mã hóa</h4>
<p>Việc lựa chọn thuật toán mã hóa là một quyết định quan trọng ảnh hưởng đến cả hiệu suất và bảo mật.</p>
<ul>
<li>
<p><strong>Ed25519 (Khuyến nghị):</strong> Đây là thuật toán hiện đại, được khuyến nghị sử dụng. Dựa trên Mật mã Đường cong Elliptic (Elliptic Curve Cryptography), Ed25519 cung cấp mức độ bảo mật rất cao với độ dài khóa ngắn hơn, giúp quá trình xác thực diễn ra nhanh hơn. Để tạo khóa Ed25519, hãy mở terminal và chạy lệnh sau, thay thế email bằng email liên kết với tài khoản GitHub của bạn:</p>
<p>Bash</p>
<pre tabindex="0"><code>$ ssh-keygen -t ed25519 -C &#34;your_email@example.com&#34;
</code></pre></li>
<li>
<p><strong>RSA (Lựa chọn thay thế):</strong> RSA là một thuật toán cũ hơn nhưng vẫn rất phổ biến và tương thích rộng rãi. Nếu bạn cần hỗ trợ các hệ thống cũ không tương thích với Ed25519, RSA là một lựa chọn an toàn. Tuy nhiên, điều cực kỳ quan trọng là phải sử dụng độ dài khóa đủ lớn. Mức khuyến nghị tối thiểu hiện nay là 4096 bits để đảm bảo an toàn.9</p>
<p>Bash</p>
<pre tabindex="0"><code>$ ssh-keygen -t rsa -b 4096 -C &#34;your_email@example.com&#34;
</code></pre></li>
</ul>
<h4 id="tầm-quan-trọng-của-passphrase">Tầm quan trọng của Passphrase</h4>
<p>Trong quá trình tạo khóa, bạn sẽ được nhắc nhập một &ldquo;passphrase&rdquo;. Đây là một lớp bảo vệ cực kỳ quan trọng và <strong>rất nên được sử dụng</strong>. Passphrase này sẽ mã hóa file khóa riêng tư của bạn trên đĩa. Điều này có nghĩa là, ngay cả khi máy tính của bạn bị đánh cắp và kẻ tấn công có được file khóa riêng tư, họ cũng không thể sử dụng nó nếu không biết passphrase. Đây là tuyến phòng thủ cuối cùng để bảo vệ danh tính số của bạn.</p>
<h4 id="lưu-khóa-và-đặt-tên-file-tùy-chỉnh">Lưu khóa và Đặt tên file tùy chỉnh</h4>
<p>Theo mặc định, <code>ssh-keygen</code> sẽ lưu cặp khóa vào thư mục <code>~/.ssh/</code> với tên file là <code>id_ed25519</code> và <code>id_ed25519.pub</code> (hoặc <code>id_rsa</code> cho RSA). Mặc dù bạn có thể chấp nhận giá trị mặc định, một thực hành tốt là đặt tên file tùy chỉnh, đặc biệt khi bạn dự định quản lý nhiều khóa cho các tài khoản khác nhau. Ví dụ, bạn có thể đặt tên là</p>
<p><code>~/.ssh/id_ed25519_personal</code> cho tài khoản cá nhân và <code>~/.ssh/id_ed25519_work</code> cho tài khoản công việc. Điều này sẽ giúp việc quản lý trở nên dễ dàng hơn ở các bước nâng cao.</p>
<h3 id="bước-2-quản-lý-khóa-với-ssh-agent">Bước 2: Quản Lý Khóa với <code>ssh-agent</code></h3>
<p><code>ssh-agent</code> là một chương trình chạy nền có vai trò giữ các khóa riêng tư đã được giải mã trong bộ nhớ. Điều này cho phép bạn chỉ cần nhập passphrase một lần cho mỗi phiên làm việc, thay vì mỗi lần kết nối SSH.</p>
<ol>
<li>
<p>Khởi động ssh-agent:</p>
<p>Chạy lệnh sau trong terminal để khởi động agent cho phiên làm việc hiện tại của bạn.</p>
<p>Bash</p>
<pre tabindex="0"><code>$ eval &#34;$(ssh-agent -s)&#34;
</code></pre></li>
<li>
<p>Thêm khóa riêng tư vào ssh-agent:</p>
<p>Sử dụng lệnh ssh-add để thêm khóa riêng tư của bạn vào agent. Bạn sẽ được yêu cầu nhập passphrase mà bạn đã tạo ở Bước 1.</p>
<p>Bash</p>
<pre tabindex="0"><code>$ ssh-add ~/.ssh/your_private_key_filename
</code></pre></li>
</ol>
<h3 id="bước-3-thêm-khóa-công-khai-public-key-vào-tài-khoản-github">Bước 3: Thêm Khóa Công Khai (Public Key) vào Tài Khoản GitHub</h3>
<p>Bước tiếp theo là thông báo cho GitHub về danh tính của bạn bằng cách cung cấp khóa công khai. Hãy nhớ rằng, chỉ có file khóa công khai (có đuôi <code>.pub</code>) mới được chia sẻ.</p>
<ol>
<li>
<p>Sao chép nội dung khóa công khai:</p>
<p>Sử dụng lệnh phù hợp với hệ điều hành của bạn để sao chép nội dung file .pub vào clipboard.</p>
<ul>
<li>
<p><strong>macOS:</strong></p>
<p>Bash</p>
<pre tabindex="0"><code>$ pbcopy &lt; ~/.ssh/id_ed25519_personal.pub
</code></pre></li>
<li>
<p><strong>Windows (sử dụng Git Bash hoặc WSL):</strong></p>
<p>Bash</p>
<pre tabindex="0"><code>$ cat ~/.ssh/id_ed25519_personal.pub | clip
</code></pre></li>
</ul>
</li>
<li>
<p><strong>Thêm khóa vào GitHub:</strong></p>
<ul>
<li>
<p>Truy cập tài khoản GitHub của bạn trên trình duyệt.</p>
</li>
<li>
<p>Vào <strong>Settings</strong> (Cài đặt) bằng cách nhấp vào ảnh đại diện của bạn ở góc trên bên phải.</p>
</li>
<li>
<p>Trong thanh bên trái, chọn <strong>SSH and GPG keys</strong> (Khóa SSH và GPG).</p>
</li>
<li>
<p>Nhấp vào nút <strong>New SSH key</strong> (Khóa SSH mới).</p>
</li>
<li>
<p>Trong trường <strong>Title</strong>, đặt một cái tên mang tính mô tả cho khóa của bạn (ví dụ: &ldquo;MacBook Pro Cá Nhân&rdquo;).</p>
</li>
<li>
<p>Trong trường <strong>Key</strong>, dán nội dung khóa công khai bạn đã sao chép.</p>
</li>
<li>
<p>Nhấp vào Add SSH key (Thêm khóa SSH) để hoàn tất.</p>
</li>
</ul>
</li>
</ol>
<h3 id="bước-4-kiểm-tra-kết-nối">Bước 4: Kiểm Tra Kết Nối</h3>
<p>Sau khi hoàn tất các bước trên, bạn cần kiểm tra để đảm bảo mọi thứ hoạt động chính xác.</p>
<ol>
<li>
<p>Chạy lệnh kiểm tra:</p>
<p>Mở terminal và thực hiện lệnh sau:</p>
<p>Bash</p>
<pre tabindex="0"><code>$ ssh -T git@github.com
</code></pre></li>
<li>
<p>Xác thực máy chủ (lần đầu tiên):</p>
<p>Lần đầu tiên bạn kết nối, bạn có thể sẽ thấy một thông báo cảnh báo:</p>
<pre tabindex="0"><code>The authenticity of host &#39;github.com (IP_ADDRESS)&#39; can&#39;t be established.
ED25519 key fingerprint is SHA256:+DiY3wvvV6TuJJhbpZisF/zLDA0zPMSvHdkr4UvCOqU.
Are you sure you want to continue connecting (yes/no)?
</code></pre><p>Đây là một tính năng bảo mật của SSH để chống lại các cuộc tấn công xen giữa (man-in-the-middle). Hãy xác minh rằng dấu vân tay (fingerprint) trong thông báo khớp với một trong các dấu vân tay công khai của GitHub được công bố trên trang tài liệu chính thức của họ. Sau khi xác nhận, gõ <code>yes</code> và nhấn Enter.</p>
</li>
<li>
<p>Kết quả thành công:</p>
<p>Nếu kết nối thành công, bạn sẽ nhận được thông báo:</p>
<pre tabindex="0"><code>Hi username! You&#39;ve successfully authenticated, but GitHub does not provide shell access.
</code></pre><p>Điều này xác nhận rằng cặp khóa SSH của bạn đã được thiết lập chính xác và GitHub đã xác thực thành công danh tính của bạn.</p>
</li>
</ol>
<h2 id="phần-3-nâng-cao-kỹ-năng-với-file-cấu-hình-ssh-sshconfig">Phần 3: Nâng Cao Kỹ Năng với File Cấu Hình SSH (<code>~/.ssh/config</code>)</h2>
<p>Đối với các nhà phát triển làm việc trên nhiều dự án hoặc có nhiều danh tính (ví dụ: tài khoản cá nhân và tài khoản công việc), việc quản lý nhiều khóa SSH có thể trở nên phức tạp. File cấu hình <code>~/.ssh/config</code> là một công cụ mạnh mẽ giúp tự động hóa và đơn giản hóa quá trình này, biến SSH từ một công cụ kết nối đơn thuần thành một hệ thống quản lý danh tính hiệu quả.</p>
<h3 id="giới-thiệu-sshconfig">Giới thiệu <code>~/.ssh/config</code></h3>
<p>File <code>~/.ssh/config</code> cho phép bạn tạo các bí danh (alias) và các quy tắc kết nối cụ thể cho từng máy chủ. Thay vì phải gõ các lệnh dài dòng với các tùy chọn phức tạp, bạn có thể định nghĩa tất cả trong file này. Cấu trúc của file bao gồm các khối <code>Host</code>, mỗi khối chứa các chỉ thị áp dụng cho host đó.</p>
<h3 id="kịch-bản-quản-lý-nhiều-tài-khoản-github-cá-nhân--công-việc">Kịch bản: Quản lý nhiều tài khoản GitHub (Cá nhân &amp; Công việc)</h3>
<p>Đây là một kịch bản rất phổ biến. Mục tiêu là có thể làm việc trên các kho lưu trữ của cả hai tài khoản trên cùng một máy tính mà không cần phải thay đổi cấu hình thủ công mỗi lần chuyển đổi.</p>
<ol>
<li>
<p>Tạo khóa SSH thứ hai:</p>
<p>Thực hiện lại Bước 1 trong Phần 2 để tạo một cặp khóa mới dành riêng cho tài khoản công việc. Hãy chắc chắn đặt một tên file khác biệt, ví dụ: id_ed25519_work. Sau đó, thêm khóa công khai này vào tài khoản GitHub công việc của bạn.</p>
</li>
<li>
<p>Cấu hình ~/.ssh/config:</p>
<p>Mở file ~/.ssh/config (nếu chưa có, hãy tạo nó) và thêm vào nội dung sau:</p>
<pre tabindex="0"><code># Tài khoản GitHub cá nhân
Host github.com-personal
  HostName github.com
  User git
  IdentityFile ~/.ssh/id_ed25519_personal
  IdentitiesOnly yes

# Tài khoản GitHub công việc
Host github.com-work
  HostName github.com
  User git
  IdentityFile ~/.ssh/id_ed25519_work
  IdentitiesOnly yes
</code></pre></li>
</ol>
<h4 id="phân-tích-sâu-các-chỉ-thị">Phân tích sâu các chỉ thị</h4>
<ul>
<li>
<p><code>Host github.com-personal</code>: Đây là bí danh (alias) bạn sẽ sử dụng. Khi Git hoặc SSH thấy host này, nó sẽ áp dụng các quy tắc bên dưới.</p>
</li>
<li>
<p><code>HostName github.com</code>: Đây là tên máy chủ thực tế mà SSH sẽ kết nối đến.</p>
</li>
<li>
<p><code>User git</code>: GitHub yêu cầu tất cả các kết nối SSH sử dụng user <code>git</code>.</p>
</li>
<li>
<p><code>IdentityFile ~/.ssh/id_ed25519_personal</code>: Chỉ thị này yêu cầu SSH sử dụng file khóa riêng tư cụ thể này để xác thực.</p>
</li>
<li>
<p><code>IdentitiesOnly yes</code>: Đây là một chỉ thị cực kỳ quan trọng. Theo mặc định, SSH client có thể thử tất cả các khóa có sẵn trong <code>ssh-agent</code> hoặc các file mặc định. Khi kết nối đến GitHub, nếu gửi sai khóa, kết nối có thể bị từ chối sau vài lần thử. <code>IdentitiesOnly yes</code> buộc SSH client chỉ sử dụng duy nhất khóa được chỉ định trong <code>IdentityFile</code> cho host này, loại bỏ sự mơ hồ và ngăn ngừa lỗi xác thực.</p>
</li>
</ul>
<h3 id="áp-dụng-cấu-hình-vào-git">Áp dụng cấu hình vào Git</h3>
<p>Sau khi đã cấu hình <code>~/.ssh/config</code>, bạn cần cập nhật URL của các kho lưu trữ Git để chúng sử dụng các bí danh mới.</p>
<ul>
<li>
<p>Đối với kho lưu trữ mới (khi git clone):</p>
<p>Thay vì sử dụng URL SSH mặc định, hãy thay thế github.com bằng bí danh bạn đã tạo.</p>
<p>Bash</p>
<pre tabindex="0"><code># Clone kho lưu trữ công việc
$ git clone git@github.com-work:work-organization/project.git
</code></pre></li>
<li>
<p>Đối với kho lưu trữ đã có:</p>
<p>Sử dụng lệnh git remote set-url để cập nhật URL của remote origin.</p>
<p>Bash</p>
<pre tabindex="0"><code># Điều hướng đến thư mục kho lưu trữ công việc của bạn
$ cd path/to/work/project

# Cập nhật URL của remote
$ git remote set-url origin git@github.com-work:work-organization/project.git
</code></pre><p>Bạn có thể kiểm tra lại bằng lệnh <code>git remote -v</code>.</p>
</li>
</ul>
<p>Với thiết lập này, quy trình làm việc của bạn sẽ trở nên hoàn toàn tự động. Khi bạn ở trong một thư mục dự án công việc, các lệnh Git sẽ tự động sử dụng khóa công việc. Khi ở trong dự án cá nhân, chúng sẽ sử dụng khóa cá nhân. Điều này không chỉ là một mẹo tiện lợi, mà là một mô hình nền tảng để quản lý danh tính chuyên nghiệp, giúp ngăn chặn các lỗi như commit nhầm tài khoản và loại bỏ hoàn toàn các rào cản trong quy trình làm việc đa tài khoản.</p>
<h2 id="phần-4-xử-lý-sự-cố-và-các-lỗi-thường-gặp">Phần 4: Xử Lý Sự Cố và Các Lỗi Thường Gặp</h2>
<p>Ngay cả với một thiết lập cẩn thận, các vấn đề vẫn có thể phát sinh. Việc hiểu rõ cách chẩn đoán và khắc phục các lỗi SSH phổ biến là một kỹ năng quan trọng.</p>
<h3 id="công-cụ-chẩn-đoán-chính-chế-độ-verbose">Công cụ chẩn đoán chính: Chế độ Verbose</h3>
<p>Trước khi thử bất kỳ giải pháp nào, bước đầu tiên luôn là thu thập thêm thông tin. Tùy chọn <code>-v</code> (verbose) của lệnh <code>ssh</code> sẽ in ra chi tiết quá trình kết nối, cho bạn biết file cấu hình nào đang được đọc, khóa nào đang được thử, và chính xác lỗi xảy ra ở đâu.</p>
<p>Bash</p>
<pre tabindex="0"><code>$ ssh -vT git@github.com
</code></pre><h3 id="lỗi-1-permission-denied-publickey">Lỗi 1: <code>Permission denied (publickey)</code></h3>
<ul>
<li>
<p><strong>Ý nghĩa:</strong> Đây là lỗi xác thực phổ biến nhất. Nó có nghĩa là máy chủ GitHub đã từ chối tất cả các khóa SSH mà client của bạn cung cấp.</p>
</li>
<li>
<p><strong>Các bước kiểm tra và khắc phục:</strong></p>
<ol>
<li>
<p><strong>Kiểm tra khóa trên GitHub:</strong> Đảm bảo rằng khóa công khai của bạn đã được thêm chính xác vào tài khoản GitHub. Quay lại Phần 2, Bước 3 để xác minh.</p>
</li>
<li>
<p><strong>Kiểm tra <code>ssh-agent</code>:</strong> Chạy <code>ssh-add -l</code> để xem các khóa hiện có trong agent. Nếu danh sách trống hoặc không chứa khóa bạn cần, hãy chạy lại <code>ssh-add ~/.ssh/your_private_key</code> để thêm nó vào.</p>
</li>
<li>
<p><strong>Kiểm tra quyền truy cập file:</strong> SSH yêu cầu quyền truy cập rất nghiêm ngặt. Thư mục <code>~/.ssh</code> phải có quyền là <code>700</code> (drwx−−−−−−), và file khóa riêng tư của bạn phải có quyền là <code>600</code> (−rw−−−−−−−). Sử dụng các lệnh sau để sửa:</p>
<p>Bash</p>
<pre tabindex="0"><code>$ chmod 700 ~/.ssh
$ chmod 600 ~/.ssh/your_private_key
</code></pre></li>
<li>
<p><strong>Kiểm tra <code>~/.ssh/config</code>:</strong> Nếu bạn đang sử dụng file cấu hình, hãy kiểm tra kỹ lưỡng xem <code>Host</code> alias có khớp với URL remote của Git không, và <code>IdentityFile</code> có trỏ đến đúng file khóa riêng tư không.</p>
</li>
</ol>
</li>
</ul>
<h3 id="lỗi-2-host-key-verification-failed">Lỗi 2: <code>Host key verification failed</code></h3>
<ul>
<li>
<p><strong>Ý nghĩa:</strong> Dấu vân tay của máy chủ GitHub đã thay đổi so với lần cuối bạn kết nối. Đây là một cơ chế bảo mật quan trọng để cảnh báo về khả năng có một cuộc tấn công Man-in-the-Middle.42</p>
</li>
<li>
<p><strong>Cách khắc phục an toàn:</strong></p>
<ol>
<li>
<p><strong>Không bao giờ</strong> bỏ qua cảnh báo này một cách mù quáng.</p>
</li>
<li>
<p>Truy cập trang tài liệu chính thức của GitHub để xác minh dấu vân tay máy chủ mới nhất của họ.</p>
</li>
<li>
<p>Nếu dấu vân tay khớp, bạn có thể an toàn xóa khóa cũ khỏi file <code>~/.ssh/known_hosts</code> bằng lệnh:</p>
<p>Bash</p>
<pre tabindex="0"><code>$ ssh-keygen -R github.com
</code></pre></li>
</ol>
<p>Lần kết nối tiếp theo, bạn sẽ được yêu cầu chấp nhận khóa mới.</p>
</li>
</ul>
<h3 id="lỗi-3-agent-admitted-failure-to-sign-using-the-key">Lỗi 3: <code>Agent admitted failure to sign using the key</code></h3>
<ul>
<li>
<p><strong>Ý nghĩa:</strong> <code>ssh-agent</code> đang chạy nhưng không thể sử dụng khóa để tạo chữ ký số cần thiết cho việc xác thực. Lỗi này đôi khi xảy ra trên các hệ thống Linux.</p>
</li>
<li>
<p><strong>Cách khắc phục:</strong> Giải pháp thường rất đơn giản là tải lại khóa vào agent. Chạy lệnh <code>ssh-add</code> thường sẽ giải quyết được vấn đề này.</p>
</li>
</ul>
<h3 id="lỗi-4-key-is-already-in-use">Lỗi 4: <code>Key is already in use</code></h3>
<ul>
<li>
<p><strong>Ý nghĩa:</strong> Bạn đang cố gắng thêm một khóa công khai vào tài khoản GitHub, nhưng khóa đó đã được sử dụng ở một nơi khác - hoặc trên một tài khoản người dùng khác, hoặc trong một kho lưu trữ khác dưới dạng &ldquo;deploy key&rdquo;.</p>
</li>
<li>
<p><strong>Nguyên tắc:</strong> Một khóa SSH phải là định danh duy nhất cho một người dùng trên toàn bộ nền tảng GitHub. Khi được sử dụng làm deploy key, nó cũng phải là duy nhất cho mỗi kho lưu trữ.</p>
</li>
<li>
<p><strong>Cách khắc phục:</strong></p>
<ol>
<li>
<p>Sử dụng lệnh sau để xác định tài khoản nào đang sử dụng khóa đó:</p>
<p>Bash</p>
<pre tabindex="0"><code>$ ssh -T -ai ~/.ssh/your_key git@github.com
</code></pre><p>Phản hồi sẽ cho bạn biết khóa này đang được liên kết với <code>username</code> nào.</p>
</li>
<li>
<p>Gỡ khóa khỏi tài khoản hoặc kho lưu trữ cũ, hoặc đơn giản là tạo một cặp khóa hoàn toàn mới cho mục đích sử dụng mới.</p>
</li>
</ol>
</li>
</ul>
<h2 id="phần-5-các-phương-pháp-bảo-mật-tốt-nhất-best-practices-và-tổng-kết">Phần 5: Các Phương Pháp Bảo Mật Tốt Nhất (Best Practices) và Tổng Kết</h2>
<p>Làm chủ SSH không chỉ dừng lại ở việc thiết lập thành công. Việc duy trì một tư thế bảo mật vững chắc đòi hỏi sự chú ý liên tục. Các phương pháp tốt nhất có thể được tóm gọn trong một vòng đời bảo mật của khóa SSH.</p>
<h3 id="vòng-đời-bảo-mật-của-khóa-ssh">Vòng Đời Bảo Mật Của Khóa SSH</h3>
<ul>
<li>
<p><strong>Tạo (Creation):</strong></p>
<ul>
<li>
<p><strong>Thuật toán mạnh:</strong> Luôn ưu tiên sử dụng <strong>Ed25519</strong> vì hiệu suất và bảo mật vượt trội.</p>
</li>
<li>
<p><strong>Passphrase mạnh:</strong> Luôn đặt một passphrase mạnh và duy nhất cho mỗi khóa. Sử dụng trình quản lý mật khẩu để lưu trữ an toàn các passphrase này.</p>
</li>
</ul>
</li>
<li>
<p><strong>Bảo vệ (Protection):</strong></p>
<ul>
<li>
<p><strong>Quyền truy cập file:</strong> Duy trì quyền truy cập file chính xác là điều bắt buộc: <code>chmod 700 ~/.ssh</code> và <code>chmod 600 ~/.ssh/private_key</code>.</p>
</li>
<li>
<p><strong>Bí mật tuyệt đối:</strong> <strong>Không bao giờ</strong> chia sẻ, gửi qua email, hoặc lưu trữ khóa riêng tư của bạn ở bất kỳ đâu ngoài máy tính cá nhân đã được bảo vệ. Chỉ có khóa công khai là an toàn để chia sẻ.</p>
</li>
</ul>
</li>
<li>
<p><strong>Sử dụng (Usage):</strong></p>
<ul>
<li>
<p><strong>Sử dụng <code>ssh-agent</code>:</strong> Tận dụng <code>ssh-agent</code> để giảm thiểu số lần phải nhập passphrase, qua đó giảm nguy cơ bị keylogger ghi lại.</p>
</li>
<li>
<p><strong>Cấu hình timeout cho agent:</strong> Để tăng cường bảo mật, hãy đặt thời gian tồn tại cho các khóa trong agent bằng tùy chọn <code>-t</code>. Lệnh <code>ssh-add -t 3600</code> sẽ yêu cầu agent &ldquo;quên&rdquo; khóa sau một giờ (3600 giây) không hoạt động. Điều này cực kỳ hữu ích để bảo vệ chống lại việc truy cập trái phép nếu máy tính của bạn bị bỏ lại mà không được khóa.</p>
</li>
</ul>
</li>
<li>
<p><strong>Bảo trì (Maintenance):</strong></p>
<ul>
<li>
<p><strong>Kiểm tra định kỳ (Audit):</strong> Lên lịch (ví dụ: hàng quý) để truy cập trang cài đặt SSH trên GitHub và xem lại danh sách các khóa đã được cấp quyền. Xóa ngay lập tức bất kỳ khóa nào bạn không nhận ra, không còn sử dụng, hoặc thuộc về các thiết bị đã mất.</p>
</li>
<li>
<p><strong>Xoay vòng khóa (Rotation):</strong> Một thực hành bảo mật nâng cao là định kỳ tạo một cặp khóa mới và thay thế các khóa cũ. Việc này giới hạn &ldquo;cửa sổ cơ hội&rdquo; cho một kẻ tấn công nếu một khóa cũ bị xâm phạm mà bạn không hề hay biết.</p>
</li>
</ul>
</li>
</ul>
<h3 id="tổng-kết">Tổng kết</h3>
<p>Hành trình từ việc hiểu rõ giá trị của SSH đến việc thiết lập, quản lý chuyên nghiệp và xử lý sự cố là một quá trình đầu tư vào kỹ năng cốt lõi của một nhà phát triển phần mềm. Việc làm chủ SSH không chỉ là một biện pháp tăng cường bảo mật; đó là một tuyên bố về sự chuyên nghiệp, một cam kết về hiệu quả và là nền tảng cho một quy trình làm việc an toàn, liền mạch và năng suất hơn trên GitHub và xa hơn nữa. Bằng cách áp dụng các kiến thức và thực hành tốt nhất được trình bày trong báo cáo này, các nhà phát triển có thể tự tin tương tác với các hệ thống từ xa, biết rằng danh tính số và tài sản trí tuệ của họ được bảo vệ bởi một trong những tiêu chuẩn vàng của ngành công nghệ.</p>
<p><em>Nếu thấy hay, hãy để lại cho mình xuống phía dưới để mình có động lực viết các blog chất lượng tiếp theo nhé!</em></p>
<hr>
<p><em>Nếu thấy hay, hãy để lại cho mình 1 comment xuống phía dưới để mình có động lực viết các blog chất lượng tiếp theo nhé!</em></p></article>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
<script type="application/javascript" src='https://blog.nagih.io.vn/js/toc.js'></script>
<link rel="stylesheet" href='https://blog.nagih.io.vn/css/toc.css' />

  
<div id="gitalk-container" class="gitalk-container"></div>
<link rel="stylesheet" href='https://blog.nagih.io.vn/css/gitalk.css'>
<script src='https://blog.nagih.io.vn/js/gitalk.min.js'></script>
<script>
  const gitalk = new Gitalk({
    clientID: 'Ov23li9UG1K7XEEbH2rX',
    clientSecret: '314c5b3c2437a868e716ca4bd2ee12ca9eb200e3',
    repo: 'blog',
    owner: 'vuongmanhnghia',
    admin: ['vuongmanhnghia'],
    id: eval("location.pathname"), 
    distractionFreeMode: false 
  });
  (function() {
    gitalk.render('gitalk-container');
  })();
</script>

</div>

  <div class="footer container-xl width-full p-responsive">
	<div
		class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light">
		<a
			target="_blank"
			aria-label="Homepage"
			title="GitHub"
			class="footer-octicon d-none d-lg-block mr-lg-4"
			href="https://blog.nagih.io.vn/">
			<svg
				height="24"
				class="octicon octicon-mark-github"
				viewBox="0 0 16 16"
				version="1.1"
				width="24">
				<path
					fill-rule="evenodd"
					d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
			</svg>
		</a>
		<ul
			class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
			
			<li class="mr-3 mr-lg-0">
				<a href="https://github.com/vuongmanhnghia" target="_blank"
					>Vuong Manh Nghia</a
				>
			</li>
			
			<li class="mr-3 mr-lg-0">
				GitHub and the Invertocat logo are trademarks of
				<a href="https://github.com/" target="_blank">GitHub, Inc.</a>
			</li>
		</ul>
	</div>
	<div class="d-flex flex-justify-center pb-6">
		<span class="f6 text-gray-light"></span>
	</div>
</div>

</body>

<script type="application/javascript" src="https://blog.nagih.io.vn/js/github-style.js"></script>





<script src="https://cdn.jsdelivr.net/npm/fuse.js/dist/fuse.min.js"></script>
<script type="application/javascript" src='https://blog.nagih.io.vn/js/search.js'></script>



</html>