<!doctype html>
<html
  itemscope
  class=""
  lang="en-us"
  itemtype="http://schema.org/WebPage">
  <head>
    
    <meta charset="utf-8" />


<meta
  name="viewport"
  content="width=device-width, initial-scale=1, maximum-scale=5" />


<meta name="theme-name" content="hugoplate" />















<link rel="shortcut icon" href="/images/favicon_hu_398672b1ae8e6375.png" type="image/x-icon">
<link rel="icon" href="/images/favicon_hu_398672b1ae8e6375.png" type="image/x-icon">
<link rel="icon" type="image/png" sizes="48x48" href="/images/favicon_hu_e09a001e927a429b.png">
<link rel="icon" type="image/png" sizes="96x96" href="/images/favicon_hu_398672b1ae8e6375.png">
<link rel="apple-touch-icon" sizes="144x144" href="/images/favicon_hu_58ce09429db5e529.png">








<link rel="manifest" href="/manifest.webmanifest" />
<meta
  name="msapplication-TileColor"
  content="#ddd" />
<meta
  name="theme-color"
  content="#ffffff" />






















  <base href="https://blog.nagih.io.vn/blog/environment/app-development/" />







  
  


<title>Hướng dẫn setup môi trường App Development trên nixos best practice</title>















  <meta
    name="keywords"
    content="Boilerplate, Hugo" />




<meta
  name="description"
  content="Sử dụng triết lý của Nix ứng dụng trong việc triển khai môi trường lập trình ứng dụng sao cho tối ưu và tốt nhất." />



  <meta name="author" content="zeon.studio" />






  
  






  







  

  
  
  


  
  
    
    
      
    

    


    
    


    
    
      
      
      
        <meta property="og:image" content="https://blog.nagih.io.vn/images/thumbnails/app-development.png" />
        <meta name="twitter:image" content="https://blog.nagih.io.vn/images/thumbnails/app-development.png" />
        <meta
          name="twitter:card"
          content="summary_large_image" />
      
      
      <meta property="og:image:width" content="1200" />
      <meta property="og:image:height" content="750" />
    


    
    <meta
      property="og:image:type"
      content="image/.png" />
  


  





<meta property="og:title" content="Hướng dẫn setup môi trường App Development trên nixos best practice" />
<meta property="og:description" content="Sử dụng triết lý của Nix ứng dụng trong việc triển khai môi trường lập trình ứng dụng sao cho tối ưu và tốt nhất." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://blog.nagih.io.vn/blog/environment/app-development/" />


<meta name="twitter:title" content="Hướng dẫn setup môi trường App Development trên nixos best practice" />
<meta name="twitter:description" content="Sử dụng triết lý của Nix ứng dụng trong việc triển khai môi trường lập trình ứng dụng sao cho tối ưu và tốt nhất." />


  <meta name="twitter:site" content="@zeon_studio" />


  <meta name="twitter:creator" content="@zeon.studio" />



















<script>
  let indexURL = "https://blog.nagih.io.vn/searchindex.json";
  let includeSectionsInSearch = ["blog"];
  let search_no_results = "No results for";
  let search_initial_message = "Type something to search..";
</script>























    
    
<meta http-equiv="x-dns-prefetch-control" content="on" />
<link rel="preconnect" href="https://use.fontawesome.com" crossorigin />
<link rel="preconnect" href="//cdnjs.cloudflare.com" />
<link rel="preconnect" href="//www.googletagmanager.com" />
<link rel="preconnect" href="//www.google-analytics.com" />
<link rel="dns-prefetch" href="https://use.fontawesome.com" />
<link rel="dns-prefetch" href="//ajax.googleapis.com" />
<link rel="dns-prefetch" href="//cdnjs.cloudflare.com" />
<link rel="dns-prefetch" href="//www.googletagmanager.com" />
<link rel="dns-prefetch" href="//www.google-analytics.com" />
<link rel="dns-prefetch" href="//fonts.googleapis.com" />
<link rel="dns-prefetch" href="//connect.facebook.net" />
<link rel="dns-prefetch" href="//platform.linkedin.com" />
<link rel="dns-prefetch" href="//platform.twitter.com" />




<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<script>
  (function () {
    const googleFont = document.createElement("link");
    googleFont.href = "https://fonts.googleapis.com/css2?family=Roboto:wght@400;600&family=Roboto:wght@700&display=swap";
    googleFont.type = "text/css";
    googleFont.rel = "stylesheet";
    document.head.appendChild(googleFont);
  })();
</script>






  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  












  
  




<link
  href="/css/style.80242d833be019717cee43f0786cb570079d37275977b299c9d7c6c156186d79.css"
  integrity="sha256-gCQtgzvgGXF87kPweGy1cAedNydZd7KZydfGwVYYbXk="
  rel="stylesheet" />


<link
  rel="stylesheet"
  href="/css/style-lazy.min.9e7e035d2f064fe004383f2ffc11a8f2966ef7b51c5fb2fac926e35c0061b5cf.css"
  integrity="sha256-nn4DXS8GT&#43;AEOD8v/BGo8pZu97UcX7L6ySbjXABhtc8="
  media="print"
  onload="this.media='all'; this.onload=null;" />


  </head>

  <body>
    
    
      



      

    


    
    





    
    <header
  class="header sticky top-0 z-30">
  <nav class="navbar container grid grid-cols-[repeat(3,1fr)] grid-rows-[1fr] gap-y-[10px] gap-x-[10px]">
    
    <div class="order-0 justify-start">
      
      <a class="navbar-brand block" href="/">
        






















  
  Nagih&#39;s Blog


      </a>
    </div>
    
    <input id="nav-toggle" type="checkbox" class="hidden" />
    <label
      for="nav-toggle"
      class="order-3 cursor-pointer flex items-center lg:hidden text-text-dark dark:text-white lg:order-1">
      <svg id="show-button" class="h-6 fill-current block" viewBox="0 0 20 20">
        <title>Menu Open</title>
        <path d="M0 3h20v2H0V3z m0 6h20v2H0V9z m0 6h20v2H0V0z"></path>
      </svg>
      <svg id="hide-button" class="h-6 fill-current hidden" viewBox="0 0 20 20">
        <title>Menu Close</title>
        <polygon
          points="11 9 22 9 22 11 11 11 11 22 9 22 9 11 -2 11 -2 9 9 9 9 -2 11 -2"
          transform="rotate(45 10 10)"></polygon>
      </svg>
    </label>
    

    
    <ul
      id="nav-menu"
      class="navbar-nav order-3 hidden lg:flex w-full pb-6 lg:order-1 lg:w-auto lg:space-x-2 lg:pb-0 xl:space-x-8 justify-center">
      
      
        
        
        
        
          <li class="nav-item">
            <a
              class="nav-link "
              
              href="/blog"
              >Blog</a
            >
          </li>
        
      
        
        
        
        
          <li class="nav-item">
            <a
              class="nav-link "
              
              href="/categories"
              >Categories</a
            >
          </li>
        
      
        
        
        
        
          <li class="nav-item">
            <a
              class="nav-link "
              
              href="/contact"
              >Contact</a
            >
          </li>
        
      
      
        <li class="mt-4 inline-block lg:hidden">
          <a
            class="btn btn-outline-primary btn-sm"
            href="/contact">
            get a quote
          </a>
        </li>
      
    </ul>

    <div class="order-1 ml-auto flex items-center md:order-2 lg:ml-0 justify-end">
      
        
          <button
            aria-label="search"
            class="border-border text-text-dark hover:text-primary
            dark:border-darkmode-border mr-5 inline-block border-r pr-5
            text-xl dark:text-white cursor-pointer dark:hover:text-darkmode-primary
            "
            data-target="search-modal">
            <i class="fa-solid fa-search"></i>
          </button>
        
      

      

      


  <div class="theme-switcher mr-5 invisible">
    <input id="theme-switcher" data-theme-switcher type="checkbox" />
    <label for="theme-switcher">
      <span class="sr-only">theme switcher</span>
      <span>
        
        <svg
          class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 opacity-100 dark:opacity-0"
          viewBox="0 0 56 56"
          fill="#fff"
          height="16"
          width="16">
          <path
            d="M30 4.6c0-1-.9-2-2-2a2 2 0 0 0-2 2v5c0 1 .9 2 2 2s2-1 2-2Zm9.6 9a2 2 0 0 0 0 2.8c.8.8 2 .8 2.9 0L46 13a2 2 0 0 0 0-2.9 2 2 0 0 0-3 0Zm-26 2.8c.7.8 2 .8 2.8 0 .8-.7.8-2 0-2.9L13 10c-.7-.7-2-.8-2.9 0-.7.8-.7 2.1 0 3ZM28 16a12 12 0 0 0-12 12 12 12 0 0 0 12 12 12 12 0 0 0 12-12 12 12 0 0 0-12-12Zm23.3 14c1.1 0 2-.9 2-2s-.9-2-2-2h-4.9a2 2 0 0 0-2 2c0 1.1 1 2 2 2ZM4.7 26a2 2 0 0 0-2 2c0 1.1.9 2 2 2h4.9c1 0 2-.9 2-2s-1-2-2-2Zm37.8 13.6a2 2 0 0 0-3 0 2 2 0 0 0 0 2.9l3.6 3.5a2 2 0 0 0 2.9 0c.8-.8.8-2.1 0-3ZM10 43.1a2 2 0 0 0 0 2.9c.8.7 2.1.8 3 0l3.4-3.5c.8-.8.8-2.1 0-2.9-.8-.8-2-.8-2.9 0Zm20 3.4c0-1.1-.9-2-2-2a2 2 0 0 0-2 2v4.9c0 1 .9 2 2 2s2-1 2-2Z" />
        </svg>
        
        <svg
          class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 opacity-0 dark:opacity-100"
          viewBox="0 0 24 24"
          fill="none"
          height="16"
          width="16">
          <path
            fill="#000"
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M8.2 2.2c1-.4 2 .6 1.6 1.5-1 3-.4 6.4 1.8 8.7a8.4 8.4 0 0 0 8.7 1.8c1-.3 2 .5 1.5 1.5v.1a10.3 10.3 0 0 1-9.4 6.2A10.3 10.3 0 0 1 3.2 6.7c1-2 2.9-3.5 4.9-4.4Z" />
        </svg>
      </span>
    </label>
  </div>

  
  <script>
    var darkMode = localStorage.getItem("theme") === "dark";

    if (localStorage.getItem("theme") === null) {
      darkMode = false;

      
      if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
        darkMode = true;
      }
      
    }

    if (darkMode) {
      document.documentElement.classList.add("dark");
    } else {
      document.documentElement.classList.remove("dark");
    }

    
    document.addEventListener("DOMContentLoaded", () => {
      var themeSwitch = document.querySelectorAll("[data-theme-switcher]");
      var themeSwitcherContainer = document.querySelector('.theme-switcher');

      [].forEach.call(themeSwitch, function (ts) {
        ts.checked = darkMode;
        ts.addEventListener("click", () => {
          document.documentElement.classList.toggle("dark");
          localStorage.setItem(
            "theme",
            document.documentElement.classList.contains("dark") ? "dark" : "light"
          );
        });
      });

      
      themeSwitcherContainer.classList.remove("invisible");
    });
  </script>




      
      
        <a
          href="/contact"
          class="btn btn-outline-primary btn-sm hidden lg:inline-block">
          get a quote
        </a>
      
    </div>
  </nav>
</header>

    




  
    <div
      class="search-modal "
      aria-hidden="true"
      style="--color-primary: #121212">
      <div data-target="close-search-modal" class="search-modal-overlay"></div>
      <div
        class="search-wrapper"
        data-image="true"
        data-description="true"
        data-tags="true"
        data-categories="true">
        <div class="search-wrapper-header">
          <label for="search-modal-input" style="margin-top:-1px">
            <span class="sr-only">search icon</span>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              height="18"
              width="18"
              class="search-icon"
              data-type="search">
              <path
                fill="currentColor"
                d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z" />
            </svg>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 512 512"
              height="18"
              width="18"
              class="search-reset"
              data-type="reset">
              <path
                fill="currentColor"
                d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z" />
            </svg>
          </label>
          <input
            id="search-modal-input"
            type="text"
            data-search-input
            autocomplete="off"
            aria-label="Search"
            placeholder="Search Post..." />
        </div>
        <div class="search-wrapper-body">
          <div class="search-result" data-search-result></div>
          <span class="search-result-empty">
            Type something to search..
          </span>
        </div>
        <div class="search-wrapper-footer">
          <span>
            <kbd>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="14"
                fill="currentColor"
                viewBox="0 0 16 16">
                <path
                  d="M3.204 11h9.592L8 5.519 3.204 11zm-.753-.659 4.796-5.48a1 1 0 0 1 1.506 0l4.796 5.48c.566.647.106 1.659-.753 1.659H3.204a1 1 0 0 1-.753-1.659z" />
              </svg>
            </kbd>
            <kbd>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="14"
                height="14"
                fill="currentColor"
                style="margin-top:1px;"
                viewBox="0 0 16 16">
                <path
                  d="M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z" />
              </svg>
            </kbd>
            to navigate
          </span>
          <span>
            <kbd>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="12"
                height="12"
                fill="currentColor"
                style="display:inline-block;"
                viewBox="0 0 16 16">
                <path
                  fill-rule="evenodd"
                  d="M14.5 1.5a.5.5 0 0 1 .5.5v4.8a2.5 2.5 0 0 1-2.5 2.5H2.707l3.347 3.346a.5.5 0 0 1-.708.708l-4.2-4.2a.5.5 0 0 1 0-.708l4-4a.5.5 0 1 1 .708.708L2.707 8.3H12.5A1.5 1.5 0 0 0 14 6.8V2a.5.5 0 0 1 .5-.5z" />
              </svg>
            </kbd>
            to select
          </span>
          <span class="search-result-info"></span>
          <span data-target="close-search-modal">
            <kbd>ESC</kbd> to close
          </span>
        </div>
      </div>
    </div>
  




    <main>
      
  <section class="section pt-7">
    <div class="container">
      <div class="row justify-center">
        <article class="lg:col-10">
          
          
            <div class="mb-10">
              




























  





  

  
  
    
      
    


    
    


    
    
      
      
    
    
    


    
    
      
      
        

        
        
        
        
        
        
        


        
        


        <picture>
          <source
            
              srcset="/images/thumbnails/app-development_hu_eedd43f8542bc2cf.webp"
            
            media="(max-width: 575px)" />
          <source
            
              srcset="/images/thumbnails/app-development_hu_e7178e897d1ff7ae.webp"
            
            media="(max-width: 767px)" />
          <source
            
              srcset="/images/thumbnails/app-development_hu_72630f14e8468cd8.webp"
            
            media="(max-width: 991px)" />
          <source
            
              srcset="/images/thumbnails/app-development_hu_f31c55cfd2805661.webp"
             />
          <img
            
              loading="lazy" decoding="async"
              src="/images/thumbnails/app-development_hu_3c16724e695d1639.png"
            class=" w-full rounded img"
            alt="Hướng dẫn setup môi trường App Development trên nixos best practice"
            width="1200"
            height="750" />
        </picture>
      
      
    
    
  


  


            </div>
          
          <h1 class="h2 mb-4">
            Hướng dẫn setup môi trường App Development trên nixos best practice
          </h1>
          <ul class="mb-4">
            <li class="mr-4 inline-block">
              <a
                href="/authors/nagih/">
                <i class="fa-regular fa-circle-user mr-2"></i
                >Nagih
              </a>
            </li>
            
            
              <li class="mr-4 inline-block">
                <i class="fa-regular fa-folder mr-2"></i>
                
                  <a
                    href="/categories/environment/"
                    class=""
                    >Environment
                      ,
                    
                  </a>
                
                  <a
                    href="/categories/os/"
                    class=""
                    >Os
                  </a>
                
              </li>
            
            <li class="mr-4 inline-block">
              <i class="fa-regular fa-clock mr-2"></i>
              September 9, 2025
            </li>
          </ul>
          <div class="content mb-10">
            

 
  

<details open class="table-of-content blog">
  <summary>
    
      Table of Contents
    
  </summary>
  <nav id="TableOfContents">
  <ol>
    <li><a href="#các-bước-tiến-hành">Các bước tiến hành</a>
      <ol>
        <li><a href="#bước-1-cài-đặt-các-công-cụ-cơ-bản-trên-hệ-thống">Bước 1: Cài đặt các công cụ cơ bản trên hệ thống</a></li>
        <li><a href="#bước-2-tạo-môi-trường-phát-triển-riêng-cho-project">Bước 2: Tạo môi trường phát triển riêng cho Project</a></li>
        <li><a href="#bước-3-cấu-hình-intellij-idea">Bước 3: Cấu hình IntelliJ IDEA</a></li>
        <li><a href="#bước-4-tạo-máy-ảo-avd-android-virtual-device">Bước 4: Tạo máy ảo AVD (Android Virtual Device)</a></li>
        <li><a href="#bước-5-khởi-chạy-tạo-máy-ảo-avd">Bước 5: Khởi chạy tạo máy ảo AVD</a></li>
      </ol>
    </li>
  </ol>
</nav>
</details>

            <p>Sử dụng triết lý của Nix ứng dụng trong việc triển khai môi trường lập trình ứng dụng sao cho tối ưu và tốt nhất.</p>
<p>Trong bài viết này, tôi sẽ hướng dẫn các bạn setup môi trường lập trình ứng dụng trên <strong>NixOS bằng IntelliJ IDEA và Nix Flakes</strong> thay vì sử dụng <strong>Android Studio</strong>. Đây là quy trình hiệu quả và phù hợp với triết lý của NixOS</p>
<p><strong>Quá trình này quản lý 2 nguyên tắc cốt lõi của NixOS</strong></p>
<ul>
<li>
<p><strong>Quản lý hệ thống bằng cách khai báo (Declarative System Management):</strong> Mọi package, phần mềm, cấu hình hệ thống được define trong file <code>configuration.nix</code>, giúp hệ thống luôn có thể tái tạo và có tính nhất quán</p>
</li>
<li>
<p><strong>Môi trường phát triển biệt lập (Isolated Development Environments):</strong> Sử dụng <code>nix-shell</code> để tạo ra môi trường chứa chính xác phiên bản của các công cụ đã được define cho từng project mà không làm ảnh hưởng tới hệ thống chính</p>
</li>
</ul>
<h2 id="các-bước-tiến-hành">Các bước tiến hành</h2>
<h3 id="bước-1-cài-đặt-các-công-cụ-cơ-bản-trên-hệ-thống">Bước 1: Cài đặt các công cụ cơ bản trên hệ thống</h3>
<p>Điều đầu tiên, vì sử dụng IntelliJ IDEA nên bắt buộc rằng nó được cài trên hệ thống của bạn và đã bật tính năng <strong>Flakes của NixOS</strong></p>
<ul>
<li>
<p>Mở file cấu hình hệ thống NixOS của bạn</p>
</li>
<li>
<p>Thêm package <code>jetbrains.idea-community</code> hoặc <code>idea-ultimate</code>(nếu có premium) vào danh sách <code>environment.systemPackages</code></p>
</li>
<li>
<p>Trong bước này có thể thêm JDK mặc định nếu muốn, nhưng việc define JDK cho từng project sẽ tốt hơn nếu bạn không muốn cài trên hệ thống chính</p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span><span style="color:#75715e"># .../configuration.nix</span>
</span></span><span style="display:flex;"><span>{ config<span style="color:#f92672">,</span> pkgs<span style="color:#f92672">,</span> <span style="color:#f92672">...</span> }:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Bật tính năng Flakes và nix-command mới </span>
</span></span><span style="display:flex;"><span>  nix<span style="color:#f92672">.</span>settings<span style="color:#f92672">.</span>experimental-features <span style="color:#f92672">=</span> [ <span style="color:#e6db74">&#34;nix-command&#34;</span> <span style="color:#e6db74">&#34;flakes&#34;</span> ];
</span></span><span style="display:flex;"><span>  
</span></span><span style="display:flex;"><span>  environment<span style="color:#f92672">.</span>systemPackages <span style="color:#f92672">=</span> <span style="color:#66d9ef">with</span> pkgs; [
</span></span><span style="display:flex;"><span>    git                        <span style="color:#75715e"># Git để quản lý mã nguồn</span>
</span></span><span style="display:flex;"><span>    jetbrains<span style="color:#f92672">.</span>idea-community   <span style="color:#75715e"># Thêm IntelliJ IDEA vào cấu hình</span>
</span></span><span style="display:flex;"><span>  ];
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># ... các cấu hình khác</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><ul>
<li><strong>Rebuild NixOS</strong> để áp dụng thay đổi: <code>sudo nixos-rebuild switch</code></li>
</ul>
<h3 id="bước-2-tạo-môi-trường-phát-triển-riêng-cho-project">Bước 2: Tạo môi trường phát triển riêng cho Project</h3>
<p>Đây là bước quan trọng nhất và là nơi sức mạnh của nix được thể hiện rõ nhất</p>
<ul>
<li><strong>Tạo thư mục chứa dự án</strong></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>mkdir my-app
</span></span><span style="display:flex;"><span>cd my-app
</span></span></code></pre></div><ul>
<li>Trong folder này, tạo một file là <code>flake.nix</code>. File này là trái tim của môi trường, nó sẽ define tất cả những công cụ cần thiết trong project: JDK, Maven, Gradle, &hellip;</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nix" data-lang="nix"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  description <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Môi trường phát triển Android trên NixOS&#34;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Khai báo các nguồn đầu vào</span>
</span></span><span style="display:flex;"><span>  inputs <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    nixpkgs<span style="color:#f92672">.</span>url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;github:NixOS/nixpkgs/nixos-25.05&#34;</span>;
</span></span><span style="display:flex;"><span>    flake-utils<span style="color:#f92672">.</span>url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;github:numtide/flake-utils&#34;</span>;
</span></span><span style="display:flex;"><span>  };
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># Định nghĩa đầu ra của flake</span>
</span></span><span style="display:flex;"><span>  outputs <span style="color:#f92672">=</span> { self<span style="color:#f92672">,</span> nixpkgs<span style="color:#f92672">,</span> flake-utils }:
</span></span><span style="display:flex;"><span>    flake-utils<span style="color:#f92672">.</span>lib<span style="color:#f92672">.</span>eachDefaultSystem (system:
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">let</span>
</span></span><span style="display:flex;"><span>        pkgs <span style="color:#f92672">=</span> <span style="color:#f92672">import</span> nixpkgs {
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">inherit</span> system;
</span></span><span style="display:flex;"><span>          config <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>            allowUnfree <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>            android_sdk<span style="color:#f92672">.</span>accept_license <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>          };
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Lắp ráp môi trường SDK từ các linh kiện của androidenv</span>
</span></span><span style="display:flex;"><span>        android-sdk-env <span style="color:#f92672">=</span> pkgs<span style="color:#f92672">.</span>androidenv<span style="color:#f92672">.</span>composeAndroidPackages {
</span></span><span style="display:flex;"><span>          platformVersions <span style="color:#f92672">=</span> [ <span style="color:#e6db74">&#34;34&#34;</span> ];           <span style="color:#75715e"># API level</span>
</span></span><span style="display:flex;"><span>          buildToolsVersions <span style="color:#f92672">=</span> [ <span style="color:#e6db74">&#34;34.0.0&#34;</span> ];     <span style="color:#75715e"># Version build-tools</span>
</span></span><span style="display:flex;"><span>          
</span></span><span style="display:flex;"><span>          <span style="color:#75715e"># Máy ảo và CLI (Chú ý nếu muốn thay đổi)</span>
</span></span><span style="display:flex;"><span>          includeEmulator <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>          includeSystemImages <span style="color:#f92672">=</span> <span style="color:#66d9ef">true</span>;
</span></span><span style="display:flex;"><span>          systemImageTypes <span style="color:#f92672">=</span> [ <span style="color:#e6db74">&#34;google_apis&#34;</span> ];  <span style="color:#75715e"># Loại system image</span>
</span></span><span style="display:flex;"><span>          abiVersions <span style="color:#f92672">=</span> [ <span style="color:#e6db74">&#34;x86_64&#34;</span> ];            <span style="color:#75715e"># Architechture</span>
</span></span><span style="display:flex;"><span>          platformToolsVersion <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;34.0.5&#34;</span>;
</span></span><span style="display:flex;"><span>          cmdLineToolsVersion <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;11.0&#34;</span>;
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">in</span>
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Định nghĩa môi trường shell cho lệnh `nix develop`</span>
</span></span><span style="display:flex;"><span>        devShells<span style="color:#f92672">.</span>default <span style="color:#f92672">=</span> pkgs<span style="color:#f92672">.</span>mkShell {
</span></span><span style="display:flex;"><span>          <span style="color:#75715e"># Các gói sẽ có trong môi trường</span>
</span></span><span style="display:flex;"><span>          buildInputs <span style="color:#f92672">=</span> [
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Môi trường SDK đã lắp ráp ở trên</span>
</span></span><span style="display:flex;"><span>            android-sdk-env<span style="color:#f92672">.</span>androidsdk
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># pkgs.qt6.qtwayland # Nếu sử dụng wayland</span>
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Java Development Kit</span>
</span></span><span style="display:flex;"><span>            pkgs<span style="color:#f92672">.</span>jdk
</span></span><span style="display:flex;"><span>            pkgs<span style="color:#f92672">.</span>gradle
</span></span><span style="display:flex;"><span>            
</span></span><span style="display:flex;"><span>            <span style="color:#75715e"># Build configuration language</span>
</span></span><span style="display:flex;"><span>            pkgs<span style="color:#f92672">.</span>groovy             
</span></span><span style="display:flex;"><span>          ];
</span></span><span style="display:flex;"><span>          <span style="color:#75715e"># Thiết lập biến môi trường để IntelliJ/Gradle tự tìm thấy SDK</span>
</span></span><span style="display:flex;"><span>          shellHook <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            export ANDROID_SDK_ROOT=&#34;</span><span style="color:#e6db74">${</span>android-sdk-env<span style="color:#f92672">.</span>androidsdk<span style="color:#e6db74">}</span><span style="color:#e6db74">/libexec/android-sdk&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            export ANDROID_HOME=&#34;$ANDROID_SDK_ROOT&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            export PATH=&#34;$ANDROID_SDK_ROOT/cmdline-tools/latest/bin:$ANDROID_SDK_ROOT/platform-tools:$ANDROID_SDK_ROOT/emulator:$PATH&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">			export QT_QPA_PLATFORM=xcb
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">            echo &#34;✅ Môi trường Android đã sẵn sàng.&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">          &#39;&#39;</span>;
</span></span><span style="display:flex;"><span>        };
</span></span><span style="display:flex;"><span>      });
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><blockquote>
<p><strong>Lưu ý:</strong> Có thể thay đổi các version máy ảo Android cho phù hợp, tuy nhiên các công cần sử dụng đúng version để có thể hoạt động được với nhau (platformVersions, buildToolsVersions , platformToolsVersion)</p></blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nix develop
</span></span></code></pre></div><ul>
<li>Lần đầu chạy, Nix sẽ install tất cả các công cụ được define</li>
</ul>
<blockquote>
<p><strong>Nguyên lý hoạt động:</strong> <code>flake.nix</code> định nghĩa chính xác những công cụ nào (JDK 17, Android SDK Platform 34, Build Tools 34.0.0, Emulator&hellip;) cần cho dự án. Lệnh <code>nix develop</code> đọc file này và tạo ra một shell tạm thời chứa đầy đủ và duy nhất các công cụ đó, cùng với các biến môi trường đã được cấu hình sẵn.</p></blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>➜ nix develop
</span></span><span style="display:flex;"><span>✅ Môi trường Android đã sẵn sàng.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>nagih@nixos:~/Workspaces/noob/app/my-app<span style="color:#f92672">]</span>$ 
</span></span></code></pre></div><h3 id="bước-3-cấu-hình-intellij-idea">Bước 3: Cấu hình IntelliJ IDEA</h3>
<p>Bây giờ, ta sẽ khởi động IntelliJ IDEA bên trong môi trường Nix để có thể nhận diện được tất cả công cụ</p>
<ul>
<li><strong>Khởi động IntelliJ:</strong> Từ terminal, gõ lệnh</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>idea-community .
</span></span></code></pre></div><ul>
<li><strong>Cài đặt Plugin Android mới</strong>: Nếu đây là lần đầu sử dụng IntelliJ cho Android, hãy vào <code>Plugins</code> -&gt; <code>Marketplace</code>, Tìm kiếm <code>Android</code> và cài đặt</li>
</ul>
<p><img src="/images/Pasted%20image%2020250909150919.png" alt="Image Description"></p>
<blockquote>
<p>Mỗi version IntelliJ sẽ có giao diện khác nhau nhưng cách thức hoạt động vẫn vậy nên đừng lo lắng nếu không giao diện không giống như mô tả nhé.</p></blockquote>
<ul>
<li>
<p><strong>Tạo dự án mới</strong></p>
<ul>
<li>
<p>Trong IntelliJ, vào <code>Projects</code> -&gt; <code>New Project</code></p>
</li>
<li>
<p>Chọn <code>Android</code> từ danh sách <code>Generators</code> bên trái</p>
</li>
<li>
<p>Chọn template, ví dụ <code>Empty Views Activity</code> và nhấn next</p>
<p><img src="/images/Pasted%20image%2020250909151418.png" alt="Image Description"></p>
</li>
<li>
<p>Điền thông tin project</p>
</li>
<li>
<p><strong>Quan trọng:</strong> Ở mục <code>Build configuration language</code> cần phù hợp với language đã được khai báo trong <code>flake.nix</code> (<code>kotlin</code> / <code>groovy</code>)</p>
<p><img src="/images/Pasted%20image%2020250909152633.png" alt="Image Description"></p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Nguyên lý hoạt động:</strong> Khi khởi chạy từ <code>nix develop</code>, IntelliJ kế thừa tất cả các biến môi trường, bao gồm <code>PATH</code> và <code>ANDROID_SDK_ROOT</code>. Nhờ vậy, nó tự động biết JDK và Android SDK nằm ở đâu trong <code>/nix/store</code> mà không cần bạn phải cấu hình thủ công.</p></blockquote>
<h3 id="bước-4-tạo-máy-ảo-avd-android-virtual-device">Bước 4: Tạo máy ảo AVD (Android Virtual Device)</h3>
<blockquote>
<p>Thông thường, AVD (Android Virtual Devices) sẽ được install thông qua <code>sdkmanager</code>.
Tuy nhiên, do sự bất biến trong Nix Store, môi trường <code>nix-shell</code> được build từ các gói trong <code>/nix/store</code>, một thư mục chỉ <code>read-only</code>, <code>sdkmanager</code> được thiết kế để tải về và giải nén system image, platform-tools,&hellip; vào trong 1 thư mục SDK duy nhất và có thể bị ghi đè nên <code>sdkmanager</code> không thể sử dụng vì không có quyền ghi. Vì vậy nên trong <code>flake.nix</code> define system image. Dưới đây là minh họa khi sử dụng trực tiếp <code>sdkmanager</code></p></blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[</span>nagih@nixos:~/Workspaces/noob/app/my-app<span style="color:#f92672">]</span>$ sdkmanager <span style="color:#e6db74">&#34;system-images;android-34;google_apis;x86_64&#34;</span> 
</span></span><span style="display:flex;"><span>Warning: Failed to read or create install properties file.                      
</span></span><span style="display:flex;"><span><span style="color:#f92672">[===</span>                                    <span style="color:#f92672">]</span> 10% Installing Google APIs Intel x86_6
</span></span></code></pre></div><ul>
<li>
<p><strong>Close hoàn toàn IntelliJ IDEA</strong></p>
</li>
<li>
<p>Xác minh công cụ <code>emulator</code> và <code>avdmanager</code> có tồn tại trong môi trường hay không</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>which emulator
</span></span><span style="display:flex;"><span>which avdmanager
</span></span></code></pre></div><ul>
<li>
<p>Nếu kết quả có các đường dẫn trỏ tới <code>/nix/store/...</code> cho cả 2 lệnh thì xin chúc mừng</p>
</li>
<li>
<p>Nếu không thấy kết quả -&gt; Điều này có nghĩa là <code>flake.nix</code> của bạn đang có vấn đề, hoặc có thể bạn chưa truy cập và <code>nix develop</code></p>
</li>
</ul>
</li>
<li>
<p><strong>Create máy ảo (AVD)</strong> thông qua <code>andmanager</code></p>
</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>avdmanager create avd --name <span style="color:#e6db74">&#34;TestAVD&#34;</span> --package <span style="color:#e6db74">&#34;system-images;android-34;google_apis;x86_64&#34;</span>
</span></span></code></pre></div><blockquote>
<p><strong>Lưu ý:</strong> <code>--package &quot;system-images;android-34;google_apis;x86_64&quot;</code>  package cần được match với package đã được define trong <code>flake.nix</code></p></blockquote>
<h3 id="bước-5-khởi-chạy-tạo-máy-ảo-avd">Bước 5: Khởi chạy tạo máy ảo AVD</h3>
<ul>
<li>Khởi động lại IntelliJ IDEA trong môi trường <code>nix-shell</code></li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>idea-community .
</span></span></code></pre></div><ul>
<li>
<p><strong>Open project</strong> mà khi nãy đã tạo (nếu đã bị thoát ra)</p>
<ul>
<li>
<p>Lúc này bạn sẽ nhìn thấy máy ảo AVD trong phần <strong>devices</strong></p>
<p><img src="/images/Pasted%20image%2020250909203943.png" alt="Image Description"></p>
</li>
<li>
<p>Tuy nhiên, bạn có thể thấy xuất hiện dấu <code>!</code>, điều này là bình thường vì chưa run AVD</p>
</li>
</ul>
</li>
<li>
<p><strong>Khởi chạy máy ảo AVD</strong></p>
<ul>
<li>
<p>Open <code>terminal</code> bên trong IntelliJ IDEA</p>
</li>
<li>
<p><strong>Run command</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>emulator -avd <span style="color:#f92672">[</span>avd-name<span style="color:#f92672">]</span> &amp;
</span></span></code></pre></div><ul>
<li>
<p>Lúc này sẽ xuất hiện cửa sổ AVD đồng thời máy ảo AVD trong phần <strong>Devices</strong> sẽ mất dấu <code>!</code></p>
<p><img src="/images/Pasted%20image%2020250909204618.png" alt="Image Description"></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>Tới đây là đã xong, bạn chỉ cần run project là sẽ nhìn thấy dòng chữ <code>Hello World!</code> bên trong cửa sổ máy ảo.</p>
          </div>
          <div class="row items-start justify-between">
            
            
              <div class="lg:col-6 mb-10 flex items-center lg:mb-0">
                <h5 class="mr-3">Tags :</h5>
                <ul>
                  
                    <li class="inline-block">
                      <a
                        class="bg-light hover:bg-primary dark:bg-darkmode-light dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded px-3 py-1 hover:text-white"
                        href="/tags/app/">
                        App
                      </a>
                    </li>
                  
                    <li class="inline-block">
                      <a
                        class="bg-light hover:bg-primary dark:bg-darkmode-light dark:hover:bg-darkmode-primary dark:hover:text-text-dark m-1 block rounded px-3 py-1 hover:text-white"
                        href="/tags/nixos/">
                        Nix os
                      </a>
                    </li>
                  
                </ul>
              </div>
            
            <div class="lg:col-6 flex items-center lg:justify-end">
              <h5>Share :</h5>
              


















<div class="share-icons">
  
  
    <a
      class="share-link share-facebook"
      href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.nagih.io.vn%2fblog%2fenvironment%2fapp-development%2f"
      target="_blank"
      rel="noopener"
      aria-label="share facebook">
      <span class="share-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M18.77 7.46H14.5v-1.9c0-.9.6-1.1 1-1.1h3V.5h-4.33C10.24.5 9.5 3.44 9.5 5.32v2.15h-3v4h3v12h5v-12h3.85l.42-4z" />
        </svg>
      </span>
    </a>
  


  
  
    <a
      class="share-link share-x"
      href="https://x.com/intent/tweet/?text=H%c6%b0%e1%bb%9bng%20d%e1%ba%abn%20setup%20m%c3%b4i%20tr%c6%b0%e1%bb%9dng%20App%20Development%20tr%c3%aan%20nixos%20best%20practice&amp;url=https%3a%2f%2fblog.nagih.io.vn%2fblog%2fenvironment%2fapp-development%2f"
      target="_blank"
      rel="noopener"
      aria-label="share x">
      <span aria-hidden="true" class="share-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M8 2H1l8.26 11.015L1.45 22H4.1l6.388-7.349L16 22h7l-8.608-11.478L21.8 2h-2.65l-5.986 6.886zm9 18L5 4h2l12 16z" />
        </svg>
      </span>
    </a>
  


  
  
    <a
      class="share-link share-email"
      href="mailto:?subject=H%c6%b0%e1%bb%9bng%20d%e1%ba%abn%20setup%20m%c3%b4i%20tr%c6%b0%e1%bb%9dng%20App%20Development%20tr%c3%aan%20nixos%20best%20practice&amp;body=https%3a%2f%2fblog.nagih.io.vn%2fblog%2fenvironment%2fapp-development%2f"
      target="_self"
      rel="noopener"
      aria-label="share email">
      <span aria-hidden="true" class="share-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M22 4H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7.25 14.43l-3.5 2c-.08.05-.17.07-.25.07-.17 0-.34-.1-.43-.25-.14-.24-.06-.55.18-.68l3.5-2c.24-.14.55-.06.68.18.14.24.06.55-.18.68zm4.75.07c-.1 0-.2-.03-.27-.08l-8.5-5.5c-.23-.15-.3-.46-.15-.7.15-.22.46-.3.7-.14L12 13.4l8.23-5.32c.23-.15.54-.08.7.15.14.23.07.54-.16.7l-8.5 5.5c-.08.04-.17.07-.27.07zm8.93 1.75c-.1.16-.26.25-.43.25-.08 0-.17-.02-.25-.07l-3.5-2c-.24-.13-.32-.44-.18-.68s.44-.32.68-.18l3.5 2c.24.13.32.44.18.68z" />
        </svg>
      </span>
    </a>
  


  
  


  
  


  
  


  
  


  
  


  
  


  
  


  
  
    <span class="fediverse-share">
      <a
        class="share-link share-fediverse"
        href="javascript:void(0);"
        onclick="toggleFediverseInput(this)"
        aria-label="share fediverse">
        <span aria-hidden="true" class="share-icon">
          <svg
            viewBox="-10 -5 1034 1034"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            version="1.1">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g
              id="SVGRepo_tracerCarrier"
              stroke-linecap="round"
              stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
              <path
                d="M539 176q-32 0 -55 22t-25 55t20.5 58t56 27t58.5 -20.5t27 -56t-20.5 -59t-56.5 -26.5h-5zM452 271l-232 118q20 20 25 48l231 -118q-19 -20 -24 -48zM619 298q-13 25 -38 38l183 184q13 -25 39 -38zM477 320l-135 265l40 40l143 -280q-28 -5 -48 -25zM581 336 q-22 11 -46 10l-8 -1l21 132l56 9zM155 370q-32 0 -55 22.5t-25 55t20.5 58t56.5 27t59 -21t26.5 -56t-21 -58.5t-55.5 -27h-6zM245 438q1 9 1 18q-1 19 -10 35l132 21l26 -50zM470 474l-26 51l311 49q-1 -8 -1 -17q1 -19 10 -36zM842 480q-32 1 -55 23t-24.5 55t21 58 t56 27t58.5 -20.5t27 -56.5t-20.5 -59t-56.5 -27h-6zM236 493q-13 25 -39 38l210 210l51 -25zM196 531q-21 11 -44 10l-9 -1l40 256q21 -10 45 -9l8 1zM560 553l48 311q21 -10 44 -9l10 1l-46 -294zM755 576l-118 60l8 56l135 -68q-20 -20 -25 -48zM781 625l-119 231 q28 5 48 25l119 -231q-28 -5 -48 -25zM306 654l-68 134q28 5 48 25l60 -119zM568 671l-281 143q19 20 24 48l265 -135zM513 771l-51 25l106 107q13 -25 39 -38zM222 795q-32 0 -55.5 22.5t-25 55t21 57.5t56 27t58.5 -20.5t27 -56t-20.5 -58.5t-56.5 -27h-5zM311 863 q2 9 1 18q-1 19 -9 35l256 41q-1 -9 -1 -18q1 -18 10 -35zM646 863q-32 0 -55 22.5t-24.5 55t20.5 58t56 27t59 -21t27 -56t-20.5 -58.5t-56.5 -27h-6z"></path>
            </g>
          </svg>
        </span>
      </a>
      <span class="fediverse-input-wrapper" style="display: none;">
        <input
          type="text"
          placeholder="Enter Fediverse Instance URL"
          class="fediverse-input"
          onkeypress="handleFediverseShare(event, 'https:\/\/blog.nagih.io.vn\/blog\/environment\/app-development\/', 'Hướng dẫn setup môi trường App Development trên nixos best practice')" />
        <button
          class="fediverse-check-button"
          onclick="handleFediverseShareButton(this, 'https:\/\/blog.nagih.io.vn\/blog\/environment\/app-development\/', 'Hướng dẫn setup môi trường App Development trên nixos best practice')">
          Share
        </button>
      </span>
    </span>
  


  
  
    <button
      class="share-link share-copy"
      onclick="copyToClipboard(this, 'https:\/\/blog.nagih.io.vn\/blog\/environment\/app-development\/')">
      <span class="share-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path
            d="M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-1c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 17H5V5h14v14z" />
        </svg>
      </span>
    </button>
  

</div>

<script>
  
  function toggleFediverseInput(element) {
    const container = element.closest(".fediverse-share");
    const inputContainer = container.querySelector(".fediverse-input-wrapper");
    inputContainer.style.display =
      inputContainer.style.display === "none" ? "block" : "none";
  }

  
  function handleFediverseShare(event, url, title) {
    if (event.key === "Enter") {
      const input = event.target;
      let instanceUrl = input.value.trim();
      if (instanceUrl) {
        if (!instanceUrl.startsWith("https://")) {
          instanceUrl = `https://${instanceUrl}`;
        }
        const shareUrl = `${instanceUrl}/share?text=${encodeURIComponent(title)}&url=${encodeURIComponent(url)}`;
        window.open(shareUrl, "_blank", "noopener");
      }
    }
  }

  
  function handleFediverseShareButton(button, url, title) {
    const input = button.previousElementSibling;
    let instanceUrl = input.value.trim();
    if (instanceUrl) {
      if (!instanceUrl.startsWith("https://")) {
        instanceUrl = `https://${instanceUrl}`;
      }
      const shareUrl = `${instanceUrl}/share?text=${encodeURIComponent(title)}&url=${encodeURIComponent(url)}`;
      window.open(shareUrl, "_blank", "noopener");
    }
  }

  
  function copyToClipboard(button, text) {
    navigator.clipboard.writeText(text).then(() => {
      const icon = button.querySelector("svg path");
      const originalIconPath =
        "M19 3h-4.18C14.4 1.84 13.3 1 12 1s-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7-1c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 17H5V5h14v14z";
      const checkIconPath =
        "M9 16.2l-3.5-3.5-1.4 1.4L9 19 20 8l-1.4-1.4L9 16.2z";

      
      icon.setAttribute("d", checkIconPath);

      
      setTimeout(() => {
        icon.setAttribute("d", originalIconPath);
      }, 1000);
    });
  }
</script>

            </div>
          </div>
          
          
            <div class="mt-20">
              <div id="disqus_thread"></div>
<script>
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "themefisher-template" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
            </div>
          
        </article>
      </div>

      
      
      
      
    </div>
  </section>

    </main>

    
    <footer class="bg-light dark:bg-darkmode-light">
  <div class="container">
    <div class="row items-center py-10">
      <div class="lg:col-3 mb-8 text-center lg:mb-0 lg:text-left">
        
        <a
          class="navbar-brand inline-block"
          href="/">
          






















  
  Nagih&#39;s Blog


        </a>
      </div>
      <div class="lg:col-6 mb-8 text-center lg:mb-0">
        <ul>
          
            <li class="m-3 inline-block">
              <a
                
                href="
                  /about
                "
                >About</a
              >
            </li>
          
            <li class="m-3 inline-block">
              <a
                
                href="
                  /privacy-policy
                "
                >Privacy Policy</a
              >
            </li>
          
        </ul>
      </div>
      <div class="lg:col-3 mb-8 text-center lg:mb-0 lg:mt-0 lg:text-right">
        <ul class="social-icons">
          
            <li>
              <a
                target="_blank"
                aria-label="facebook"
                rel="nofollow noopener"
                href="https://www.facebook.com/vmn.isme">
                <i class="fab fa-facebook"></i>
              </a>
            </li>
          
            <li>
              <a
                target="_blank"
                aria-label="twitter"
                rel="nofollow noopener"
                href="https://twitter.com/nagihdayo">
                <i class="fab fa-twitter"></i>
              </a>
            </li>
          
            <li>
              <a
                target="_blank"
                aria-label="github"
                rel="nofollow noopener"
                href="https://www.github.com/vuongmanhnghia">
                <i class="fab fa-github"></i>
              </a>
            </li>
          
            <li>
              <a
                target="_blank"
                aria-label="linkedin"
                rel="nofollow noopener"
                href="https://www.linkedin.com/in/vuongmanhnghia">
                <i class="fab fa-linkedin"></i>
              </a>
            </li>
          
        </ul>
      </div>
    </div>
  </div>
  <div class="border-border dark:border-darkmode-border border-t py-7">
    <div
      class="text-text-light dark:text-darkmode-text-light container text-center">
      <p>
        Developed by <a href="https://nagih.io.vn"




 target="_blank"
 


>Nagih</a>
      </p>
    </div>
  </div>
</footer>



    
    



  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  

  
    
      
    
  










  
  



<script
  crossorigin="anonymous"
  integrity="sha256-LO9JECYLqyMcpGlrtxZcpUn0I8AvhO6oIIibJZv4zbk="
  src="/js/script.min.2cef4910260bab231ca4696bb7165ca549f423c02f84eea820889b259bf8cdb9.js"></script>


<script
  defer
  async
  crossorigin="anonymous"
  integrity="sha256-5VBZe/VmPQWXcchTWy6cUTaJdnltCLjAbCqDnX&#43;XWoQ="
  src="/js/script-lazy.min.e550597bf5663d059771c8535b2e9c51368976796d08b8c06c2a839d7f975a84.js"></script>



<script>
  if ('serviceWorker' in navigator){navigator.serviceWorker.register("/service-worker.js");}
</script>






  












  



  </body>
</html>
