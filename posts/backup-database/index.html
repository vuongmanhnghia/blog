<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Kĩ thuật backup dữ liệu Database định kỳ | Nagih | Blog</title>
<meta name=keywords content="backup"><meta name=description content="Kỹ thuật backup database định kỳ là một kỹ năng cực kỳ quan trọng đối với bất kỳ ai làm DevOps. Một chiến lược backup tốt sẽ giúp bạn cứu sống cả hệ thống khi có sự cố."><meta name=author content="Nagih"><link rel=canonical href=https://blog.nagih.io.vn/posts/backup-database/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.08f7d74f0ada0f975d29ae436285b61ed7a719d05f350cb888d00341642995a2.css integrity="sha256-CPfXTwraD5ddKa5DYoW2HtenGdBfNQy4iNADQWQplaI=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.nagih.io.vn/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://blog.nagih.io.vn/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://blog.nagih.io.vn/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://blog.nagih.io.vn/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://blog.nagih.io.vn/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.nagih.io.vn/posts/backup-database/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://blog.nagih.io.vn/posts/backup-database/"><meta property="og:site_name" content="Nagih | Blog"><meta property="og:title" content="Kĩ thuật backup dữ liệu Database định kỳ"><meta property="og:description" content="Kỹ thuật backup database định kỳ là một kỹ năng cực kỳ quan trọng đối với bất kỳ ai làm DevOps. Một chiến lược backup tốt sẽ giúp bạn cứu sống cả hệ thống khi có sự cố."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-10-19T00:00:00+00:00"><meta property="article:modified_time" content="2025-10-19T00:00:00+00:00"><meta property="article:tag" content="Backup"><meta property="og:image" content="https://blog.nagih.io.vn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.nagih.io.vn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Kĩ thuật backup dữ liệu Database định kỳ"><meta name=twitter:description content="Kỹ thuật backup database định kỳ là một kỹ năng cực kỳ quan trọng đối với bất kỳ ai làm DevOps. Một chiến lược backup tốt sẽ giúp bạn cứu sống cả hệ thống khi có sự cố."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.nagih.io.vn/posts/"},{"@type":"ListItem","position":2,"name":"Kĩ thuật backup dữ liệu Database định kỳ","item":"https://blog.nagih.io.vn/posts/backup-database/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Kĩ thuật backup dữ liệu Database định kỳ","name":"Kĩ thuật backup dữ liệu Database định kỳ","description":"Kỹ thuật backup database định kỳ là một kỹ năng cực kỳ quan trọng đối với bất kỳ ai làm DevOps. Một chiến lược backup tốt sẽ giúp bạn cứu sống cả hệ thống khi có sự cố.\n","keywords":["backup"],"articleBody":"Kỹ thuật backup database định kỳ là một kỹ năng cực kỳ quan trọng đối với bất kỳ ai làm DevOps. Một chiến lược backup tốt sẽ giúp bạn cứu sống cả hệ thống khi có sự cố.\nI. Các Nguyên Tắc Vàng 1. RPO \u0026 RTO RPO (Recovery Point Objective): Lượng dữ liệu tối đa chấp nhận mất. RTO là 1h có nghĩa là nếu hệ thống sập, bạn có thể khôi phục trạng thái của nó cách đây 1h. Hay có thể được gọi là Tần suất backup\nRTO (Recovery Time Objective): Thời gian tối đa để hệ thống hoạt động trở lại sau sự cố. Quyết định Tốc độ và Mức độ tự động hóa\n2. Backup Types Full Backup: Sao lưu toàn bộ database. Đơn giản để khôi phục nhưng tốn tài nguyên và thời gian\nDifferential Backup: Backup những gì thay đổi của lần Full Backup cuối cùng\nIncremential Backup: Backup những gì thay đổi từ lần backup gần nhất. Tốc độ nhất nhưng cũng phức tạp nhất\n3. Quy Tắc 3-2-1 3 Bản copies: Luôn có 3 bản backup dữ liệu\n2 Loại Media: Lưu trữ trên ít nhất 2 thiết bị lưu trữ khác nhau\n1 Bản off-site: Giữ ít nhất 1 bản sao ở địa điểm vật lý khác\n4. Bảo mật và Mã hóa Luôn mã hóa file backup, cả khi đang truyền đi (in-transit) và khi đã lưu trữ (at-rest).\nQuản lý chặt chẽ quyền truy cập vào các file backup.\n5. Quan trọng nhất: KIỂM TRA RESTORE! Một bản backup chưa được kiểm tra khôi phục thành công thì không được coi là một bản backup.\nHãy lên lịch kiểm tra restore định kỳ (ví dụ: hàng quý) trên một môi trường staging để đảm bảo các file backup của bạn thực sự hoạt động.\nII. Kỹ Thuật 1. Cron Job \u0026 Shell Script Bước 1: Viết Shell Script backup (backup.sh)\n#!/bin/bash # --- Cấu hình --- # Thông tin kết nối Database DB_USER=\"your_db_user\" DB_PASSWORD=\"your_db_password\" DB_HOST=\"localhost\" DB_NAME=\"your_db_name\" # Thư mục lưu trữ backup trên server BACKUP_DIR=\"/path/to/your/backups\" # --- Logic Backup --- # Tạo thư mục backup nếu chưa tồn tại mkdir -p ${BACKUP_DIR} # Tạo tên file backup với định dạng ngày-tháng-năm DATE=$(date +%Y-%m-%d_%H-%M-%S) FILE_NAME=\"${DB_NAME}_${DATE}.sql.gz\" BACKUP_FILE=\"${BACKUP_DIR}/${FILE_NAME}\" # Đặt biến môi trường để pg_dump không hỏi mật khẩu export PGPASSWORD=${DB_PASSWORD} # Thực hiện backup bằng pg_dump, nén bằng gzip và lưu vào file # -U: user, -h: host, -d: database name # | gzip \u003e : pipe output của pg_dump vào gzip để nén echo \"Dang bat dau backup database: ${DB_NAME}...\" pg_dump -U ${DB_USER} -h ${DB_HOST} -d ${DB_NAME} | gzip \u003e ${BACKUP_FILE} # Xóa biến môi trường PGPASSWORD để bảo mật unset PGPASSWORD # Kiểm tra xem backup có thành công không if [ $? -eq 0 ]; then echo \"Backup thanh cong: ${BACKUP_FILE}\" else echo \"Backup that bai!\" exit 1 fi # Xóa các file backup cũ hơn 7 ngày echo \"Xoa cac file backup cu hon 7 ngay...\" find ${BACKUP_DIR} -type f -name \"*.sql.gz\" -mtime +7 -delete echo \"Hoan tat.\" Bước 2: Cấp quyền thực thi cho script\nchmod +x backup.sh Bước 3: Lên lịch auto run với Cron\nMở crontab để chỉnh sửa\ncrontab -e Thêm dòng sau vào cuối file để chạy script vào lúc 2 giờ sáng mỗi ngày\n# Chạy backup vào 2:00 AM hàng ngày 0 2 * * * /path/to/your/backup.sh \u003e\u003e /path/to/your/logs/backup.log 2\u003e\u00261 0 2 * * * : Cú pháp cron cho “0 phút, 2 giờ, mỗi ngày, mỗi tháng, mỗi ngày trong tuần”.\n» /path/to/your/logs/backup.log 2\u003e\u00261: Ghi lại output (cả standard output và error) vào một file log để bạn có thể kiểm tra lại.\n2. Backup Database trong Docker Giả sử bạn có một container PostgreSQL đang chạy tên là my_postgres_container\nCách 1: Dùng docker exec và Cron trên máy Host\nScript backup_docker.sh sẽ được sửa lại một chút:\n#!/bin/bash # --- Cấu hình --- CONTAINER_NAME=\"my_postgres_container\" DB_USER=\"your_db_user\" DB_NAME=\"your_db_name\" BACKUP_DIR=\"/path/on/host/to/backups\" # Thư mục trên máy host # --- Logic Backup --- mkdir -p ${BACKUP_DIR} DATE=$(date +%Y-%m-%d_%H-%M-%S) FILE_NAME=\"${DB_NAME}_${DATE}.sql.gz\" BACKUP_FILE=\"${BACKUP_DIR}/${FILE_NAME}\" echo \"Dang bat dau backup database từ container: ${CONTAINER_NAME}...\" # Dùng 'docker exec' để chạy pg_dump BÊN TRONG container # Output sẽ được chuyển ra máy host và nén lại docker exec ${CONTAINER_NAME} pg_dump -U ${DB_USER} -d ${DB_NAME} | gzip \u003e ${BACKUP_FILE} # ...(Phần kiểm tra và xóa file cũ tương tự như script trước) ... # Xóa biến môi trường PGPASSWORD để bảo mật unset PGPASSWORD # Kiểm tra xem backup có thành công không if [ $? -eq 0 ]; then echo \"Backup thanh cong: ${BACKUP_FILE}\" else echo \"Backup that bai!\" exit 1 fi # Xóa các file backup cũ hơn 7 ngày echo \"Xoa cac file backup cu hon 7 ngay...\" find ${BACKUP_DIR} -type f -name \"*.sql.gz\" -mtime +7 -delete echo \"Hoan tat.\" Sau đó, bạn cũng dùng cron trên máy host để chạy script backup_docker.sh này.\nCách 2: Dùng một Sidecar Container\nĐây là một pattern nâng cao và rất phổ biến trong Kubernetes. Ý tưởng là bạn sẽ chạy một container riêng biệt chỉ để làm nhiệm vụ backup.\nTrong docker-compose.yml có thể định nghĩa một service backup:\nservices: db: image: postgres:13 container_name: my_postgres_container environment: - POSTGRES_USER=your_db_user - POSTGRES_PASSWORD=your_db_password - POSTGRES_DB=your_db_name volumes: - postgres_data:/var/lib/postgresql/data # Service này không chạy liên tục, chỉ chạy khi được gọi backup: image: postgres:13 # Dùng cùng image để có sẵn pg_dump depends_on: - db volumes: - ./backups:/backups # Gắn thư mục backups của host vào container environment: - PGPASSWORD=your_db_password # Lệnh sẽ chạy khi container này được khởi động command: \u003e bash -c \" pg_dump -h db -U your_db_user -d your_db_name | gzip \u003e /backups/backup_$(date +%Y-%m-%d_%H-%M-%S).sql.gz \" volumes: postgres_data: Chạy backup\ndocker-compose run --rm backup Bạn có thể kết hợp lệnh này với cron trên máy host để tự động hóa.\nIII. Tích hợp với Cloud (DevOps Workflow hoàn chỉnh) Một quy trình DevOps thực thụ sẽ không dừng lại ở việc lưu file backup trên cùng một server.\nWorkflow nâng cao:\nTạo file backup: Sử dụng một trong các kỹ thuật trên để tạo file .sql.gz.\nTải lên Cloud Storage: Dùng các công cụ command-line của nhà cung cấp cloud để đẩy file backup lên một nơi an toàn.\nAWS S3: aws s3 cp /path/to/backup.sql.gz s3://your-backup-bucket/\nGoogle Cloud Storage: gsutil cp /path/to/backup.sql.gz gs://your-backup-bucket/\nAzure Blob Storage: az storage blob upload –file /path/to/backup.sql.gz –container-name your-container –name backup.sql.gz\nXóa file backup local: Sau khi đã tải lên cloud thành công, bạn có thể xóa file trên server để tiết kiệm dung lượng.\nThiết lập Lifecycle Rules: Cấu hình trên Cloud Storage để tự động xóa các bản backup cũ (ví dụ: chuyển sang lớp lưu trữ rẻ hơn sau 30 ngày và xóa hẳn sau 90 ngày).\nGiám sát và Cảnh báo (Monitoring \u0026 Alerting):\nSử dụng các công cụ như Prometheus, Healthchecks.io, hoặc đơn giản là gửi email/thông báo Slack khi script backup chạy thành công hoặc thất bại. Tự động hóa việc Restore: Viết script để tự động tải về bản backup mới nhất từ cloud và restore vào một môi trường staging. Chạy script này định kỳ (ví dụ: hàng tuần) để đảm bảo 100% rằng backup của bạn hoạt động.\nVí dụ script tích hợp AWS S3:\n# ... (Phần tạo backup như trên) ... # Kiểm tra backup thành công if [ $? -eq 0 ]; then echo \"Backup thanh cong: ${BACKUP_FILE}\" # Tải lên S3 echo \"Tai file backup len AWS S3...\" aws s3 cp ${BACKUP_FILE} s3://your-s3-bucket/database/ if [ $? -eq 0 ]; then echo \"Tai len S3 thanh cong. Xoa file local.\" rm ${BACKUP_FILE} else echo \"Tai len S3 that bai!\" fi else echo \"Backup failed!\" # Gửi cảnh báo đến Slack/Email ở đây exit 1 fi # ... (Phần xóa backup cũ trên S3 có thể dùng lifecycle rules) ... ","wordCount":"1306","inLanguage":"en","image":"https://blog.nagih.io.vn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2025-10-19T00:00:00Z","dateModified":"2025-10-19T00:00:00Z","author":{"@type":"Person","name":"Nagih"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.nagih.io.vn/posts/backup-database/"},"publisher":{"@type":"Organization","name":"Nagih | Blog","logo":{"@type":"ImageObject","url":"https://blog.nagih.io.vn/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.nagih.io.vn/ accesskey=h title="Home (Alt + H)"><img src=https://blog.nagih.io.vn/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.nagih.io.vn/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://blog.nagih.io.vn/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://blog.nagih.io.vn/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://blog.nagih.io.vn/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://nagih.io.vn title=Home><span>Home</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.nagih.io.vn/>Home</a>&nbsp;»&nbsp;<a href=https://blog.nagih.io.vn/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Kĩ thuật backup dữ liệu Database định kỳ</h1><div class=post-meta><span title='2025-10-19 00:00:00 +0000 UTC'>October 19, 2025</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;1306 words&nbsp;·&nbsp;Nagih&nbsp;|&nbsp;<a href=https://github.com/vuongmanhnghia/posts/content/posts/database/Backup%20Database.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#i-các-nguyên-tắc-vàng>I. Các Nguyên Tắc Vàng</a><ul><li><a href=#1-rpo--rto>1. RPO & RTO</a></li><li><a href=#2-backup-types>2. Backup Types</a></li><li><a href=#3-quy-tắc-3-2-1>3. Quy Tắc 3-2-1</a></li><li><a href=#4-bảo-mật-và-mã-hóa>4. Bảo mật và Mã hóa</a></li><li><a href=#5-quan-trọng-nhất-kiểm-tra-restore>5. Quan trọng nhất: KIỂM TRA RESTORE!</a></li></ul></li><li><a href=#ii-kỹ-thuật>II. Kỹ Thuật</a><ul><li><a href=#1-cron-job--shell-script>1. Cron Job & Shell Script</a></li><li><a href=#2-backup-database-trong-docker>2. Backup Database trong Docker</a></li></ul></li><li><a href=#iii-tích-hợp-với-cloud-devops-workflow-hoàn-chỉnh>III. Tích hợp với Cloud (DevOps Workflow hoàn chỉnh)</a></li></ul></nav></div></details></div><div class=post-content><p>Kỹ thuật backup database định kỳ là một kỹ năng cực kỳ quan trọng đối với bất kỳ ai làm DevOps. Một chiến lược backup tốt sẽ giúp bạn cứu sống cả hệ thống khi có sự cố.</p><hr><h2 id=i-các-nguyên-tắc-vàng>I. Các Nguyên Tắc Vàng<a hidden class=anchor aria-hidden=true href=#i-các-nguyên-tắc-vàng>#</a></h2><h3 id=1-rpo--rto>1. RPO & RTO<a hidden class=anchor aria-hidden=true href=#1-rpo--rto>#</a></h3><ul><li><p><strong>RPO (Recovery Point Objective):</strong> Lượng dữ liệu tối đa chấp nhận mất. RTO là 1h có nghĩa là nếu hệ thống sập, bạn có thể khôi phục trạng thái của nó cách đây 1h. Hay có thể được gọi là <strong>Tần suất backup</strong></p></li><li><p><strong>RTO (Recovery Time Objective):</strong> Thời gian tối đa để hệ thống hoạt động trở lại sau sự cố. Quyết định <strong>Tốc độ</strong> và <strong>Mức độ</strong> tự động hóa</p></li></ul><h3 id=2-backup-types>2. Backup Types<a hidden class=anchor aria-hidden=true href=#2-backup-types>#</a></h3><ul><li><p><strong>Full Backup:</strong> Sao lưu toàn bộ database. Đơn giản để khôi phục nhưng tốn tài nguyên và thời gian</p></li><li><p><strong>Differential Backup:</strong> Backup những gì thay đổi của lần <strong>Full Backup</strong> cuối cùng</p></li><li><p><strong>Incremential Backup:</strong> Backup những gì thay đổi từ lần backup gần nhất. Tốc độ nhất nhưng cũng phức tạp nhất</p></li></ul><h3 id=3-quy-tắc-3-2-1>3. Quy Tắc 3-2-1<a hidden class=anchor aria-hidden=true href=#3-quy-tắc-3-2-1>#</a></h3><ul><li><p><strong>3 Bản copies:</strong> Luôn có 3 bản backup dữ liệu</p></li><li><p><strong>2 Loại Media:</strong> Lưu trữ trên ít nhất 2 thiết bị lưu trữ khác nhau</p></li><li><p><strong>1 Bản off-site:</strong> Giữ ít nhất 1 bản sao ở địa điểm vật lý khác</p></li></ul><h3 id=4-bảo-mật-và-mã-hóa>4. Bảo mật và Mã hóa<a hidden class=anchor aria-hidden=true href=#4-bảo-mật-và-mã-hóa>#</a></h3><ul><li><p>Luôn mã hóa file backup, cả khi đang truyền đi (in-transit) và khi đã lưu trữ (at-rest).</p></li><li><p>Quản lý chặt chẽ quyền truy cập vào các file backup.</p></li></ul><h3 id=5-quan-trọng-nhất-kiểm-tra-restore>5. Quan trọng nhất: KIỂM TRA RESTORE!<a hidden class=anchor aria-hidden=true href=#5-quan-trọng-nhất-kiểm-tra-restore>#</a></h3><ul><li><p>Một bản backup chưa được kiểm tra khôi phục thành công thì không được coi là một bản backup.</p></li><li><p>Hãy lên lịch kiểm tra restore định kỳ (ví dụ: hàng quý) trên một môi trường staging để đảm bảo các file backup của bạn thực sự hoạt động.</p></li></ul><hr><h2 id=ii-kỹ-thuật>II. Kỹ Thuật<a hidden class=anchor aria-hidden=true href=#ii-kỹ-thuật>#</a></h2><h3 id=1-cron-job--shell-script>1. Cron Job & Shell Script<a hidden class=anchor aria-hidden=true href=#1-cron-job--shell-script>#</a></h3><ul><li><p><strong>Bước 1:</strong> Viết Shell Script backup (<code>backup.sh</code>)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=c1># --- Cấu hình ---</span>
</span></span><span class=line><span class=cl><span class=c1># Thông tin kết nối Database</span>
</span></span><span class=line><span class=cl><span class=nv>DB_USER</span><span class=o>=</span><span class=s2>&#34;your_db_user&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>DB_PASSWORD</span><span class=o>=</span><span class=s2>&#34;your_db_password&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>DB_HOST</span><span class=o>=</span><span class=s2>&#34;localhost&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>DB_NAME</span><span class=o>=</span><span class=s2>&#34;your_db_name&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thư mục lưu trữ backup trên server</span>
</span></span><span class=line><span class=cl><span class=nv>BACKUP_DIR</span><span class=o>=</span><span class=s2>&#34;/path/to/your/backups&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># --- Logic Backup ---</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tạo thư mục backup nếu chưa tồn tại</span>
</span></span><span class=line><span class=cl>mkdir -p <span class=si>${</span><span class=nv>BACKUP_DIR</span><span class=si>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Tạo tên file backup với định dạng ngày-tháng-năm</span>
</span></span><span class=line><span class=cl><span class=nv>DATE</span><span class=o>=</span><span class=k>$(</span>date +%Y-%m-%d_%H-%M-%S<span class=k>)</span>
</span></span><span class=line><span class=cl><span class=nv>FILE_NAME</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>DB_NAME</span><span class=si>}</span><span class=s2>_</span><span class=si>${</span><span class=nv>DATE</span><span class=si>}</span><span class=s2>.sql.gz&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>BACKUP_FILE</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>BACKUP_DIR</span><span class=si>}</span><span class=s2>/</span><span class=si>${</span><span class=nv>FILE_NAME</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Đặt biến môi trường để pg_dump không hỏi mật khẩu</span>
</span></span><span class=line><span class=cl><span class=nb>export</span> <span class=nv>PGPASSWORD</span><span class=o>=</span><span class=si>${</span><span class=nv>DB_PASSWORD</span><span class=si>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Thực hiện backup bằng pg_dump, nén bằng gzip và lưu vào file</span>
</span></span><span class=line><span class=cl><span class=c1># -U: user, -h: host, -d: database name</span>
</span></span><span class=line><span class=cl><span class=c1># | gzip &gt; : pipe output của pg_dump vào gzip để nén</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Dang bat dau backup database: </span><span class=si>${</span><span class=nv>DB_NAME</span><span class=si>}</span><span class=s2>...&#34;</span>
</span></span><span class=line><span class=cl>pg_dump -U <span class=si>${</span><span class=nv>DB_USER</span><span class=si>}</span> -h <span class=si>${</span><span class=nv>DB_HOST</span><span class=si>}</span> -d <span class=si>${</span><span class=nv>DB_NAME</span><span class=si>}</span> <span class=p>|</span> gzip &gt; <span class=si>${</span><span class=nv>BACKUP_FILE</span><span class=si>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Xóa biến môi trường PGPASSWORD để bảo mật</span>
</span></span><span class=line><span class=cl><span class=nb>unset</span> PGPASSWORD
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Kiểm tra xem backup có thành công không</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$?</span> -eq <span class=m>0</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;Backup thanh cong: </span><span class=si>${</span><span class=nv>BACKUP_FILE</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;Backup that bai!&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Xóa các file backup cũ hơn 7 ngày</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Xoa cac file backup cu hon 7 ngay...&#34;</span>
</span></span><span class=line><span class=cl>find <span class=si>${</span><span class=nv>BACKUP_DIR</span><span class=si>}</span> -type f -name <span class=s2>&#34;*.sql.gz&#34;</span> -mtime +7 -delete
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Hoan tat.&#34;</span>
</span></span></code></pre></div></li><li><p><strong>Bước 2:</strong> Cấp quyền thực thi cho script</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>chmod +x backup.sh
</span></span></code></pre></div></li><li><p><strong>Bước 3:</strong> Lên lịch auto run với Cron</p><p>Mở crontab để chỉnh sửa</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>crontab -e
</span></span></code></pre></div><p>Thêm dòng sau vào cuối file để chạy script vào lúc 2 giờ sáng mỗi ngày</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Chạy backup vào 2:00 AM hàng ngày </span>
</span></span><span class=line><span class=cl><span class=m>0</span> <span class=m>2</span> * * * /path/to/your/backup.sh &gt;&gt; /path/to/your/logs/backup.log 2&gt;<span class=p>&amp;</span><span class=m>1</span>
</span></span></code></pre></div><ul><li><p><strong>0 2 * * * :</strong> Cú pháp cron cho &ldquo;0 phút, 2 giờ, mỗi ngày, mỗi tháng, mỗi ngày trong tuần&rdquo;.</p></li><li><p><strong>&#187; /path/to/your/logs/backup.log 2>&amp;1:</strong> Ghi lại output (cả standard output và error) vào một file log để bạn có thể kiểm tra lại.</p></li></ul></li></ul><h3 id=2-backup-database-trong-docker>2. Backup Database trong Docker<a hidden class=anchor aria-hidden=true href=#2-backup-database-trong-docker>#</a></h3><p><strong>Giả sử bạn có một container PostgreSQL đang chạy tên là <code>my_postgres_container</code></strong></p><p><strong>Cách 1:</strong> Dùng docker exec và Cron trên máy Host</p><ul><li><p>Script <code>backup_docker.sh</code> sẽ được sửa lại một chút:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=cp>#!/bin/bash
</span></span></span><span class=line><span class=cl><span class=cp></span>
</span></span><span class=line><span class=cl><span class=c1># --- Cấu hình ---</span>
</span></span><span class=line><span class=cl><span class=nv>CONTAINER_NAME</span><span class=o>=</span><span class=s2>&#34;my_postgres_container&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>DB_USER</span><span class=o>=</span><span class=s2>&#34;your_db_user&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>DB_NAME</span><span class=o>=</span><span class=s2>&#34;your_db_name&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>BACKUP_DIR</span><span class=o>=</span><span class=s2>&#34;/path/on/host/to/backups&#34;</span> <span class=c1># Thư mục trên máy host</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># --- Logic Backup ---</span>
</span></span><span class=line><span class=cl>mkdir -p <span class=si>${</span><span class=nv>BACKUP_DIR</span><span class=si>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>DATE</span><span class=o>=</span><span class=k>$(</span>date +%Y-%m-%d_%H-%M-%S<span class=k>)</span>
</span></span><span class=line><span class=cl><span class=nv>FILE_NAME</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>DB_NAME</span><span class=si>}</span><span class=s2>_</span><span class=si>${</span><span class=nv>DATE</span><span class=si>}</span><span class=s2>.sql.gz&#34;</span>
</span></span><span class=line><span class=cl><span class=nv>BACKUP_FILE</span><span class=o>=</span><span class=s2>&#34;</span><span class=si>${</span><span class=nv>BACKUP_DIR</span><span class=si>}</span><span class=s2>/</span><span class=si>${</span><span class=nv>FILE_NAME</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Dang bat dau backup database từ container: </span><span class=si>${</span><span class=nv>CONTAINER_NAME</span><span class=si>}</span><span class=s2>...&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Dùng &#39;docker exec&#39; để chạy pg_dump BÊN TRONG container</span>
</span></span><span class=line><span class=cl><span class=c1># Output sẽ được chuyển ra máy host và nén lại</span>
</span></span><span class=line><span class=cl>docker <span class=nb>exec</span> <span class=si>${</span><span class=nv>CONTAINER_NAME</span><span class=si>}</span> pg_dump -U <span class=si>${</span><span class=nv>DB_USER</span><span class=si>}</span> -d <span class=si>${</span><span class=nv>DB_NAME</span><span class=si>}</span> <span class=p>|</span> gzip &gt; <span class=si>${</span><span class=nv>BACKUP_FILE</span><span class=si>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ...(Phần kiểm tra và xóa file cũ tương tự như script trước) ...</span>
</span></span><span class=line><span class=cl><span class=c1># Xóa biến môi trường PGPASSWORD để bảo mật</span>
</span></span><span class=line><span class=cl><span class=nb>unset</span> PGPASSWORD
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Kiểm tra xem backup có thành công không</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$?</span> -eq <span class=m>0</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;Backup thanh cong: </span><span class=si>${</span><span class=nv>BACKUP_FILE</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;Backup that bai!&#34;</span>
</span></span><span class=line><span class=cl>  <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Xóa các file backup cũ hơn 7 ngày</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Xoa cac file backup cu hon 7 ngay...&#34;</span>
</span></span><span class=line><span class=cl>find <span class=si>${</span><span class=nv>BACKUP_DIR</span><span class=si>}</span> -type f -name <span class=s2>&#34;*.sql.gz&#34;</span> -mtime +7 -delete
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;Hoan tat.&#34;</span>
</span></span></code></pre></div></li><li><p>Sau đó, bạn cũng dùng cron trên <strong>máy host</strong> để chạy script backup_docker.sh này.</p></li></ul><p><strong>Cách 2:</strong> Dùng một <strong>Sidecar Container</strong></p><ul><li><p>Đây là một pattern nâng cao và rất phổ biến trong <strong>Kubernetes</strong>. Ý tưởng là bạn sẽ chạy một container riêng biệt chỉ để làm nhiệm vụ backup.</p></li><li><p>Trong <code>docker-compose.yml</code> có thể định nghĩa một <strong>service backup</strong>:</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>services:
</span></span><span class=line><span class=cl>	db:
</span></span><span class=line><span class=cl>		image: postgres:13
</span></span><span class=line><span class=cl>	    container_name: my_postgres_container
</span></span><span class=line><span class=cl>	    environment:
</span></span><span class=line><span class=cl>		    - <span class=nv>POSTGRES_USER</span><span class=o>=</span>your_db_user
</span></span><span class=line><span class=cl>		    - <span class=nv>POSTGRES_PASSWORD</span><span class=o>=</span>your_db_password
</span></span><span class=line><span class=cl>		    - <span class=nv>POSTGRES_DB</span><span class=o>=</span>your_db_name
</span></span><span class=line><span class=cl>	    volumes:
</span></span><span class=line><span class=cl>		    - postgres_data:/var/lib/postgresql/data
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	  <span class=c1># Service này không chạy liên tục, chỉ chạy khi được gọi</span>
</span></span><span class=line><span class=cl>	  backup:
</span></span><span class=line><span class=cl>		image: postgres:13 <span class=c1># Dùng cùng image để có sẵn pg_dump</span>
</span></span><span class=line><span class=cl>	    depends_on:
</span></span><span class=line><span class=cl>		    - db
</span></span><span class=line><span class=cl>	    volumes:
</span></span><span class=line><span class=cl>		    - ./backups:/backups <span class=c1># Gắn thư mục backups của host vào container</span>
</span></span><span class=line><span class=cl>	    environment:
</span></span><span class=line><span class=cl>		    - <span class=nv>PGPASSWORD</span><span class=o>=</span>your_db_password
</span></span><span class=line><span class=cl>	    <span class=c1># Lệnh sẽ chạy khi container này được khởi động</span>
</span></span><span class=line><span class=cl>	    command: &gt;
</span></span><span class=line><span class=cl>	      bash -c <span class=s2>&#34;
</span></span></span><span class=line><span class=cl><span class=s2>	        pg_dump -h db -U your_db_user -d your_db_name | gzip &gt; /backups/backup_</span><span class=k>$(</span>date +%Y-%m-%d_%H-%M-%S<span class=k>)</span><span class=s2>.sql.gz
</span></span></span><span class=line><span class=cl><span class=s2>	      &#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>volumes:
</span></span><span class=line><span class=cl>	  postgres_data:
</span></span></code></pre></div><ul><li><p>Chạy backup</p><pre tabindex=0><code>docker-compose run --rm backup
</code></pre></li><li><p>Bạn có thể kết hợp lệnh này với cron trên máy host để tự động hóa.</p></li></ul><hr><h2 id=iii-tích-hợp-với-cloud-devops-workflow-hoàn-chỉnh>III. Tích hợp với Cloud (DevOps Workflow hoàn chỉnh)<a hidden class=anchor aria-hidden=true href=#iii-tích-hợp-với-cloud-devops-workflow-hoàn-chỉnh>#</a></h2><p>Một quy trình DevOps thực thụ sẽ không dừng lại ở việc lưu file backup trên cùng một server.</p><p><strong>Workflow nâng cao:</strong></p><ol><li><p><strong>Tạo file backup:</strong> Sử dụng một trong các kỹ thuật trên để tạo file .sql.gz.</p></li><li><p><strong>Tải lên Cloud Storage:</strong> Dùng các công cụ <strong>command-line</strong> của nhà cung cấp cloud để đẩy file backup lên một nơi an toàn.</p><ul><li><p><strong>AWS S3:</strong> aws s3 cp /path/to/backup.sql.gz s3://your-backup-bucket/</p></li><li><p><strong>Google Cloud Storage:</strong> gsutil cp /path/to/backup.sql.gz gs://your-backup-bucket/</p></li><li><p><strong>Azure Blob Storage:</strong> az storage blob upload &ndash;file /path/to/backup.sql.gz &ndash;container-name your-container &ndash;name backup.sql.gz</p></li></ul></li><li><p><strong>Xóa file backup local:</strong> Sau khi đã tải lên cloud thành công, bạn có thể xóa file trên server để tiết kiệm dung lượng.</p></li><li><p><strong>Thiết lập Lifecycle Rules:</strong> Cấu hình trên Cloud Storage để tự động xóa các bản backup cũ (ví dụ: chuyển sang lớp lưu trữ rẻ hơn sau 30 ngày và xóa hẳn sau 90 ngày).</p></li><li><p><strong>Giám sát và Cảnh báo (Monitoring & Alerting):</strong></p><ul><li>Sử dụng các công cụ như Prometheus, Healthchecks.io, hoặc đơn giản là gửi email/thông báo Slack khi script backup chạy thành công hoặc thất bại.</li></ul></li><li><p><strong>Tự động hóa việc Restore:</strong> Viết script để tự động tải về bản backup mới nhất từ cloud và restore vào một môi trường staging. Chạy script này định kỳ (ví dụ: hàng tuần) để đảm bảo 100% rằng backup của bạn hoạt động.</p></li></ol><p><strong>Ví dụ script tích hợp AWS S3:</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># ... (Phần tạo backup như trên) ...</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Kiểm tra backup thành công</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=o>[</span> <span class=nv>$?</span> -eq <span class=m>0</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;Backup thanh cong: </span><span class=si>${</span><span class=nv>BACKUP_FILE</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1># Tải lên S3</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;Tai file backup len AWS S3...&#34;</span>
</span></span><span class=line><span class=cl>  aws s3 cp <span class=si>${</span><span class=nv>BACKUP_FILE</span><span class=si>}</span> s3://your-s3-bucket/database/
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=o>[</span> <span class=nv>$?</span> -eq <span class=m>0</span> <span class=o>]</span><span class=p>;</span> <span class=k>then</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;Tai len S3 thanh cong. Xoa file local.&#34;</span>
</span></span><span class=line><span class=cl>    rm <span class=si>${</span><span class=nv>BACKUP_FILE</span><span class=si>}</span>
</span></span><span class=line><span class=cl>  <span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=nb>echo</span> <span class=s2>&#34;Tai len S3 that bai!&#34;</span>
</span></span><span class=line><span class=cl>  <span class=k>fi</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl>  <span class=nb>echo</span> <span class=s2>&#34;Backup failed!&#34;</span>
</span></span><span class=line><span class=cl>  <span class=c1># Gửi cảnh báo đến Slack/Email ở đây</span>
</span></span><span class=line><span class=cl>  <span class=nb>exit</span> <span class=m>1</span>
</span></span><span class=line><span class=cl><span class=k>fi</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># ... (Phần xóa backup cũ trên S3 có thể dùng lifecycle rules) ...</span>
</span></span></code></pre></div><hr></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.nagih.io.vn/tags/backup/>Backup</a></li></ul><nav class=paginav><a class=next href=https://blog.nagih.io.vn/posts/raspberry-pi---basic-server-workflow/><span class=title>Next »</span><br><span>Hướng dẫn setup môi trường server cơ bản chạy web và các dịch vụ nền cho Raspberry Pi (Debian)</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Kĩ thuật backup dữ liệu Database định kỳ on x" href="https://x.com/intent/tweet/?text=K%c4%a9%20thu%e1%ba%adt%20backup%20d%e1%bb%af%20li%e1%bb%87u%20Database%20%c4%91%e1%bb%8bnh%20k%e1%bb%b3&amp;url=https%3a%2f%2fblog.nagih.io.vn%2fposts%2fbackup-database%2f&amp;hashtags=backup"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kĩ thuật backup dữ liệu Database định kỳ on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.nagih.io.vn%2fposts%2fbackup-database%2f&amp;title=K%c4%a9%20thu%e1%ba%adt%20backup%20d%e1%bb%af%20li%e1%bb%87u%20Database%20%c4%91%e1%bb%8bnh%20k%e1%bb%b3&amp;summary=K%c4%a9%20thu%e1%ba%adt%20backup%20d%e1%bb%af%20li%e1%bb%87u%20Database%20%c4%91%e1%bb%8bnh%20k%e1%bb%b3&amp;source=https%3a%2f%2fblog.nagih.io.vn%2fposts%2fbackup-database%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kĩ thuật backup dữ liệu Database định kỳ on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.nagih.io.vn%2fposts%2fbackup-database%2f&title=K%c4%a9%20thu%e1%ba%adt%20backup%20d%e1%bb%af%20li%e1%bb%87u%20Database%20%c4%91%e1%bb%8bnh%20k%e1%bb%b3"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kĩ thuật backup dữ liệu Database định kỳ on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.nagih.io.vn%2fposts%2fbackup-database%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kĩ thuật backup dữ liệu Database định kỳ on whatsapp" href="https://api.whatsapp.com/send?text=K%c4%a9%20thu%e1%ba%adt%20backup%20d%e1%bb%af%20li%e1%bb%87u%20Database%20%c4%91%e1%bb%8bnh%20k%e1%bb%b3%20-%20https%3a%2f%2fblog.nagih.io.vn%2fposts%2fbackup-database%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kĩ thuật backup dữ liệu Database định kỳ on telegram" href="https://telegram.me/share/url?text=K%c4%a9%20thu%e1%ba%adt%20backup%20d%e1%bb%af%20li%e1%bb%87u%20Database%20%c4%91%e1%bb%8bnh%20k%e1%bb%b3&amp;url=https%3a%2f%2fblog.nagih.io.vn%2fposts%2fbackup-database%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Kĩ thuật backup dữ liệu Database định kỳ on ycombinator" href="https://news.ycombinator.com/submitlink?t=K%c4%a9%20thu%e1%ba%adt%20backup%20d%e1%bb%af%20li%e1%bb%87u%20Database%20%c4%91%e1%bb%8bnh%20k%e1%bb%b3&u=https%3a%2f%2fblog.nagih.io.vn%2fposts%2fbackup-database%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://blog.nagih.io.vn/>Nagih | Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>