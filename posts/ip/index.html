<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Internet Protocol (IP) | Nagih | Blog</title>
<meta name=keywords content="docker"><meta name=description content="Mastering Internet Protocol Addresses"><meta name=author content="Nagih"><link rel=canonical href=https://blog.nagih.io.vn/posts/ip/><meta name=google-site-verification content="XYZabc"><meta name=yandex-verification content="XYZabc"><meta name=msvalidate.01 content="XYZabc"><link crossorigin=anonymous href=/assets/css/stylesheet.08f7d74f0ada0f975d29ae436285b61ed7a719d05f350cb888d00341642995a2.css integrity="sha256-CPfXTwraD5ddKa5DYoW2HtenGdBfNQy4iNADQWQplaI=" rel="preload stylesheet" as=style><link rel=icon href=https://blog.nagih.io.vn/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://blog.nagih.io.vn/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://blog.nagih.io.vn/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://blog.nagih.io.vn/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://blog.nagih.io.vn/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://blog.nagih.io.vn/posts/ip/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://blog.nagih.io.vn/posts/ip/"><meta property="og:site_name" content="Nagih | Blog"><meta property="og:title" content="Internet Protocol (IP)"><meta property="og:description" content="Mastering Internet Protocol Addresses"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-08-13T00:00:00+00:00"><meta property="article:modified_time" content="2025-08-13T00:00:00+00:00"><meta property="article:tag" content="Docker"><meta property="og:image" content="https://blog.nagih.io.vn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://blog.nagih.io.vn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Internet Protocol (IP)"><meta name=twitter:description content="Mastering Internet Protocol Addresses"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://blog.nagih.io.vn/posts/"},{"@type":"ListItem","position":2,"name":"Internet Protocol (IP)","item":"https://blog.nagih.io.vn/posts/ip/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Internet Protocol (IP)","name":"Internet Protocol (IP)","description":"Mastering Internet Protocol Addresses\n","keywords":["docker"],"articleBody":"Mastering Internet Protocol Addresses\nĐối với một người dùng Linux, dù bạn là nhà phát triển, quản trị viên hệ thống hay chỉ là một người đam mê công nghệ, việc hiểu sâu và làm chủ địa chỉ IP không chỉ là một kỹ năng hữu ích mà còn là một yêu cầu thiết yếu.\nBài viết này sẽ là kim chỉ nam của bạn, dẫn dắt bạn đi từ những khái niệm cơ bản nhất như “Địa chỉ IP là gì?” đến các kỹ thuật nâng cao như cấu hình mạng, quét tìm thiết bị và thiết lập kết nối từ xa an toàn. Chúng ta sẽ cùng nhau “mổ xẻ” các lệnh, khám phá các công cụ và áp dụng chúng vào những kịch bản thực tế, giúp bạn tự tin điều hướng trong không gian mạng rộng lớn bằng sức mạnh của dòng lệnh Linux.\nPhần 1: Giải Phẫu Địa Chỉ IP Trước khi đi sâu vào các câu lệnh và cấu hình, việc xây dựng một nền tảng kiến thức vững chắc về bản chất của địa chỉ IP là vô cùng quan trọng. Phần này sẽ giải mã các khái niệm cốt lõi, giúp bạn hiểu rõ “tại sao” và “như thế nào” trước khi học “làm gì”.\n1.1. Địa chỉ IP là gì? Hơn Cả những Con Số Vai trò Cốt lõi: “Địa chỉ Nhà Kỹ thuật số” của Thiết bị\nVề cơ bản, địa chỉ Giao thức Internet (Internet Protocol address), hay địa chỉ IP, là một định danh số duy nhất được gán cho mỗi thiết bị điện tử (như máy tính, điện thoại, máy chủ) khi tham gia vào một mạng máy tính sử dụng Giao thức Internet để giao tiếp. Hãy hình dung nó như một địa chỉ nhà trong thế giới thực; để một lá thư (dữ liệu) có thể được gửi đến đúng người nhận (thiết bị), nó cần một địa chỉ chính xác. Mục đích chính của địa chỉ IP là để nhận diện thiết bị và xác định vị trí của nó trên mạng, từ đó cho phép việc truyền và nhận dữ liệu diễn ra một cách chính xác.\nMọi dữ liệu di chuyển trên mạng đều được chia thành các đơn vị nhỏ hơn gọi là “gói tin” (packets). Mỗi gói tin này không chỉ chứa một phần dữ liệu mà còn mang theo một phần “tiêu đề” (header). Trong tiêu đề này, thông tin quan trọng nhất chính là địa chỉ IP của người gửi (nguồn) và địa chỉ IP của người nhận (đích). Cấu trúc này đảm bảo rằng dù các gói tin có thể đi theo những con đường khác nhau qua Internet, chúng vẫn sẽ đến được đúng đích và được tập hợp lại một cách chính xác.\nTuy nhiên, việc ví IP như một “địa chỉ nhà” chỉ là bước khởi đầu. Một sự tương đồng chính xác hơn cho người dùng kỹ thuật là: địa chỉ IP giống như địa chỉ của vị trí bạn đang kết nối mạng, trong khi địa chỉ MAC (Media Access Control) mới thực sự là số sê-ri định danh duy nhất của thiết bị đó. Địa chỉ MAC là một địa chỉ vật lý, được gán cứng vào card mạng của bạn bởi nhà sản xuất và không thay đổi. Ngược lại, địa chỉ IP của bạn có thể thay đổi. Khi bạn mang laptop từ nhà (kết nối vào mạng Wi-Fi gia đình) đến một quán cà phê (kết nối vào mạng Wi-Fi của quán), địa chỉ MAC của laptop vẫn giữ nguyên, nhưng nó sẽ được cấp một địa chỉ IP mới tương ứng với mạng của quán cà phê. Việc phân biệt rõ ràng giữa định danh thiết bị (MAC, Lớp 2) và định danh vị trí mạng (IP, Lớp 3) là chìa khóa để hiểu các khái niệm như DHCP, tính di động của mạng và cách các lớp khác nhau trong mô hình mạng tương tác với nhau.\nCỗ máy Vận hành: Giao thức IP và Vị trí trong Chồng Giao thức TCP/IP\nĐịa chỉ IP không tồn tại một mình; nó là một phần không thể tách rời của bộ giao thức TCP/IP, bộ khung xương sống của Internet hiện đại. TCP/IP là một mô hình phân tầng, trong đó Giao thức IP hoạt động ở Tầng Mạng (Network Layer), hay còn gọi là Tầng Internet, tương ứng với Lớp 3 trong mô hình tham chiếu OSI (Open Systems Interconnection).\nTrong bộ đôi này, mỗi giao thức có một nhiệm vụ riêng biệt:\nIP (Internet Protocol): Chịu trách nhiệm về việc định địa chỉ và định tuyến. Nó gắn địa chỉ IP vào các gói tin và quyết định con đường mà các gói tin đó sẽ đi qua mạng để đến đích. IP hoạt động theo nguyên tắc “nỗ lực tốt nhất” (best-effort), nghĩa là nó không đảm bảo các gói tin sẽ đến nơi, đến đúng thứ tự, hay không bị lỗi. TCP (Transmission Control Protocol): Hoạt động ở tầng trên (Tầng Giao vận - Transport Layer), TCP bổ sung cho sự thiếu tin cậy của IP. Nó thiết lập một kết nối ổn định, đảm bảo rằng tất cả các gói tin đều đến đích một cách toàn vẹn và theo đúng thứ tự. Nếu một gói tin bị mất, TCP sẽ yêu cầu gửi lại. Sự kết hợp giữa một hệ thống địa chỉ và định tuyến toàn cầu (IP) và một cơ chế đảm bảo truyền tải đáng tin cậy (TCP) chính là thứ đã tạo nên một Internet mạnh mẽ và linh hoạt như ngày nay.\nHành trình của một Gói tin: Cách Dữ liệu Di chuyển trên Internet\nHãy xem xét một hành động quen thuộc: bạn gõ google.com vào trình duyệt. Đây là những gì xảy ra đằng sau hậu trường:\nPhân giải DNS: Máy tính của bạn không biết google.com ở đâu. Nó gửi một yêu cầu đến một Máy chủ Tên miền (DNS - Domain Name System) để hỏi: “Địa chỉ IP của google.com là gì?”. Máy chủ DNS sẽ trả lời bằng một địa chỉ IP, ví dụ 172.217.24.238. Đóng gói và Gửi đi: Trình duyệt của bạn tạo một yêu cầu (ví dụ: HTTP GET) và chuyển nó xuống các tầng thấp hơn của mô hình TCP/IP. Dữ liệu được chia thành các gói tin, mỗi gói được gắn tiêu đề chứa IP nguồn (máy của bạn) và IP đích (máy chủ Google). Chặng đầu tiên: Gói tin được gửi từ máy tính của bạn đến thiết bị mạng gần nhất, thường là bộ định tuyến (router) Wi-Fi ở nhà hoặc văn phòng của bạn. Định tuyến qua các Chặng: Khi router nhận được gói tin, nó sẽ nhìn vào địa chỉ IP đích. Dựa trên thông tin trong bảng chuyển tiếp (forwarding table) của mình, nó sẽ quyết định “chặng kế tiếp” (next hop) tốt nhất để gửi gói tin đi—tức là một router khác gần với đích đến hơn. Bảng chuyển tiếp này không chứa mọi địa chỉ IP trên thế giới, mà chỉ chứa các đường dẫn đến các mạng lớn, được cập nhật liên tục thông qua các giao thức định tuyến như OSPF hay BGP. Lặp lại và Đến đích: Quá trình này lặp đi lặp lại. Gói tin của bạn nhảy từ router này sang router khác, qua nhiều nhà cung cấp dịch vụ Internet, thậm chí qua các quốc gia khác nhau, cho đến khi nó đến được router cuối cùng kết nối trực tiếp với máy chủ của Google. Máy chủ này sau đó sẽ xử lý yêu cầu và gửi các gói tin phản hồi trở lại máy của bạn theo một quy trình tương tự. 1.2. “Bản đồ” Địa chỉ IP: Điều hướng trong Không gian Mạng Không phải tất cả các địa chỉ IP đều được tạo ra như nhau. Chúng được phân loại dựa trên phạm vi và cách thức cấp phát để phục vụ các mục đích khác nhau.\nIP Công cộng (Public) vs. IP Riêng (Private): Cổng ra Internet và Mạng Nội bộ\nĐây là sự phân chia cơ bản nhất về phạm vi của địa chỉ IP.\nIP Riêng (Private IP): Đây là các địa chỉ được sử dụng bên trong một mạng cục bộ (LAN), chẳng hạn như mạng gia đình, văn phòng, hoặc trường học. Chúng không thể được truy cập trực tiếp từ Internet. Điều này cho phép hàng triệu mạng riêng trên khắp thế giới có thể sử dụng lại cùng một bộ địa chỉ mà không bị xung đột. Các dải địa chỉ IP riêng đã được tiêu chuẩn hóa và dành riêng cho mục đích này 3: Lớp A: 10.0.0.0 đến 10.255.255.255 (tiền tố 10.0.0.0/8) Lớp B: 172.16.0.0 đến 172.31.255.255 (tiền tố 172.16.0.0/12) Lớp C: 192.168.0.0 đến 192.168.255.255 (tiền tố 192.168.0.0/16) IP Công cộng (Public IP): Đây là địa chỉ duy nhất trên toàn cầu, được cấp phát bởi Nhà cung cấp dịch vụ Internet (ISP) của bạn. Đây chính là địa chỉ mà thế giới bên ngoài nhìn thấy khi bạn kết nối với Internet. Mọi trang web, máy chủ email, hoặc dịch vụ trực tuyến mà bạn truy cập đều có một địa chỉ IP công cộng. NAT (Network Address Translation): Vậy làm thế nào mà hàng tỷ thiết bị với IP riêng có thể truy cập Internet chỉ với một số lượng hạn chế IP công cộng? Câu trả lời là NAT. Router của bạn đóng vai trò như một “phiên dịch viên”. Khi một thiết bị trong mạng LAN của bạn (với IP riêng) muốn gửi dữ liệu ra Internet, router sẽ thay thế địa chỉ IP riêng trong gói tin bằng địa chỉ IP công cộng duy nhất của nó. Khi nhận được phản hồi, nó sẽ dịch ngược lại và gửi đến đúng thiết bị trong mạng LAN. NAT không chỉ giúp tiết kiệm địa chỉ IP công cộng mà còn tăng cường bảo mật bằng cách che giấu cấu trúc mạng nội bộ của bạn khỏi thế giới bên ngoài. Bảng 1: So sánh IP Công cộng và IP Riêng\nTiêu chí IP Công cộng (Public) IP Riêng (Private) Phạm vi Duy nhất trên toàn cầu, có thể định tuyến trên Internet. Cục bộ, chỉ có ý nghĩa trong một mạng LAN, không thể định tuyến trên Internet. Cấp phát Được cấp bởi Nhà cung cấp dịch vụ Internet (ISP) và các tổ chức quản lý mạng. Được cấp bởi router (thông qua DHCP) hoặc quản trị viên mạng. Chi phí Có phí, là một phần của gói dịch vụ Internet. Miễn phí, có thể sử dụng tự do trong các dải quy định. Khả năng truy cập Có thể được truy cập từ bất kỳ đâu trên Internet. Chỉ có thể được truy cập bởi các thiết bị khác trong cùng mạng LAN. Mục đích sử dụng Cho phép các thiết bị kết nối và giao tiếp với Internet. Cho phép các thiết bị trong một mạng nội bộ giao tiếp với nhau. IP Tĩnh (Static) vs. IP Động (Dynamic): Vĩnh viễn và Tạm thời\nĐây là sự phân loại dựa trên cách thức một địa chỉ IP được gán cho một thiết bị.\nIP Động (Dynamic IP): Đây là phương pháp phổ biến nhất. Địa chỉ IP được cấp phát tự động và tạm thời cho một thiết bị khi nó kết nối vào mạng. Công việc này thường được thực hiện bởi một máy chủ DHCP (Dynamic Host Configuration Protocol), thường được tích hợp sẵn trong router của bạn. Khi bạn ngắt kết nối, địa chỉ IP đó sẽ được “trả lại” vào một “kho” chung để có thể cấp phát cho một thiết bị khác. Điều này giúp quản lý địa chỉ hiệu quả và dễ dàng. IP Tĩnh (Static IP): Ngược lại với IP động, IP tĩnh được cấu hình thủ công và gán cố định cho một thiết bị. Nó sẽ không bao giờ thay đổi trừ khi quản trị viên mạng thay đổi nó. IP tĩnh rất quan trọng cho các thiết bị cần được truy cập một cách nhất quán từ xa, ví dụ như: Máy chủ Web, Email, Game: Để người dùng và các dịch vụ khác luôn biết cách tìm đến. Máy chủ VPN: Để nhân viên có thể kết nối từ xa vào mạng công ty. Camera an ninh, máy in mạng: Để các thiết bị khác trong mạng luôn có thể kết nối đến chúng một cách đáng tin cậy. Bảng 2: So sánh IP Tĩnh và IP Động\nTiêu chí IP Tĩnh (Static) IP Động (Dynamic) Cấp phát Thủ công, được quản trị viên gán cố định cho một thiết bị. Tự động, được cấp phát tạm thời bởi máy chủ DHCP. Độ ổn định Cố định, không thay đổi theo thời gian. Rất đáng tin cậy cho các dịch vụ. Thay đổi mỗi khi kết nối lại hoặc sau một khoảng thời gian nhất định. Bảo mật Có thể dễ bị nhắm mục tiêu hơn vì địa chỉ không đổi, cho tin tặc nhiều thời gian để thăm dò. Khó theo dõi và tấn công hơn vì địa chỉ IP thay đổi liên tục. Chi phí Thường yêu cầu trả thêm phí cho ISP (đối với IP công cộng tĩnh). Thường được bao gồm miễn phí trong gói dịch vụ Internet. Trường hợp sử dụng Máy chủ (web, file, game), thiết bị mạng (router, switch), VPN, camera an ninh. Máy tính cá nhân, laptop, điện thoại thông minh, máy tính bảng của người dùng cuối. 1.3. Tương lai của Kết nối: IPv4 vs. IPv6 Giao thức IP mà chúng ta đã thảo luận chủ yếu cho đến nay là IPv4 (Internet Protocol version 4). Tuy nhiên, nó có một người kế nhiệm đang dần được triển khai trên toàn cầu: IPv6.\nTại sao cần IPv6: Sự cạn kiệt của IPv4\nIPv4 sử dụng một không gian địa chỉ 32-bit, cho phép tạo ra khoảng 232 (tức khoảng 4.3 tỷ) địa chỉ IP duy nhất. Vào thời điểm Internet ra đời, con số này có vẻ khổng lồ. Tuy nhiên, với sự bùng nổ của các thiết bị kết nối Internet—từ máy tính, điện thoại đến đồng hồ thông minh, tủ lạnh (Internet of Things - IoT)—không gian địa chỉ của IPv4 đã chính thức cạn kiệt.\nIPv6 (Internet Protocol version 6) được tạo ra để giải quyết triệt để vấn đề này. Nó sử dụng không gian địa chỉ 128-bit, cung cấp một số lượng địa chỉ gần như vô hạn: 2128, hay khoảng 340 undecillion (340 nghìn tỷ tỷ tỷ tỷ) địa chỉ. Con số này đủ để cấp hàng tỷ địa chỉ cho mỗi mét vuông trên bề mặt Trái Đất.\nNhững khác biệt Chính\nNgoài không gian địa chỉ, IPv6 còn mang lại nhiều cải tiến quan trọng khác:\nĐịnh dạng địa chỉ: Địa chỉ IPv4 có dạng 4 cụm số thập phân, cách nhau bằng dấu chấm (ví dụ: 192.168.1.1). Địa chỉ IPv6 có dạng 8 cụm số thập lục phân (hexadecimal), cách nhau bằng dấu hai chấm (ví dụ: 2001:0db8:85a3:0000:0000:8a2e:0370:7334). Nó có thể được rút gọn bằng cách bỏ các số 0 đứng đầu và thay thế một chuỗi các số 0 liên tiếp bằng ::. Bảo mật: IPv6 được thiết kế với tư duy bảo mật ngay từ đầu. Nó tích hợp sẵn IPsec (Internet Protocol Security) như một thành phần bắt buộc, giúp mã hóa và xác thực lưu lượng mạng từ đầu đến cuối. Trong khi đó, IPsec là một tùy chọn bổ sung cho IPv4. Hiệu suất và Cấu hình: IPv6 có cấu trúc tiêu đề (header) gói tin đơn giản và hiệu quả hơn, giúp các router xử lý gói tin nhanh hơn. Nó cũng giới thiệu tính năng Tự động cấu hình địa chỉ không trạng thái (SLAAC - Stateless Address Autoconfiguration), cho phép các thiết bị tự tạo địa chỉ IPv6 của riêng mình mà không cần đến máy chủ DHCP, giúp giảm lưu lượng quản lý trên mạng. Loại bỏ NAT: Vì không gian địa chỉ của IPv6 là khổng lồ, mỗi thiết bị có thể có một địa chỉ IP công cộng duy nhất. Điều này loại bỏ sự cần thiết của NAT, cho phép kết nối trực tiếp từ đầu cuối (end-to-end) và đơn giản hóa việc phát triển các ứng dụng ngang hàng (peer-to-peer). Mặc dù có những ưu điểm kỹ thuật vượt trội, quá trình chuyển đổi sang IPv6 diễn ra chậm chạp. Lý do chính không nằm ở công nghệ mà ở vấn đề kinh tế và logistics. IPv6 không tương thích ngược trực tiếp với IPv4. Điều này tạo ra một bài toán “con gà và quả trứng” kinh điển: các nhà cung cấp dịch vụ, nhà cung cấp nội dung và người dùng cuối đều do dự trong việc nâng cấp vì phần còn lại của hệ sinh thái chưa sẵn sàng. Việc này đòi hỏi một nỗ lực phối hợp toàn cầu để di cư toàn bộ Internet trong khi vẫn phải duy trì hoạt động của mạng IPv4. Đối với một quản trị viên Linux, điều này có một ý nghĩa thực tế quan trọng: trong tương lai gần, họ sẽ phải làm việc trong một môi trường\nsong song (dual-stack), nơi các hệ thống phải được cấu hình và có khả năng xử lý cả hai giao thức IPv4 và IPv6. Do đó, việc thành thạo cả hai là một kỹ năng thiết yếu.\nBảng 3: So sánh Chi tiết IPv4 và IPv6\nTiêu chí IPv4 IPv6 Độ dài địa chỉ 32-bit 128-bit Định dạng Số thập phân, ngăn cách bằng dấu chấm (ví dụ: 192.168.1.1) Số thập lục phân, ngăn cách bằng dấu hai chấm (ví dụ: 2001:db8::1) Không gian địa chỉ ~4.3 tỷ địa chỉ ~3.4 x 1038 địa chỉ Cấu hình địa chỉ Thủ công hoặc qua DHCP Tự động cấu hình (SLAAC), DHCPv6 Bảo mật IPsec là tùy chọn IPsec được tích hợp và là bắt buộc NAT Thường xuyên cần thiết do thiếu hụt địa chỉ Không cần thiết, cho phép kết nối đầu cuối thực sự Kích thước Header 20-60 bytes, phức tạp hơn 40 bytes, cố định, đơn giản và hiệu quả hơn Phân mảnh gói tin Thực hiện bởi cả máy gửi và router Chỉ thực hiện bởi máy gửi Truyền thông Multicast Hỗ trợ qua IGMP Là một phần cốt lõi của giao thức, sử dụng MLD Phần 2: Bộ công cụ của Người dùng Linux: Tương tác với IP qua Dòng lệnh Linux nổi tiếng với sức mạnh của giao diện dòng lệnh (CLI), và quản lý mạng cũng không ngoại lệ. Việc thành thạo một vài lệnh cơ bản sẽ giúp bạn nhanh chóng chẩn đoán và thu thập thông tin về hệ thống mạng của mình.\n2.1. Tôi là ai trên Mạng? Tìm Địa chỉ IP của bạn Khám phá IP Private: Làm chủ ip addr và Ghi chú về ifconfig\nĐể tìm địa chỉ IP riêng (private) của máy Linux, có một số lệnh bạn có thể sử dụng.\nCông cụ hiện đại và được khuyến nghị nhất là lệnh ip từ bộ công cụ iproute2. Lý do cộng đồng Linux chuyển từ các công cụ cũ như ifconfig sang ip là vì iproute2 được thiết kế để mạnh mẽ hơn, có cú pháp nhất quán hơn và có khả năng quản lý các khái niệm mạng hiện đại một cách hiệu quả hơn. Các công cụ cũ được tạo ra khi mạng còn đơn giản. Sự phát triển của ảo hóa, container, và các kịch bản định tuyến phức tạp đòi hỏi một bộ công cụ thống nhất và có năng lực hơn, và đó chính là\niproute2. Việc học cách sử dụng ip không chỉ là học một lệnh mới, mà là tiếp cận một mô hình quản lý mạng hiện đại và mạnh mẽ hơn trên Linux.\nLệnh ip addr (hoặc ip a): Đây là lệnh tiêu chuẩn để hiển thị thông tin về tất cả các giao diện mạng (network interfaces) và các địa chỉ IP được gán cho chúng. Bash $ ip addr show 1: lo: mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: enp0s3: mtu 1500 qdisc fq_codel state UP group default qlen 1000 link/ether 08:00:27:1a:2b:3c brd ff:ff:ff:ff:ff:ff inet 192.168.1.105/24 brd 192.168.1.255 scope global dynamic noprefixroute enp0s3 valid_lft 85652sec preferred_lft 85652sec inet6 fe80::a00:27ff:fe1a:2b3c/64 scope link noprefixroute valid_lft forever preferred_lft forever Trong kết quả trên: lo: là giao diện loopback, luôn có địa chỉ 127.0.0.1. Nó được dùng để máy tính “nói chuyện” với chính nó. enp0s3: là tên giao diện mạng vật lý (có thể là eth0 trên các hệ thống cũ hơn). inet 192.168.1.105/24: Đây chính là địa chỉ IPv4 riêng của bạn. /24 là ký hiệu CIDR cho biết netmask là 255.255.255.0. inet6 fe80::.../64: Đây là địa chỉ IPv6 link-local. Lệnh ifconfig: Đây là công cụ cũ từ bộ net-tools. Mặc dù đã lỗi thời và có thể không được cài đặt sẵn trên các bản phân phối mới, nó vẫn rất phổ biến và đáng để biết. Bash $ ifconfig enp0s3 enp0s3: flags=4163 mtu 1500 inet 192.168.1.105 netmask 255.255.255.0 broadcast 192.168.1.255 inet6 fe80::a00:27ff:fe1a:2b3c prefixlen 64 scopeid 0x20 ether 08:00:27:1a:2b:3c txqueuelen 1000 (Ethernet) ... Lệnh hostname -I: Đây là cách nhanh nhất để chỉ xem các địa chỉ IP của máy, không có thông tin thừa. Bash $ hostname -I 192.168.1.105 Hiển thị IP Public: Sử dụng curl và wget\nĐịa chỉ IP công cộng của bạn được gán cho router, không phải cho máy tính của bạn trực tiếp. Do đó, bạn không thể tìm thấy nó bằng các lệnh nội bộ. Cách đơn giản nhất từ dòng lệnh là truy vấn một dịch vụ web bên ngoài được thiết kế để trả về địa chỉ IP của người yêu cầu.\nSử dụng curl: Bash $ curl https://icanhazip.com 203.0.113.54 Hoặc các dịch vụ tương tự như ifconfig.me hoặc ipinfo.io/ip.36 Sử dụng wget: Bash $ wget -qO- https://icanhazip.com 203.0.113.54 Tùy chọn -q (quiet) để không hiển thị thông tin tiến trình và -O- để xuất nội dung ra đầu ra chuẩn (màn hình terminal) thay vì lưu vào file. 2.2. Kiểm tra “Sức khỏe” Mạng: Lệnh ping và traceroute ping: Kiểm tra “Mạch đập” - Xác minh Kết nối và Độ trễ\nLệnh ping (Packet Internet Groper) là công cụ chẩn đoán mạng cơ bản nhất. Nó gửi các gói tin ICMP ECHO_REQUEST đến một máy chủ đích và chờ đợi các gói tin ECHO_REPLY trả về. Nó giúp trả lời hai câu hỏi quan trọng: “Máy chủ đó có đang hoạt động và có thể kết nối được không?” và “Mất bao lâu để dữ liệu đi và về?”.\nKiểm tra kết nối đến một máy chủ từ xa: Bash $ ping google.com PING google.com (142.250.199.14) 56(84) bytes of data. 64 bytes from fra16s50-in-f14.1e100.net (142.250.199.14): icmp_seq=1 ttl=118 time=25.6 ms 64 bytes from fra16s50-in-f14.1e100.net (142.250.199.14): icmp_seq=2 ttl=118 time=25.5 ms --- google.com ping statistics --- 2 packets transmitted, 2 received, 0% packet loss, time 1002ms rtt min/avg/max/mdev = 25.526/25.584/25.642/0.058 ms (Nhấn Ctrl+C để dừng). Kết quả cho thấy kết nối thành công, không mất gói tin nào, và thời gian trễ trung bình (avg) là 25.584 ms.\nCác tùy chọn hữu ích: Giới hạn số lượng gói tin: Sử dụng -c để lệnh tự dừng sau một số lượng gói nhất định. Bash $ ping -c 4 8.8.8.8 Kiểm tra mạng cục bộ: ping localhost hoặc ping 127.0.0.1 để đảm bảo card mạng và chồng giao thức TCP/IP của bạn đang hoạt động bình thường. traceroute: Vẽ Bản đồ Hành trình - Chẩn đoán Sự cố Định tuyến và “Nút cổ chai”\nKhi lệnh ping thất bại hoặc có độ trễ rất cao, câu hỏi tiếp theo là: “Sự cố xảy ra ở đâu trên đường đi?”. Lệnh traceroute được sinh ra để trả lời câu hỏi này. Nó hiển thị từng “chặng” (hop)—tức là mỗi router—mà gói tin của bạn đi qua trên đường đến đích.\ntraceroute hoạt động một cách thông minh bằng cách lợi dụng một trường trong tiêu đề IP gọi là TTL (Time-To-Live). Nó gửi đi một loạt gói tin, bắt đầu với TTL=1. Router đầu tiên nhận được gói tin, giảm TTL xuống 0, và gửi lại một thông báo lỗi “Time Exceeded”. traceroute ghi nhận địa chỉ của router này. Sau đó, nó gửi gói tin mới với TTL=2, gói tin này sẽ vượt qua router đầu tiên và chết ở router thứ hai, và cứ thế tiếp tục. Bằng cách này, nó vẽ ra toàn bộ bản đồ đường đi.\nBash\n$ traceroute google.com traceroute to google.com (142.250.199.14), 30 hops max, 60 byte packets 1 _gateway (192.168.1.1) 1.234 ms 1.567 ms 1.890 ms 2 10.0.0.1 (10.0.0.1) 10.112 ms 10.345 ms 10.567 ms 3 some.router.isp.net (203.0.113.1) 20.789 ms 20.912 ms 21.034 ms ... 12 fra16s50-in-f14.1e100.net (142.250.199.14) 25.456 ms 25.678 ms 25.890 ms Kết quả này cho phép bạn thấy độ trễ tại mỗi chặng. Nếu bạn thấy độ trễ tăng đột biến hoặc các dấu * * * (nghĩa là không nhận được phản hồi) ở một chặng nào đó, đó có thể là nơi xảy ra sự cố mạng.\n2.3. Dịch Tên thành Số: Truy vấn DNS với dig Tại sao dig là Tiêu chuẩn của Linux so với nslookup\nCả dig và nslookup đều là các công cụ để truy vấn hệ thống DNS. Tuy nhiên, trong cộng đồng Linux và quản trị mạng, dig (Domain Information Groper) được ưa chuộng hơn hẳn. Lý do là\ndig cung cấp đầu ra rất chi tiết, có cấu trúc rõ ràng và dễ dàng để phân tích bằng các script tự động, điều này cực kỳ quan trọng trong quản trị hệ thống.\nnslookup cũ hơn, và mặc dù nó đã được “hồi sinh” và không còn bị coi là lỗi thời hoàn toàn, dig vẫn được xem là công cụ chuyên nghiệp, mạnh mẽ và linh hoạt hơn.\nCác Truy vấn DNS Thực tế: Tìm bản ghi A, MX và các bản ghi thiết yếu khác\nTruy vấn cơ bản (tìm bản ghi A - địa chỉ IP): Bash $ dig google.com Kết quả sẽ được chia thành các phần rõ ràng: QUESTION SECTION (câu hỏi bạn đã gửi) và ANSWER SECTION (câu trả lời từ máy chủ DNS).51 Lấy câu trả lời ngắn gọn: Để chỉ lấy địa chỉ IP, sử dụng tùy chọn +short. Bash $ dig +short google.com 142.250.199.14 Truy vấn một loại bản ghi cụ thể: Bạn có thể chỉ định loại bản ghi bạn muốn tìm. Ví dụ, để tìm các máy chủ email (bản ghi MX - Mail Exchange) cho một tên miền: Bash $ dig google.com MX +short 10 smtp.google.com. Truy vấn một máy chủ DNS cụ thể: Mặc định, dig sử dụng máy chủ DNS được cấu hình trên hệ thống của bạn. Để truy vấn một máy chủ cụ thể (ví dụ: máy chủ DNS công cộng của Google), sử dụng ký hiệu @. Bash $ dig @8.8.8.8 fpt.vn Điều này rất hữu ích để chẩn đoán xem sự cố DNS có phải do máy chủ DNS của ISP của bạn hay không. Phần 3: Cấu hình Mạng Nâng cao: Gán IP Tĩnh Trong khi IP động phù hợp cho hầu hết các thiết bị của người dùng cuối, có những trường hợp bạn cần một địa chỉ IP không bao giờ thay đổi. Đây là lúc cấu hình IP tĩnh trở nên cần thiết.\n3.1. Tại sao và Khi nào nên Dùng IP Tĩnh? Bạn nên sử dụng địa chỉ IP tĩnh khi một thiết bị cần được truy cập một cách nhất quán và đáng tin cậy bởi các thiết bị khác. Các kịch bản phổ biến bao gồm:\nChạy Dịch vụ: Nếu bạn đang lưu trữ một trang web, máy chủ file (FTP/SMB), máy chủ game, hoặc API trên máy Linux của mình, bạn cần một IP tĩnh để người dùng và các ứng dụng khác luôn biết cách kết nối đến nó. Truy cập Từ xa: Đối với các kết nối như SSH hoặc VNC, việc có một IP tĩnh giúp bạn không phải tìm lại địa chỉ IP của máy chủ mỗi khi nó khởi động lại. Thiết bị Mạng Nội bộ: Các thiết bị như máy in mạng, thiết bị lưu trữ NAS, hoặc camera an ninh nên được gán IP tĩnh để các máy tính trong mạng luôn có thể tìm thấy chúng một cách dễ dàng mà không bị gián đoạn. Port Forwarding: Nếu bạn cần chuyển tiếp các port từ router đến một máy cụ thể trong mạng LAN, máy đó phải có IP tĩnh. 3.2. Hướng dẫn Cấu hình IP Tĩnh theo Từng Bản phân phối Cách cấu hình mạng trên Linux đã có một sự tiến hóa đáng kể. Việc hiểu rõ sự khác biệt giữa các phương pháp không chỉ giúp bạn cấu hình đúng mà còn cho thấy triết lý quản lý hệ thống đang thay đổi. Chúng ta đã đi từ việc chỉnh sửa file trực tiếp và đơn giản trên Debian (/etc/network/interfaces), đến một phương pháp được quản lý bởi một dịch vụ trung tâm, năng động hơn trên CentOS (NetworkManager và nmcli), và cuối cùng là một cách tiếp cận “khai báo” và trừu tượng trên Ubuntu hiện đại (Netplan). Cách tiếp cận khai báo của Netplan cho phép bạn mô tả trạng thái mong muốn của mạng trong một file YAML đơn giản, và Netplan sẽ tự động “dịch” nó thành cấu hình cho backend phù hợp (như NetworkManager hoặc systemd-networkd). Điều này phản ánh một xu hướng lớn hơn trong quản trị hệ thống: hướng tới tự động hóa, tính nhất quán và trừu tượng hóa sự phức tạp.\nVới Ubuntu (20.04+) và Netplan\nCác phiên bản Ubuntu hiện đại sử dụng netplan làm công cụ quản lý mạng mặc định. Các file cấu hình của nó là các file YAML nằm trong thư mục\n/etc/netplan/.\nXác định tên giao diện mạng: Dùng lệnh ip a để tìm tên giao diện bạn muốn cấu hình (ví dụ: enp0s3, eth0).\nChỉnh sửa file cấu hình Netplan: Mở file YAML trong /etc/netplan/ (tên file có thể là 00-installer-config.yaml hoặc tương tự) bằng một trình soạn thảo văn bản như nano hoặc vim.\nBash\nsudo nano /etc/netplan/00-installer-config.yaml Lưu ý quan trọng: Cú pháp YAML cực kỳ nhạy cảm với việc thụt lề. Hãy sử dụng dấu cách (thường là 2 hoặc 4 dấu cách cho mỗi cấp), không bao giờ sử dụng phím Tab.\nCập nhật cấu hình: Sửa đổi file để trông giống như sau, thay thế các giá trị cho phù hợp với mạng của bạn.\nYAML\nnetwork: version: 2 renderer: networkd ethernets: enp0s3: # \u003c-- Thay bằng tên giao diện của bạn dhcp4: no # \u003c-- Tắt DHCP để dùng IP tĩnh addresses: - 192.168.1.100/24 # \u003c-- Địa chỉ IP tĩnh và netmask (dạng CIDR) gateway4: 192.168.1.1 # \u003c-- Địa chỉ Gateway của mạng nameservers: addresses: [8.8.8.8, 1.1.1.1] # \u003c-- Địa chỉ các máy chủ DNS Kiểm tra và Áp dụng:\nTrước khi áp dụng, hãy kiểm tra cú pháp file cấu hình: Bash sudo netplan try Lệnh này sẽ áp dụng cấu hình trong 120 giây và nếu không có vấn đề gì (ví dụ bạn không bị mất kết nối), nó sẽ giữ lại thay đổi. Nếu có lỗi, nó sẽ tự động hoàn nguyên. Sau khi chắc chắn cấu hình đúng, hãy áp dụng vĩnh viễn: Bash sudo netplan apply Với Debian \u0026 Ubuntu cũ và /etc/network/interfaces\nĐây là phương pháp truyền thống trên các hệ thống dựa trên Debian (bao gồm cả Ubuntu 16.04 và cũ hơn).\nChỉnh sửa file interfaces:\nBash\nsudo nano /etc/network/interfaces Cập nhật cấu hình: Tìm đến đoạn cấu hình cho giao diện của bạn (ví dụ eth0) và sửa nó từ dhcp thành static, đồng thời thêm các thông số cần thiết.\n# Dòng này đảm bảo giao diện được bật khi khởi động auto eth0 # Cấu hình IP tĩnh cho eth0 iface eth0 inet static address 192.168.1.100 netmask 255.255.255.0 gateway 192.168.1.1 dns-nameservers 8.8.8.8 1.1.1.1 Khởi động lại dịch vụ mạng: Để áp dụng các thay đổi, hãy khởi động lại dịch vụ mạng.\nBash\nsudo systemctl restart networking Với CentOS/RHEL và nmcli\nCác hệ thống dựa trên Red Hat như CentOS, Fedora và RHEL sử dụng NetworkManager làm trình quản lý mạng mặc định. nmcli là công cụ dòng lệnh mạnh mẽ để tương tác với nó.\nXác định tên kết nối: Trước tiên, hãy liệt kê các kết nối mạng hiện có để lấy tên chính xác.\nBash\nnmcli connection show Kết quả sẽ hiển thị một cột NAME, ví dụ: ens33.\nSửa đổi kết nối: Sử dụng một chuỗi các lệnh nmcli để cấu hình IP tĩnh. Thay ens33 bằng tên kết nối của bạn.\nBash\n# Chuyển sang phương thức cấu hình thủ công sudo nmcli con mod ens33 ipv4.method manual # Đặt địa chỉ IP và netmask sudo nmcli con mod ens33 ipv4.addresses 192.168.1.100/24 # Đặt gateway sudo nmcli con mod ens33 ipv4.gateway 192.168.1.1 # Đặt DNS sudo nmcli con mod ens33 ipv4.dns \"8.8.8.8,1.1.1.1\" Áp dụng cấu hình: Kích hoạt lại kết nối để các thay đổi có hiệu lực.\nBash\nsudo nmcli con up ens33 Sử dụng Giao diện Đồ họa/Văn bản (NetworkManager GUI/TUI)\nĐối với các máy Linux có giao diện đồ họa (Desktop) hoặc cho những người không muốn làm việc trực tiếp với file cấu hình, NetworkManager cung cấp các công cụ trực quan.\nnmtui (Text User Interface): Chạy lệnh nmtui trong terminal sẽ mở ra một giao diện dựa trên văn bản. Chọn Edit a connection, chọn giao diện của bạn, và sau đó thay đổi cấu hình IPv4 từ Automatic sang Manual. Bạn sẽ có các trường để nhập địa chỉ IP, Gateway và DNS. nm-connection-editor (Graphical User Interface): Trên môi trường desktop GNOME, KDE, v.v., bạn có thể vào phần Cài đặt Mạng (Network Settings), chọn kết nối có dây hoặc không dây, nhấp vào biểu tượng cài đặt (bánh răng), chuyển sang tab IPv4, chọn phương thức “Manual” và điền các thông số tương tự. Phần 4: Khám phá “Hàng xóm” Kỹ thuật số: Quét tìm Thiết bị Mạng Sau khi đã cấu hình xong mạng cho máy của mình, bước tiếp theo là khám phá xem có những thiết bị nào khác đang cùng tồn tại trong mạng cục bộ (LAN) của bạn.\n4.1. Quét nhanh: Khám phá Láng giềng trong LAN với arp-scan Hiểu về ARP (Address Resolution Protocol)\nTrước khi dùng công cụ, hãy hiểu nguyên lý. Trong một mạng LAN, các thiết bị giao tiếp với nhau ở Lớp 2 (Data Link) bằng địa chỉ MAC. Khi máy A (IP 192.168.1.10) muốn gửi dữ liệu cho máy B (IP 192.168.1.20), nó cần biết địa chỉ MAC của máy B. Máy A sẽ phát một gói tin ARP request ra toàn mạng với câu hỏi: “Thiết bị nào có IP 192.168.1.20? Xin hãy cho tôi biết địa chỉ MAC của bạn”. Máy B khi nhận được yêu cầu này sẽ trả lời bằng một gói tin ARP reply chứa địa chỉ MAC của nó.\nSử dụng arp-scan\narp-scan là một công cụ dòng lệnh khai thác chính giao thức này. Nó gửi các gói tin ARP request cho mọi địa chỉ IP có thể có trong mạng con của bạn và lắng nghe các phản hồi.\nĐiểm mạnh của arp-scan là nó hoạt động ở Lớp 2. Nhiều thiết bị có thể được cấu hình tường lửa để chặn các gói tin ping (ICMP) hoặc các kết nối TCP (Lớp 3 và 4), khiến chúng trở nên “vô hình” trước các công cụ quét thông thường. Tuy nhiên, để có thể hoạt động trên mạng LAN, một thiết bị bắt buộc phải phản hồi các yêu cầu ARP. Do đó, arp-scan có khả năng phát hiện gần như mọi thiết bị đang hoạt động trên mạng cục bộ của bạn, ngay cả khi chúng có tường lửa.\nĐể sử dụng, bạn có thể cần cài đặt nó trước:\nBash\n# Trên Debian/Ubuntu sudo apt install arp-scan # Trên CentOS/RHEL sudo yum install arp-scan Sau đó, chạy lệnh với quyền root:\nBash\nsudo arp-scan --localnet # hoặc viết tắt sudo arp-scan -l Kết quả sẽ là một danh sách các địa chỉ IP, địa chỉ MAC tương ứng và nhà sản xuất card mạng (dựa trên địa chỉ MAC).\nInterface: enp0s3, type: EN10MB, MAC: 08:00:27:1a:2b:3c, IPv4: 192.168.1.105 Starting arp-scan 1.9.7 with 256 hosts (https://github.com/royhills/arp-scan) 192.168.1.1 01:23:45:67:89:ab (Unknown) 192.168.1.50 ab:cd:ef:12:34:56 TP-LINK TECHNOLOGIES CO.,LTD. 192.168.1.102 fe:dc:ba:65:43:21 Apple, Inc. ... 4.2. Quét sâu: Sức mạnh của nmap arp-scan rất tuyệt vời để trả lời câu hỏi “Có những ai ở đây?”, nhưng nmap (Network Mapper) sẽ trả lời câu hỏi sâu hơn: “Họ là ai và họ đang làm gì?”. nmap là một con dao đa năng của Thụy Sĩ trong lĩnh vực quét mạng, có khả năng khám phá máy chủ, các cổng đang mở, các dịch vụ đang chạy, phiên bản của chúng, hệ điều hành và thậm chí cả các lỗ hổng bảo mật tiềm tàng.\nMột người mới bắt đầu có thể chỉ dùng nmap để quét, nhưng một cách tiếp cận chuyên nghiệp và đáng tin cậy hơn là kết hợp sức mạnh của cả hai công cụ. Tường lửa có thể chặn các phương pháp khám phá máy chủ của nmap (dựa trên ICMP, TCP, UDP). Do đó, một quy trình làm việc hiệu quả là:\nSử dụng arp-scan (Layer 2) để xây dựng một danh sách chắc chắn về tất cả các thiết bị đang hoạt động trên mạng. Sử dụng danh sách IP thu được từ arp-scan làm đầu vào cho nmap (Layer 3/4) để thực hiện quét chi tiết về cổng và dịch vụ. Cách tiếp cận kết hợp này đảm bảo bạn không bỏ sót bất kỳ thiết bị nào và có được bức tranh toàn cảnh nhất về mạng của mình.\nCác kiểu Quét Cơ bản với nmap\nKhám phá Máy chủ (Ping Scan): Nhanh chóng xác định các máy chủ nào đang “sống” trong một dải mạng mà không cần quét cổng. Bash nmap -sn 192.168.1.0/24 Tùy chọn -sn (scan no port) chỉ thực hiện khám phá máy chủ. Quét các Cổng phổ biến: Đây là kiểu quét mặc định của nmap. Nó sẽ quét 1000 cổng TCP phổ biến nhất trên một mục tiêu. Bash nmap 192.168.1.50 Kết quả sẽ liệt kê các cổng ở trạng thái open (đang có dịch vụ lắng nghe), closed (không có dịch vụ), hoặc filtered (bị tường lửa chặn). Các loại quét cổng khác: nmap -sT 192.168.1.50: TCP Connect Scan. Hoàn thành một bắt tay TCP đầy đủ. Đáng tin cậy nhưng dễ bị ghi lại trong log. sudo nmap -sS 192.168.1.50: SYN “Stealth” Scan. Chỉ gửi gói SYN đầu tiên của bắt tay TCP. Nhanh hơn, “kín đáo” hơn, nhưng yêu cầu quyền root. sudo nmap -sU 192.168.1.50: Quét các cổng UDP. Chậm hơn và khó xác định hơn TCP. Thu thập Thông tin Nâng cao\nPhát hiện Phiên bản Dịch vụ (-sV): Cố gắng xác định chính xác tên và phiên bản của dịch vụ đang chạy trên các cổng mở. Thông tin này cực kỳ quý giá để tìm kiếm các lỗ hổng đã biết. Bash sudo nmap -sV 192.168.1.50 Phát hiện Hệ điều hành (-O): Cố gắng đoán hệ điều hành của máy chủ mục tiêu dựa trên các phản hồi mạng của nó. Bash sudo nmap -O 192.168.1.50 Quét Toàn diện (-A): Tùy chọn “hung hăng” (Aggressive) này kết hợp nhiều tính năng mạnh mẽ, bao gồm phát hiện hệ điều hành (-O), phát hiện phiên bản (-sV), quét script (-sC) và traceroute. Nó cung cấp một báo cáo rất chi tiết về mục tiêu. Bash sudo nmap -A 192.168.1.50 Phần 5: Điều khiển từ xa qua IP: SSH và VNC Một khi bạn đã xác định được địa chỉ IP của một máy khác, bạn có thể sử dụng nó để truy cập và điều khiển máy đó từ xa. Hai giao thức phổ biến nhất cho việc này trên Linux là SSH (cho dòng lệnh) và VNC (cho giao diện đồ họa).\n5.1. SSH (Secure Shell): Cổng vào Dòng lệnh của Quản trị viên SSH là giao thức tiêu chuẩn để truy cập dòng lệnh của một máy chủ Linux từ xa một cách an toàn. Mọi dữ liệu truyền qua SSH, bao gồm cả thông tin đăng nhập và các lệnh bạn gõ, đều được mã hóa mạnh mẽ.\nCài đặt và Thiết lập openssh-server\nHầu hết các máy khách Linux đã cài đặt sẵn openssh-client. Tuy nhiên, máy bạn muốn kết nối đến (máy chủ) cần phải cài đặt và chạy openssh-server.\nTrên Debian/Ubuntu: Bash sudo apt update sudo apt install openssh-server Trên CentOS/RHEL: Bash sudo yum install openssh-server Sau khi cài đặt, dịch vụ SSH (thường được gọi là sshd) sẽ tự động khởi động. Bạn có thể kiểm tra trạng thái của nó:\nBash\nsudo systemctl status ssh Kết nối An toàn: Từ Mật khẩu Cơ bản đến Xác thực bằng Cặp khóa SSH\nKết nối bằng mật khẩu (Cách cơ bản): Bash ssh username@ip_address Ví dụ: ssh admin@192.168.1.100. Lần đầu kết nối, bạn sẽ được yêu cầu xác nhận “dấu vân tay” (fingerprint) của máy chủ. Sau đó, bạn nhập mật khẩu của người dùng admin trên máy chủ. Cách này đơn giản nhưng kém an toàn hơn vì mật khẩu có thể bị dò ra. Kết nối bằng cặp khóa SSH (Cách chuyên nghiệp và an toàn hơn): Phương pháp này sử dụng một cặp khóa mã hóa: một khóa riêng tư (private key) được giữ bí mật trên máy khách của bạn, và một khóa công khai (public key) được đặt trên máy chủ. Tạo cặp khóa trên máy khách của bạn: Bash ssh-keygen -t rsa -b 4096 Lệnh này sẽ tạo ra một cặp khóa RSA với độ dài 4096 bit. Bạn sẽ được hỏi nơi lưu khóa (cứ nhấn Enter để dùng vị trí mặc định ~/.ssh/id_rsa) và một cụm mật khẩu (passphrase) để bảo vệ thêm cho khóa riêng tư của bạn (bạn có thể bỏ trống). Sao chép khóa công khai lên máy chủ: Cách dễ nhất là sử dụng lệnh ssh-copy-id. Bash ssh-copy-id username@ip_address Lệnh này sẽ tự động kết nối đến máy chủ, yêu cầu bạn nhập mật khẩu lần cuối, và sau đó sao chép nội dung của khóa công khai (~/.ssh/id_rsa.pub) vào đúng file ~/.ssh/authorized_keys trên máy chủ. Đăng nhập: Bây giờ, khi bạn chạy lại lệnh ssh username@ip_address, máy chủ sẽ nhận ra khóa công khai của bạn và cho phép bạn đăng nhập mà không cần mật khẩu. Tăng cường Bảo mật cho Máy chủ SSH\nĐể làm cho máy chủ SSH của bạn an toàn hơn nữa, hãy chỉnh sửa file cấu hình /etc/ssh/sshd_config.\nThay đổi cổng mặc định: Tin tặc thường quét cổng 22 (cổng mặc định của SSH). Thay đổi nó sang một cổng khác (ví dụ: Port 2222) sẽ giúp tránh các cuộc tấn công tự động. Vô hiệu hóa đăng nhập của người dùng root: Đăng nhập trực tiếp bằng root là một rủi ro bảo mật lớn. Hãy đặt PermitRootLogin no. Chỉ cho phép đăng nhập bằng khóa: Sau khi đã thiết lập xác thực bằng khóa thành công, hãy vô hiệu hóa hoàn toàn việc đăng nhập bằng mật khẩu để tăng cường bảo mật tối đa. Đặt PasswordAuthentication no. Sau khi thay đổi file cấu hình, đừng quên khởi động lại dịch vụ SSH: sudo systemctl restart ssh.\n5.2. VNC (Virtual Network Computing): Giao diện Đồ họa Từ xa Trong khi SSH là lựa chọn hoàn hảo cho dòng lệnh, VNC cho phép bạn xem và tương tác với toàn bộ môi trường desktop đồ họa (GUI) của một máy tính từ xa, như thể bạn đang ngồi ngay trước nó. Điều này rất hữu ích cho việc hỗ trợ kỹ thuật, quản lý các ứng dụng có giao diện đồ họa, hoặc làm việc từ xa.\nCài đặt và Cấu hình một Máy chủ VNC (ví dụ: TightVNC) trên Linux\nCài đặt Môi trường Desktop (nếu cần): Nếu bạn đang làm việc trên một phiên bản Server của Linux (không có GUI), bạn cần cài đặt một môi trường desktop trước. XFCE là một lựa chọn nhẹ và phổ biến.\nBash\n# Trên Debian/Ubuntu sudo apt update sudo apt install xfce4 xfce4-goodies Cài đặt VNC Server:\nBash\n# Trên Debian/Ubuntu sudo apt install tightvncserver Chạy VNC Server lần đầu: Chạy lệnh vncserver để thiết lập. Nó sẽ yêu cầu bạn tạo một mật khẩu chỉ dành cho VNC (tối đa 8 ký tự).\nBash\nvncserver Sau khi thiết lập mật khẩu, nó sẽ khởi động một phiên VNC mới và cho bạn biết số hiệu màn hình (display number), ví dụ: New 'X' desktop is your-hostname:1. Số :1 này tương ứng với cổng TCP 5901 (cổng mặc định của VNC là 5900 + số hiệu màn hình).\nKết nối từ Máy Client bằng một Trình xem VNC\nTrên máy tính cục bộ của bạn (Windows, macOS, hoặc Linux khác), bạn cần cài đặt một phần mềm VNC Viewer. Có rất nhiều lựa chọn miễn phí như TightVNC Viewer, RealVNC Viewer, hoặc UltraVNC.\nMở VNC Viewer của bạn và nhập địa chỉ của máy chủ VNC theo định dạng IP_máy_chủ:số_hiệu_màn_hình, ví dụ: 192.168.1.100:1. Sau đó, nhập mật khẩu VNC bạn đã tạo ở bước trên để kết nối.\n5.3. Vượt Tường lửa An toàn: Giới thiệu về SSH Tunneling (Port Forwarding) Đây là một kỹ thuật cực kỳ quan trọng, kết hợp sức mạnh của cả SSH và VNC. Vấn đề cốt lõi là giao thức VNC nguyên bản không được mã hóa. Mọi thứ bạn gõ và mọi thứ hiển thị trên màn hình đều được truyền đi dưới dạng văn bản thuần túy, khiến nó rất không an toàn khi sử dụng qua một mạng không tin cậy như Internet.\nViệc mở trực tiếp cổng VNC (5901, 5902,…) ra Internet là một rủi ro bảo mật nghiêm trọng. Một người mới có thể làm điều này, nhưng một chuyên gia thì không. Cách tiếp cận chuyên nghiệp và an toàn là không bao giờ phơi bày một dịch vụ không an toàn ra ngoài. Thay vào đó, chúng ta sẽ sử dụng SSH, vốn đã là một kênh giao tiếp an toàn, để tạo một “đường hầm” được mã hóa và cho lưu lượng VNC đi qua đó. Đây không phải là một “mẹo”, mà là một tiêu chuẩn bắt buộc khi làm việc với các giao thức không an toàn qua mạng công cộng.\nKịch bản Sử dụng Thực tế: Bảo vệ Kết nối VNC qua Đường hầm SSH\nThiết lập: Đảm bảo máy chủ của bạn đã cài đặt openssh-server và bạn có thể kết nối đến nó bằng SSH. Đảm bảo máy chủ cũng đang chạy một phiên VNC (ví dụ trên cổng 5901). Không mở cổng 5901 trên tường lửa của máy chủ.\nTạo đường hầm SSH từ máy khách: Mở terminal trên máy khách của bạn và chạy lệnh sau:\nBash\nssh -L 5901:localhost:5901 username@ip_address Hãy phân tích lệnh này 95:\nssh...: Khởi tạo một kết nối SSH như bình thường. -L 5901:localhost:5901: Đây là phần tạo đường hầm (Local Port Forwarding). 5901: (phần đầu tiên): Mở cổng 5901 trên máy khách (máy cục bộ của bạn) và lắng nghe các kết nối. localhost: Từ góc nhìn của máy chủ SSH, đích đến của đường hầm là localhost (chính nó). :5901 (phần cuối cùng): Kết nối sẽ được chuyển tiếp đến cổng 5901 trên đích đó (tức là cổng VNC trên máy chủ). Nói một cách đơn giản, lệnh này có nghĩa là: “Bất kỳ lưu lượng nào được gửi đến cổng 5901 trên máy tính của tôi, hãy chuyển tiếp nó một cách an toàn qua đường hầm SSH đến cổng 5901 trên máy chủ.”\nKết nối VNC: Bây giờ, trên máy khách của bạn, hãy mở VNC Viewer và thay vì kết nối đến dia_chi_ip_may_chu:1, bạn hãy kết nối đến localhost:1 (hoặc 127.0.0.1:5901).\nKết nối VNC của bạn bây giờ sẽ đi qua đường hầm SSH đã được mã hóa, đảm bảo an toàn tuyệt đối cho phiên làm việc từ xa của bạn.\nPhần 6: Kết luận và các Bước Tiếp theo Chúng ta đã cùng nhau trải qua một hành trình dài và chi tiết, từ việc giải phẫu những khái niệm cơ bản nhất của địa chỉ IP, phân loại chúng, cho đến việc sử dụng các công cụ dòng lệnh mạnh mẽ của Linux để tương tác với mạng. Bạn đã học cách tìm địa chỉ IP của mình, kiểm tra sức khỏe mạng, cấu hình IP tĩnh cho các bản phân phối phổ biến, quét tìm các thiết bị khác, và quan trọng nhất là thiết lập các kết nối từ xa an toàn bằng SSH và VNC kết hợp với SSH tunneling.\nKiến thức về mạng là vô tận. Những gì bạn đã học được ở đây là những khối xây dựng cơ bản. Để tiếp tục phát triển kỹ năng của mình, bạn có thể khám phá các chủ đề nâng cao sau:\nTường lửa và Bảo mật Mạng: Tìm hiểu về các công cụ như ufw (Uncomplicated Firewall), firewalld, và iptables để kiểm soát lưu lượng ra vào máy Linux của bạn. Chia Mạng con (Subnetting): Học cách chia một mạng lớn thành các mạng con nhỏ hơn để quản lý không gian địa chỉ hiệu quả và tăng cường bảo mật. Mạng riêng ảo (VPN): Tìm hiểu cách thiết lập các máy chủ VPN như OpenVPN hoặc WireGuard để tạo ra các kết nối an toàn và riêng tư đến mạng của bạn từ bất kỳ đâu. Các khái niệm Mạng Nâng cao: Khám phá các chủ đề như Network Namespaces (để cô lập các môi trường mạng, nền tảng của container), các giao thức định tuyến động, và cấu hình mạng phức tạp hơn. Chúc bạn thành công trên con đường làm chủ hệ thống của mình!\nNếu thấy hay, hãy để lại cho mình 1 comment xuống phía dưới để mình có động lực viết các blog chất lượng tiếp theo nhé!\n","wordCount":"8487","inLanguage":"en","image":"https://blog.nagih.io.vn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2025-08-13T00:00:00Z","dateModified":"2025-08-13T00:00:00Z","author":{"@type":"Person","name":"Nagih"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.nagih.io.vn/posts/ip/"},"publisher":{"@type":"Organization","name":"Nagih | Blog","logo":{"@type":"ImageObject","url":"https://blog.nagih.io.vn/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://blog.nagih.io.vn/ accesskey=h title="Home (Alt + H)"><img src=https://blog.nagih.io.vn/apple-touch-icon.png alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://blog.nagih.io.vn/archives/ title=Archive><span>Archive</span></a></li><li><a href=https://blog.nagih.io.vn/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://blog.nagih.io.vn/categories/ title=Categories><span>Categories</span></a></li><li><a href=https://blog.nagih.io.vn/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://nagih.io.vn title=Home><span>Home</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://blog.nagih.io.vn/>Home</a>&nbsp;»&nbsp;<a href=https://blog.nagih.io.vn/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">Internet Protocol (IP)</h1><div class=post-meta><span title='2025-08-13 00:00:00 +0000 UTC'>August 13, 2025</span>&nbsp;·&nbsp;40 min&nbsp;·&nbsp;8487 words&nbsp;·&nbsp;Nagih&nbsp;|&nbsp;<a href=https://github.com/vuongmanhnghia/posts/content/posts/network/IP.md rel="noopener noreferrer edit" target=_blank>Suggest Changes</a></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#phần-1-giải-phẫu-địa-chỉ-ip>Phần 1: Giải Phẫu Địa Chỉ IP</a><ul><li><a href=#11-địa-chỉ-ip-là-gì-hơn-cả-những-con-số>1.1. Địa chỉ IP là gì? Hơn Cả những Con Số</a></li><li><a href=#12-bản-đồ-địa-chỉ-ip-điều-hướng-trong-không-gian-mạng>1.2. &ldquo;Bản đồ&rdquo; Địa chỉ IP: Điều hướng trong Không gian Mạng</a></li><li><a href=#13-tương-lai-của-kết-nối-ipv4-vs-ipv6>1.3. Tương lai của Kết nối: IPv4 vs. IPv6</a></li></ul></li><li><a href=#phần-2-bộ-công-cụ-của-người-dùng-linux-tương-tác-với-ip-qua-dòng-lệnh>Phần 2: Bộ công cụ của Người dùng Linux: Tương tác với IP qua Dòng lệnh</a><ul><li><a href=#21-tôi-là-ai-trên-mạng-tìm-địa-chỉ-ip-của-bạn>2.1. Tôi là ai trên Mạng? Tìm Địa chỉ IP của bạn</a></li><li><a href=#22-kiểm-tra-sức-khỏe-mạng-lệnh-ping-và-traceroute>2.2. Kiểm tra &ldquo;Sức khỏe&rdquo; Mạng: Lệnh <code>ping</code> và <code>traceroute</code></a></li><li><a href=#23-dịch-tên-thành-số-truy-vấn-dns-với-dig>2.3. Dịch Tên thành Số: Truy vấn DNS với <code>dig</code></a></li></ul></li><li><a href=#phần-3-cấu-hình-mạng-nâng-cao-gán-ip-tĩnh>Phần 3: Cấu hình Mạng Nâng cao: Gán IP Tĩnh</a><ul><li><a href=#31-tại-sao-và-khi-nào-nên-dùng-ip-tĩnh>3.1. Tại sao và Khi nào nên Dùng IP Tĩnh?</a></li><li><a href=#32-hướng-dẫn-cấu-hình-ip-tĩnh-theo-từng-bản-phân-phối>3.2. Hướng dẫn Cấu hình IP Tĩnh theo Từng Bản phân phối</a></li></ul></li><li><a href=#phần-4-khám-phá-hàng-xóm-kỹ-thuật-số-quét-tìm-thiết-bị-mạng>Phần 4: Khám phá &ldquo;Hàng xóm&rdquo; Kỹ thuật số: Quét tìm Thiết bị Mạng</a><ul><li><a href=#41-quét-nhanh-khám-phá-láng-giềng-trong-lan-với-arp-scan>4.1. Quét nhanh: Khám phá Láng giềng trong LAN với <code>arp-scan</code></a></li><li><a href=#42-quét-sâu-sức-mạnh-của-nmap>4.2. Quét sâu: Sức mạnh của <code>nmap</code></a></li></ul></li><li><a href=#phần-5-điều-khiển-từ-xa-qua-ip-ssh-và-vnc>Phần 5: Điều khiển từ xa qua IP: SSH và VNC</a><ul><li><a href=#51-ssh-secure-shell-cổng-vào-dòng-lệnh-của-quản-trị-viên>5.1. SSH (Secure Shell): Cổng vào Dòng lệnh của Quản trị viên</a></li><li><a href=#52-vnc-virtual-network-computing-giao-diện-đồ-họa-từ-xa>5.2. VNC (Virtual Network Computing): Giao diện Đồ họa Từ xa</a></li><li><a href=#53-vượt-tường-lửa-an-toàn-giới-thiệu-về-ssh-tunneling-port-forwarding>5.3. Vượt Tường lửa An toàn: Giới thiệu về SSH Tunneling (Port Forwarding)</a></li></ul></li><li><a href=#phần-6-kết-luận-và-các-bước-tiếp-theo>Phần 6: Kết luận và các Bước Tiếp theo</a></li></ul></nav></div></details></div><div class=post-content><p>Mastering Internet Protocol Addresses</p><p>Đối với một người dùng Linux, dù bạn là nhà phát triển, quản trị viên hệ thống hay chỉ là một người đam mê công nghệ, việc hiểu sâu và làm chủ địa chỉ IP không chỉ là một kỹ năng hữu ích mà còn là một yêu cầu thiết yếu.</p><p>Bài viết này sẽ là kim chỉ nam của bạn, dẫn dắt bạn đi từ những khái niệm cơ bản nhất như &ldquo;Địa chỉ IP là gì?&rdquo; đến các kỹ thuật nâng cao như cấu hình mạng, quét tìm thiết bị và thiết lập kết nối từ xa an toàn. Chúng ta sẽ cùng nhau &ldquo;mổ xẻ&rdquo; các lệnh, khám phá các công cụ và áp dụng chúng vào những kịch bản thực tế, giúp bạn tự tin điều hướng trong không gian mạng rộng lớn bằng sức mạnh của dòng lệnh Linux.</p><h2 id=phần-1-giải-phẫu-địa-chỉ-ip>Phần 1: Giải Phẫu Địa Chỉ IP<a hidden class=anchor aria-hidden=true href=#phần-1-giải-phẫu-địa-chỉ-ip>#</a></h2><p>Trước khi đi sâu vào các câu lệnh và cấu hình, việc xây dựng một nền tảng kiến thức vững chắc về bản chất của địa chỉ IP là vô cùng quan trọng. Phần này sẽ giải mã các khái niệm cốt lõi, giúp bạn hiểu rõ &ldquo;tại sao&rdquo; và &ldquo;như thế nào&rdquo; trước khi học &ldquo;làm gì&rdquo;.</p><h3 id=11-địa-chỉ-ip-là-gì-hơn-cả-những-con-số>1.1. Địa chỉ IP là gì? Hơn Cả những Con Số<a hidden class=anchor aria-hidden=true href=#11-địa-chỉ-ip-là-gì-hơn-cả-những-con-số>#</a></h3><p><strong>Vai trò Cốt lõi: &ldquo;Địa chỉ Nhà Kỹ thuật số&rdquo; của Thiết bị</strong></p><p>Về cơ bản, địa chỉ Giao thức Internet (Internet Protocol address), hay địa chỉ IP, là một định danh số duy nhất được gán cho mỗi thiết bị điện tử (như máy tính, điện thoại, máy chủ) khi tham gia vào một mạng máy tính sử dụng Giao thức Internet để giao tiếp. Hãy hình dung nó như một địa chỉ nhà trong thế giới thực; để một lá thư (dữ liệu) có thể được gửi đến đúng người nhận (thiết bị), nó cần một địa chỉ chính xác. Mục đích chính của địa chỉ IP là để nhận diện thiết bị và xác định vị trí của nó trên mạng, từ đó cho phép việc truyền và nhận dữ liệu diễn ra một cách chính xác.</p><p>Mọi dữ liệu di chuyển trên mạng đều được chia thành các đơn vị nhỏ hơn gọi là &ldquo;gói tin&rdquo; (packets). Mỗi gói tin này không chỉ chứa một phần dữ liệu mà còn mang theo một phần &ldquo;tiêu đề&rdquo; (header). Trong tiêu đề này, thông tin quan trọng nhất chính là địa chỉ IP của người gửi (nguồn) và địa chỉ IP của người nhận (đích). Cấu trúc này đảm bảo rằng dù các gói tin có thể đi theo những con đường khác nhau qua Internet, chúng vẫn sẽ đến được đúng đích và được tập hợp lại một cách chính xác.</p><p>Tuy nhiên, việc ví IP như một &ldquo;địa chỉ nhà&rdquo; chỉ là bước khởi đầu. Một sự tương đồng chính xác hơn cho người dùng kỹ thuật là: <strong>địa chỉ IP giống như địa chỉ của <em>vị trí</em> bạn đang kết nối mạng, trong khi địa chỉ MAC (Media Access Control) mới thực sự là số sê-ri định danh duy nhất của <em>thiết bị</em> đó.</strong> Địa chỉ MAC là một địa chỉ vật lý, được gán cứng vào card mạng của bạn bởi nhà sản xuất và không thay đổi. Ngược lại, địa chỉ IP của bạn có thể thay đổi. Khi bạn mang laptop từ nhà (kết nối vào mạng Wi-Fi gia đình) đến một quán cà phê (kết nối vào mạng Wi-Fi của quán), địa chỉ MAC của laptop vẫn giữ nguyên, nhưng nó sẽ được cấp một địa chỉ IP mới tương ứng với mạng của quán cà phê. Việc phân biệt rõ ràng giữa định danh thiết bị (MAC, Lớp 2) và định danh vị trí mạng (IP, Lớp 3) là chìa khóa để hiểu các khái niệm như DHCP, tính di động của mạng và cách các lớp khác nhau trong mô hình mạng tương tác với nhau.</p><p><strong>Cỗ máy Vận hành: Giao thức IP và Vị trí trong Chồng Giao thức TCP/IP</strong></p><p>Địa chỉ IP không tồn tại một mình; nó là một phần không thể tách rời của bộ giao thức TCP/IP, bộ khung xương sống của Internet hiện đại. TCP/IP là một mô hình phân tầng, trong đó Giao thức IP hoạt động ở Tầng Mạng (Network Layer), hay còn gọi là Tầng Internet, tương ứng với Lớp 3 trong mô hình tham chiếu OSI (Open Systems Interconnection).</p><p>Trong bộ đôi này, mỗi giao thức có một nhiệm vụ riêng biệt:</p><ul><li><strong>IP (Internet Protocol):</strong> Chịu trách nhiệm về việc <strong>định địa chỉ và định tuyến</strong>. Nó gắn địa chỉ IP vào các gói tin và quyết định con đường mà các gói tin đó sẽ đi qua mạng để đến đích. IP hoạt động theo nguyên tắc &ldquo;nỗ lực tốt nhất&rdquo; (best-effort), nghĩa là nó không đảm bảo các gói tin sẽ đến nơi, đến đúng thứ tự, hay không bị lỗi.</li><li><strong>TCP (Transmission Control Protocol):</strong> Hoạt động ở tầng trên (Tầng Giao vận - Transport Layer), TCP bổ sung cho sự thiếu tin cậy của IP. Nó thiết lập một kết nối ổn định, đảm bảo rằng tất cả các gói tin đều đến đích một cách toàn vẹn và theo đúng thứ tự. Nếu một gói tin bị mất, TCP sẽ yêu cầu gửi lại.</li></ul><p>Sự kết hợp giữa một hệ thống địa chỉ và định tuyến toàn cầu (IP) và một cơ chế đảm bảo truyền tải đáng tin cậy (TCP) chính là thứ đã tạo nên một Internet mạnh mẽ và linh hoạt như ngày nay.</p><p><strong>Hành trình của một Gói tin: Cách Dữ liệu Di chuyển trên Internet</strong></p><p>Hãy xem xét một hành động quen thuộc: bạn gõ <code>google.com</code> vào trình duyệt. Đây là những gì xảy ra đằng sau hậu trường:</p><ol><li><strong>Phân giải DNS:</strong> Máy tính của bạn không biết <code>google.com</code> ở đâu. Nó gửi một yêu cầu đến một Máy chủ Tên miền (DNS - Domain Name System) để hỏi: &ldquo;Địa chỉ IP của <code>google.com</code> là gì?&rdquo;. Máy chủ DNS sẽ trả lời bằng một địa chỉ IP, ví dụ <code>172.217.24.238</code>.</li><li><strong>Đóng gói và Gửi đi:</strong> Trình duyệt của bạn tạo một yêu cầu (ví dụ: HTTP GET) và chuyển nó xuống các tầng thấp hơn của mô hình TCP/IP. Dữ liệu được chia thành các gói tin, mỗi gói được gắn tiêu đề chứa IP nguồn (máy của bạn) và IP đích (máy chủ Google).</li><li><strong>Chặng đầu tiên:</strong> Gói tin được gửi từ máy tính của bạn đến thiết bị mạng gần nhất, thường là bộ định tuyến (router) Wi-Fi ở nhà hoặc văn phòng của bạn.</li><li><strong>Định tuyến qua các Chặng:</strong> Khi router nhận được gói tin, nó sẽ nhìn vào địa chỉ IP đích. Dựa trên thông tin trong <strong>bảng chuyển tiếp</strong> (forwarding table) của mình, nó sẽ quyết định &ldquo;chặng kế tiếp&rdquo; (next hop) tốt nhất để gửi gói tin đi—tức là một router khác gần với đích đến hơn. Bảng chuyển tiếp này không chứa mọi địa chỉ IP trên thế giới, mà chỉ chứa các đường dẫn đến các mạng lớn, được cập nhật liên tục thông qua các giao thức định tuyến như OSPF hay BGP.</li><li><strong>Lặp lại và Đến đích:</strong> Quá trình này lặp đi lặp lại. Gói tin của bạn nhảy từ router này sang router khác, qua nhiều nhà cung cấp dịch vụ Internet, thậm chí qua các quốc gia khác nhau, cho đến khi nó đến được router cuối cùng kết nối trực tiếp với máy chủ của Google. Máy chủ này sau đó sẽ xử lý yêu cầu và gửi các gói tin phản hồi trở lại máy của bạn theo một quy trình tương tự.</li></ol><h3 id=12-bản-đồ-địa-chỉ-ip-điều-hướng-trong-không-gian-mạng>1.2. &ldquo;Bản đồ&rdquo; Địa chỉ IP: Điều hướng trong Không gian Mạng<a hidden class=anchor aria-hidden=true href=#12-bản-đồ-địa-chỉ-ip-điều-hướng-trong-không-gian-mạng>#</a></h3><p>Không phải tất cả các địa chỉ IP đều được tạo ra như nhau. Chúng được phân loại dựa trên phạm vi và cách thức cấp phát để phục vụ các mục đích khác nhau.</p><p><strong>IP Công cộng (Public) vs. IP Riêng (Private): Cổng ra Internet và Mạng Nội bộ</strong></p><p>Đây là sự phân chia cơ bản nhất về phạm vi của địa chỉ IP.</p><ul><li><strong>IP Riêng (Private IP):</strong> Đây là các địa chỉ được sử dụng <strong>bên trong một mạng cục bộ (LAN)</strong>, chẳng hạn như mạng gia đình, văn phòng, hoặc trường học. Chúng không thể được truy cập trực tiếp từ Internet. Điều này cho phép hàng triệu mạng riêng trên khắp thế giới có thể sử dụng lại cùng một bộ địa chỉ mà không bị xung đột. Các dải địa chỉ IP riêng đã được tiêu chuẩn hóa và dành riêng cho mục đích này 3:<ul><li>Lớp A: <code>10.0.0.0</code> đến <code>10.255.255.255</code> (tiền tố <code>10.0.0.0/8</code>)</li><li>Lớp B: <code>172.16.0.0</code> đến <code>172.31.255.255</code> (tiền tố <code>172.16.0.0/12</code>)</li><li>Lớp C: <code>192.168.0.0</code> đến <code>192.168.255.255</code> (tiền tố <code>192.168.0.0/16</code>)</li></ul></li><li><strong>IP Công cộng (Public IP):</strong> Đây là địa chỉ <strong>duy nhất trên toàn cầu</strong>, được cấp phát bởi Nhà cung cấp dịch vụ Internet (ISP) của bạn. Đây chính là địa chỉ mà thế giới bên ngoài nhìn thấy khi bạn kết nối với Internet. Mọi trang web, máy chủ email, hoặc dịch vụ trực tuyến mà bạn truy cập đều có một địa chỉ IP công cộng.</li><li><strong>NAT (Network Address Translation):</strong> Vậy làm thế nào mà hàng tỷ thiết bị với IP riêng có thể truy cập Internet chỉ với một số lượng hạn chế IP công cộng? Câu trả lời là NAT. Router của bạn đóng vai trò như một &ldquo;phiên dịch viên&rdquo;. Khi một thiết bị trong mạng LAN của bạn (với IP riêng) muốn gửi dữ liệu ra Internet, router sẽ thay thế địa chỉ IP riêng trong gói tin bằng địa chỉ IP công cộng duy nhất của nó. Khi nhận được phản hồi, nó sẽ dịch ngược lại và gửi đến đúng thiết bị trong mạng LAN. NAT không chỉ giúp tiết kiệm địa chỉ IP công cộng mà còn tăng cường bảo mật bằng cách che giấu cấu trúc mạng nội bộ của bạn khỏi thế giới bên ngoài.</li></ul><p><strong>Bảng 1: So sánh IP Công cộng và IP Riêng</strong></p><table><thead><tr><th>Tiêu chí</th><th>IP Công cộng (Public)</th><th>IP Riêng (Private)</th></tr></thead><tbody><tr><td><strong>Phạm vi</strong></td><td>Duy nhất trên toàn cầu, có thể định tuyến trên Internet.</td><td>Cục bộ, chỉ có ý nghĩa trong một mạng LAN, không thể định tuyến trên Internet.</td></tr><tr><td><strong>Cấp phát</strong></td><td>Được cấp bởi Nhà cung cấp dịch vụ Internet (ISP) và các tổ chức quản lý mạng.</td><td>Được cấp bởi router (thông qua DHCP) hoặc quản trị viên mạng.</td></tr><tr><td><strong>Chi phí</strong></td><td>Có phí, là một phần của gói dịch vụ Internet.</td><td>Miễn phí, có thể sử dụng tự do trong các dải quy định.</td></tr><tr><td><strong>Khả năng truy cập</strong></td><td>Có thể được truy cập từ bất kỳ đâu trên Internet.</td><td>Chỉ có thể được truy cập bởi các thiết bị khác trong cùng mạng LAN.</td></tr><tr><td><strong>Mục đích sử dụng</strong></td><td>Cho phép các thiết bị kết nối và giao tiếp với Internet.</td><td>Cho phép các thiết bị trong một mạng nội bộ giao tiếp với nhau.</td></tr></tbody></table><p><strong>IP Tĩnh (Static) vs. IP Động (Dynamic): Vĩnh viễn và Tạm thời</strong></p><p>Đây là sự phân loại dựa trên cách thức một địa chỉ IP được gán cho một thiết bị.</p><ul><li><strong>IP Động (Dynamic IP):</strong> Đây là phương pháp phổ biến nhất. Địa chỉ IP được cấp phát <strong>tự động và tạm thời</strong> cho một thiết bị khi nó kết nối vào mạng. Công việc này thường được thực hiện bởi một máy chủ DHCP (Dynamic Host Configuration Protocol), thường được tích hợp sẵn trong router của bạn. Khi bạn ngắt kết nối, địa chỉ IP đó sẽ được &ldquo;trả lại&rdquo; vào một &ldquo;kho&rdquo; chung để có thể cấp phát cho một thiết bị khác. Điều này giúp quản lý địa chỉ hiệu quả và dễ dàng.</li><li><strong>IP Tĩnh (Static IP):</strong> Ngược lại với IP động, IP tĩnh được <strong>cấu hình thủ công và gán cố định</strong> cho một thiết bị. Nó sẽ không bao giờ thay đổi trừ khi quản trị viên mạng thay đổi nó. IP tĩnh rất quan trọng cho các thiết bị cần được truy cập một cách nhất quán từ xa, ví dụ như:<ul><li>Máy chủ Web, Email, Game: Để người dùng và các dịch vụ khác luôn biết cách tìm đến.</li><li>Máy chủ VPN: Để nhân viên có thể kết nối từ xa vào mạng công ty.</li><li>Camera an ninh, máy in mạng: Để các thiết bị khác trong mạng luôn có thể kết nối đến chúng một cách đáng tin cậy.</li></ul></li></ul><p><strong>Bảng 2: So sánh IP Tĩnh và IP Động</strong></p><table><thead><tr><th>Tiêu chí</th><th>IP Tĩnh (Static)</th><th>IP Động (Dynamic)</th></tr></thead><tbody><tr><td><strong>Cấp phát</strong></td><td>Thủ công, được quản trị viên gán cố định cho một thiết bị.</td><td>Tự động, được cấp phát tạm thời bởi máy chủ DHCP.</td></tr><tr><td><strong>Độ ổn định</strong></td><td>Cố định, không thay đổi theo thời gian. Rất đáng tin cậy cho các dịch vụ.</td><td>Thay đổi mỗi khi kết nối lại hoặc sau một khoảng thời gian nhất định.</td></tr><tr><td><strong>Bảo mật</strong></td><td>Có thể dễ bị nhắm mục tiêu hơn vì địa chỉ không đổi, cho tin tặc nhiều thời gian để thăm dò.</td><td>Khó theo dõi và tấn công hơn vì địa chỉ IP thay đổi liên tục.</td></tr><tr><td><strong>Chi phí</strong></td><td>Thường yêu cầu trả thêm phí cho ISP (đối với IP công cộng tĩnh).</td><td>Thường được bao gồm miễn phí trong gói dịch vụ Internet.</td></tr><tr><td><strong>Trường hợp sử dụng</strong></td><td>Máy chủ (web, file, game), thiết bị mạng (router, switch), VPN, camera an ninh.</td><td>Máy tính cá nhân, laptop, điện thoại thông minh, máy tính bảng của người dùng cuối.</td></tr></tbody></table><h3 id=13-tương-lai-của-kết-nối-ipv4-vs-ipv6>1.3. Tương lai của Kết nối: IPv4 vs. IPv6<a hidden class=anchor aria-hidden=true href=#13-tương-lai-của-kết-nối-ipv4-vs-ipv6>#</a></h3><p>Giao thức IP mà chúng ta đã thảo luận chủ yếu cho đến nay là IPv4 (Internet Protocol version 4). Tuy nhiên, nó có một người kế nhiệm đang dần được triển khai trên toàn cầu: IPv6.</p><p><strong>Tại sao cần IPv6: Sự cạn kiệt của IPv4</strong></p><p>IPv4 sử dụng một không gian địa chỉ 32-bit, cho phép tạo ra khoảng 232 (tức khoảng 4.3 tỷ) địa chỉ IP duy nhất. Vào thời điểm Internet ra đời, con số này có vẻ khổng lồ. Tuy nhiên, với sự bùng nổ của các thiết bị kết nối Internet—từ máy tính, điện thoại đến đồng hồ thông minh, tủ lạnh (Internet of Things - IoT)—không gian địa chỉ của IPv4 đã chính thức cạn kiệt.</p><p>IPv6 (Internet Protocol version 6) được tạo ra để giải quyết triệt để vấn đề này. Nó sử dụng không gian địa chỉ 128-bit, cung cấp một số lượng địa chỉ gần như vô hạn: 2128, hay khoảng 340 undecillion (340 nghìn tỷ tỷ tỷ tỷ) địa chỉ. Con số này đủ để cấp hàng tỷ địa chỉ cho mỗi mét vuông trên bề mặt Trái Đất.</p><p><strong>Những khác biệt Chính</strong></p><p>Ngoài không gian địa chỉ, IPv6 còn mang lại nhiều cải tiến quan trọng khác:</p><ul><li><strong>Định dạng địa chỉ:</strong> Địa chỉ IPv4 có dạng 4 cụm số thập phân, cách nhau bằng dấu chấm (ví dụ: <code>192.168.1.1</code>). Địa chỉ IPv6 có dạng 8 cụm số thập lục phân (hexadecimal), cách nhau bằng dấu hai chấm (ví dụ:
<code>2001:0db8:85a3:0000:0000:8a2e:0370:7334</code>). Nó có thể được rút gọn bằng cách bỏ các số 0 đứng đầu và thay thế một chuỗi các số 0 liên tiếp bằng <code>::</code>.</li><li><strong>Bảo mật:</strong> IPv6 được thiết kế với tư duy bảo mật ngay từ đầu. Nó tích hợp sẵn IPsec (Internet Protocol Security) như một thành phần bắt buộc, giúp mã hóa và xác thực lưu lượng mạng từ đầu đến cuối. Trong khi đó, IPsec là một tùy chọn bổ sung cho IPv4.</li><li><strong>Hiệu suất và Cấu hình:</strong> IPv6 có cấu trúc tiêu đề (header) gói tin đơn giản và hiệu quả hơn, giúp các router xử lý gói tin nhanh hơn. Nó cũng giới thiệu tính năng Tự động cấu hình địa chỉ không trạng thái (SLAAC - Stateless Address Autoconfiguration), cho phép các thiết bị tự tạo địa chỉ IPv6 của riêng mình mà không cần đến máy chủ DHCP, giúp giảm lưu lượng quản lý trên mạng.</li><li><strong>Loại bỏ NAT:</strong> Vì không gian địa chỉ của IPv6 là khổng lồ, mỗi thiết bị có thể có một địa chỉ IP công cộng duy nhất. Điều này loại bỏ sự cần thiết của NAT, cho phép kết nối trực tiếp từ đầu cuối (end-to-end) và đơn giản hóa việc phát triển các ứng dụng ngang hàng (peer-to-peer).</li></ul><p>Mặc dù có những ưu điểm kỹ thuật vượt trội, quá trình chuyển đổi sang IPv6 diễn ra chậm chạp. Lý do chính không nằm ở công nghệ mà ở vấn đề kinh tế và logistics. IPv6 không tương thích ngược trực tiếp với IPv4. Điều này tạo ra một bài toán &ldquo;con gà và quả trứng&rdquo; kinh điển: các nhà cung cấp dịch vụ, nhà cung cấp nội dung và người dùng cuối đều do dự trong việc nâng cấp vì phần còn lại của hệ sinh thái chưa sẵn sàng. Việc này đòi hỏi một nỗ lực phối hợp toàn cầu để di cư toàn bộ Internet trong khi vẫn phải duy trì hoạt động của mạng IPv4. Đối với một quản trị viên Linux, điều này có một ý nghĩa thực tế quan trọng: trong tương lai gần, họ sẽ phải làm việc trong một môi trường</p><p><strong>song song (dual-stack)</strong>, nơi các hệ thống phải được cấu hình và có khả năng xử lý cả hai giao thức IPv4 và IPv6. Do đó, việc thành thạo cả hai là một kỹ năng thiết yếu.</p><p><strong>Bảng 3: So sánh Chi tiết IPv4 và IPv6</strong></p><table><thead><tr><th>Tiêu chí</th><th>IPv4</th><th>IPv6</th></tr></thead><tbody><tr><td><strong>Độ dài địa chỉ</strong></td><td>32-bit</td><td>128-bit</td></tr><tr><td><strong>Định dạng</strong></td><td>Số thập phân, ngăn cách bằng dấu chấm (ví dụ: <code>192.168.1.1</code>)</td><td>Số thập lục phân, ngăn cách bằng dấu hai chấm (ví dụ: <code>2001:db8::1</code>)</td></tr><tr><td><strong>Không gian địa chỉ</strong></td><td>~4.3 tỷ địa chỉ</td><td>~3.4 x 1038 địa chỉ</td></tr><tr><td><strong>Cấu hình địa chỉ</strong></td><td>Thủ công hoặc qua DHCP</td><td>Tự động cấu hình (SLAAC), DHCPv6</td></tr><tr><td><strong>Bảo mật</strong></td><td>IPsec là tùy chọn</td><td>IPsec được tích hợp và là bắt buộc</td></tr><tr><td><strong>NAT</strong></td><td>Thường xuyên cần thiết do thiếu hụt địa chỉ</td><td>Không cần thiết, cho phép kết nối đầu cuối thực sự</td></tr><tr><td><strong>Kích thước Header</strong></td><td>20-60 bytes, phức tạp hơn</td><td>40 bytes, cố định, đơn giản và hiệu quả hơn</td></tr><tr><td><strong>Phân mảnh gói tin</strong></td><td>Thực hiện bởi cả máy gửi và router</td><td>Chỉ thực hiện bởi máy gửi</td></tr><tr><td><strong>Truyền thông Multicast</strong></td><td>Hỗ trợ qua IGMP</td><td>Là một phần cốt lõi của giao thức, sử dụng MLD</td></tr></tbody></table><h2 id=phần-2-bộ-công-cụ-của-người-dùng-linux-tương-tác-với-ip-qua-dòng-lệnh>Phần 2: Bộ công cụ của Người dùng Linux: Tương tác với IP qua Dòng lệnh<a hidden class=anchor aria-hidden=true href=#phần-2-bộ-công-cụ-của-người-dùng-linux-tương-tác-với-ip-qua-dòng-lệnh>#</a></h2><p>Linux nổi tiếng với sức mạnh của giao diện dòng lệnh (CLI), và quản lý mạng cũng không ngoại lệ. Việc thành thạo một vài lệnh cơ bản sẽ giúp bạn nhanh chóng chẩn đoán và thu thập thông tin về hệ thống mạng của mình.</p><h3 id=21-tôi-là-ai-trên-mạng-tìm-địa-chỉ-ip-của-bạn>2.1. Tôi là ai trên Mạng? Tìm Địa chỉ IP của bạn<a hidden class=anchor aria-hidden=true href=#21-tôi-là-ai-trên-mạng-tìm-địa-chỉ-ip-của-bạn>#</a></h3><p><strong>Khám phá IP Private: Làm chủ <code>ip addr</code> và Ghi chú về <code>ifconfig</code></strong></p><p>Để tìm địa chỉ IP riêng (private) của máy Linux, có một số lệnh bạn có thể sử dụng.</p><p>Công cụ hiện đại và được khuyến nghị nhất là lệnh <code>ip</code> từ bộ công cụ <code>iproute2</code>. Lý do cộng đồng Linux chuyển từ các công cụ cũ như <code>ifconfig</code> sang <code>ip</code> là vì <code>iproute2</code> được thiết kế để mạnh mẽ hơn, có cú pháp nhất quán hơn và có khả năng quản lý các khái niệm mạng hiện đại một cách hiệu quả hơn. Các công cụ cũ được tạo ra khi mạng còn đơn giản. Sự phát triển của ảo hóa, container, và các kịch bản định tuyến phức tạp đòi hỏi một bộ công cụ thống nhất và có năng lực hơn, và đó chính là</p><p><code>iproute2</code>. Việc học cách sử dụng <code>ip</code> không chỉ là học một lệnh mới, mà là tiếp cận một mô hình quản lý mạng hiện đại và mạnh mẽ hơn trên Linux.</p><ul><li><strong>Lệnh <code>ip addr</code> (hoặc <code>ip a</code>):</strong> Đây là lệnh tiêu chuẩn để hiển thị thông tin về tất cả các giao diện mạng (network interfaces) và các địa chỉ IP được gán cho chúng.
Bash<pre tabindex=0><code>$ ip addr show
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    link/ether 08:00:27:1a:2b:3c brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.105/24 brd 192.168.1.255 scope global dynamic noprefixroute enp0s3
       valid_lft 85652sec preferred_lft 85652sec
    inet6 fe80::a00:27ff:fe1a:2b3c/64 scope link noprefixroute
       valid_lft forever preferred_lft forever
</code></pre>Trong kết quả trên:<ul><li><code>lo</code>: là giao diện loopback, luôn có địa chỉ <code>127.0.0.1</code>. Nó được dùng để máy tính &ldquo;nói chuyện&rdquo; với chính nó.</li><li><code>enp0s3</code>: là tên giao diện mạng vật lý (có thể là <code>eth0</code> trên các hệ thống cũ hơn).</li><li><code>inet 192.168.1.105/24</code>: Đây chính là địa chỉ IPv4 riêng của bạn. <code>/24</code> là ký hiệu CIDR cho biết netmask là <code>255.255.255.0</code>.</li><li><code>inet6 fe80::.../64</code>: Đây là địa chỉ IPv6 link-local.</li></ul></li><li><strong>Lệnh <code>ifconfig</code>:</strong> Đây là công cụ cũ từ bộ <code>net-tools</code>. Mặc dù đã lỗi thời và có thể không được cài đặt sẵn trên các bản phân phối mới, nó vẫn rất phổ biến và đáng để biết.
Bash<pre tabindex=0><code>$ ifconfig enp0s3
enp0s3: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500
        inet 192.168.1.105  netmask 255.255.255.0  broadcast 192.168.1.255
        inet6 fe80::a00:27ff:fe1a:2b3c  prefixlen 64  scopeid 0x20&lt;link&gt;
        ether 08:00:27:1a:2b:3c  txqueuelen 1000  (Ethernet)
       ...
</code></pre></li><li><strong>Lệnh <code>hostname -I</code>:</strong> Đây là cách nhanh nhất để chỉ xem các địa chỉ IP của máy, không có thông tin thừa.
Bash<pre tabindex=0><code>$ hostname -I
192.168.1.105
</code></pre></li></ul><p><strong>Hiển thị IP Public: Sử dụng <code>curl</code> và <code>wget</code></strong></p><p>Địa chỉ IP công cộng của bạn được gán cho router, không phải cho máy tính của bạn trực tiếp. Do đó, bạn không thể tìm thấy nó bằng các lệnh nội bộ. Cách đơn giản nhất từ dòng lệnh là truy vấn một dịch vụ web bên ngoài được thiết kế để trả về địa chỉ IP của người yêu cầu.</p><ul><li><strong>Sử dụng <code>curl</code>:</strong>
Bash<pre tabindex=0><code>$ curl https://icanhazip.com
203.0.113.54
</code></pre>Hoặc các dịch vụ tương tự như <code>ifconfig.me</code> hoặc <code>ipinfo.io/ip</code>.36</li><li><strong>Sử dụng <code>wget</code>:</strong>
Bash<pre tabindex=0><code>$ wget -qO- https://icanhazip.com
203.0.113.54
</code></pre>Tùy chọn <code>-q</code> (quiet) để không hiển thị thông tin tiến trình và <code>-O-</code> để xuất nội dung ra đầu ra chuẩn (màn hình terminal) thay vì lưu vào file.</li></ul><h3 id=22-kiểm-tra-sức-khỏe-mạng-lệnh-ping-và-traceroute>2.2. Kiểm tra &ldquo;Sức khỏe&rdquo; Mạng: Lệnh <code>ping</code> và <code>traceroute</code><a hidden class=anchor aria-hidden=true href=#22-kiểm-tra-sức-khỏe-mạng-lệnh-ping-và-traceroute>#</a></h3><p><strong><code>ping</code>: Kiểm tra &ldquo;Mạch đập&rdquo; - Xác minh Kết nối và Độ trễ</strong></p><p>Lệnh <code>ping</code> (Packet Internet Groper) là công cụ chẩn đoán mạng cơ bản nhất. Nó gửi các gói tin ICMP ECHO_REQUEST đến một máy chủ đích và chờ đợi các gói tin ECHO_REPLY trả về. Nó giúp trả lời hai câu hỏi quan trọng: &ldquo;Máy chủ đó có đang hoạt động và có thể kết nối được không?&rdquo; và &ldquo;Mất bao lâu để dữ liệu đi và về?&rdquo;.</p><ul><li><strong>Kiểm tra kết nối đến một máy chủ từ xa:</strong>
Bash<pre tabindex=0><code>$ ping google.com
PING google.com (142.250.199.14) 56(84) bytes of data.
64 bytes from fra16s50-in-f14.1e100.net (142.250.199.14): icmp_seq=1 ttl=118 time=25.6 ms
64 bytes from fra16s50-in-f14.1e100.net (142.250.199.14): icmp_seq=2 ttl=118 time=25.5 ms
</code></pre></li></ul><pre tabindex=0><code>--- google.com ping statistics ---

2 packets transmitted, 2 received, 0% packet loss, time 1002ms

rtt min/avg/max/mdev = 25.526/25.584/25.642/0.058 ms
</code></pre><p>(Nhấn Ctrl+C để dừng). Kết quả cho thấy kết nối thành công, không mất gói tin nào, và thời gian trễ trung bình (avg) là 25.584 ms.</p><ul><li><strong>Các tùy chọn hữu ích:</strong><ul><li><strong>Giới hạn số lượng gói tin:</strong> Sử dụng <code>-c</code> để lệnh tự dừng sau một số lượng gói nhất định.
Bash<pre tabindex=0><code>$ ping -c 4 8.8.8.8
</code></pre></li><li><strong>Kiểm tra mạng cục bộ:</strong> <code>ping localhost</code> hoặc <code>ping 127.0.0.1</code> để đảm bảo card mạng và chồng giao thức TCP/IP của bạn đang hoạt động bình thường.</li></ul></li></ul><p><strong><code>traceroute</code>: Vẽ Bản đồ Hành trình - Chẩn đoán Sự cố Định tuyến và &ldquo;Nút cổ chai&rdquo;</strong></p><p>Khi lệnh <code>ping</code> thất bại hoặc có độ trễ rất cao, câu hỏi tiếp theo là: &ldquo;Sự cố xảy ra ở đâu trên đường đi?&rdquo;. Lệnh <code>traceroute</code> được sinh ra để trả lời câu hỏi này. Nó hiển thị từng &ldquo;chặng&rdquo; (hop)—tức là mỗi router—mà gói tin của bạn đi qua trên đường đến đích.</p><p><code>traceroute</code> hoạt động một cách thông minh bằng cách lợi dụng một trường trong tiêu đề IP gọi là TTL (Time-To-Live). Nó gửi đi một loạt gói tin, bắt đầu với TTL=1. Router đầu tiên nhận được gói tin, giảm TTL xuống 0, và gửi lại một thông báo lỗi &ldquo;Time Exceeded&rdquo;. <code>traceroute</code> ghi nhận địa chỉ của router này. Sau đó, nó gửi gói tin mới với TTL=2, gói tin này sẽ vượt qua router đầu tiên và chết ở router thứ hai, và cứ thế tiếp tục. Bằng cách này, nó vẽ ra toàn bộ bản đồ đường đi.</p><p>Bash</p><pre tabindex=0><code>$ traceroute google.com
traceroute to google.com (142.250.199.14), 30 hops max, 60 byte packets
 1  _gateway (192.168.1.1)  1.234 ms  1.567 ms  1.890 ms
 2  10.0.0.1 (10.0.0.1)  10.112 ms  10.345 ms  10.567 ms
 3  some.router.isp.net (203.0.113.1)  20.789 ms  20.912 ms  21.034 ms
...
12  fra16s50-in-f14.1e100.net (142.250.199.14)  25.456 ms  25.678 ms  25.890 ms
</code></pre><p>Kết quả này cho phép bạn thấy độ trễ tại mỗi chặng. Nếu bạn thấy độ trễ tăng đột biến hoặc các dấu <code>* * *</code> (nghĩa là không nhận được phản hồi) ở một chặng nào đó, đó có thể là nơi xảy ra sự cố mạng.</p><h3 id=23-dịch-tên-thành-số-truy-vấn-dns-với-dig>2.3. Dịch Tên thành Số: Truy vấn DNS với <code>dig</code><a hidden class=anchor aria-hidden=true href=#23-dịch-tên-thành-số-truy-vấn-dns-với-dig>#</a></h3><p><strong>Tại sao <code>dig</code> là Tiêu chuẩn của Linux so với <code>nslookup</code></strong></p><p>Cả <code>dig</code> và <code>nslookup</code> đều là các công cụ để truy vấn hệ thống DNS. Tuy nhiên, trong cộng đồng Linux và quản trị mạng, <code>dig</code> (Domain Information Groper) được ưa chuộng hơn hẳn. Lý do là</p><p><code>dig</code> cung cấp đầu ra rất chi tiết, có cấu trúc rõ ràng và dễ dàng để phân tích bằng các script tự động, điều này cực kỳ quan trọng trong quản trị hệ thống.</p><p><code>nslookup</code> cũ hơn, và mặc dù nó đã được &ldquo;hồi sinh&rdquo; và không còn bị coi là lỗi thời hoàn toàn, <code>dig</code> vẫn được xem là công cụ chuyên nghiệp, mạnh mẽ và linh hoạt hơn.</p><p><strong>Các Truy vấn DNS Thực tế: Tìm bản ghi A, MX và các bản ghi thiết yếu khác</strong></p><ul><li><strong>Truy vấn cơ bản (tìm bản ghi A - địa chỉ IP):</strong>
Bash<pre tabindex=0><code>$ dig google.com
</code></pre>Kết quả sẽ được chia thành các phần rõ ràng: <code>QUESTION SECTION</code> (câu hỏi bạn đã gửi) và <code>ANSWER SECTION</code> (câu trả lời từ máy chủ DNS).51</li><li><strong>Lấy câu trả lời ngắn gọn:</strong> Để chỉ lấy địa chỉ IP, sử dụng tùy chọn <code>+short</code>.
Bash<pre tabindex=0><code>$ dig +short google.com
142.250.199.14
</code></pre></li><li><strong>Truy vấn một loại bản ghi cụ thể:</strong> Bạn có thể chỉ định loại bản ghi bạn muốn tìm. Ví dụ, để tìm các máy chủ email (bản ghi MX - Mail Exchange) cho một tên miền:
Bash<pre tabindex=0><code>$ dig google.com MX +short
10 smtp.google.com.
</code></pre></li><li><strong>Truy vấn một máy chủ DNS cụ thể:</strong> Mặc định, <code>dig</code> sử dụng máy chủ DNS được cấu hình trên hệ thống của bạn. Để truy vấn một máy chủ cụ thể (ví dụ: máy chủ DNS công cộng của Google), sử dụng ký hiệu <code>@</code>.
Bash<pre tabindex=0><code>$ dig @8.8.8.8 fpt.vn
</code></pre>Điều này rất hữu ích để chẩn đoán xem sự cố DNS có phải do máy chủ DNS của ISP của bạn hay không.</li></ul><h2 id=phần-3-cấu-hình-mạng-nâng-cao-gán-ip-tĩnh>Phần 3: Cấu hình Mạng Nâng cao: Gán IP Tĩnh<a hidden class=anchor aria-hidden=true href=#phần-3-cấu-hình-mạng-nâng-cao-gán-ip-tĩnh>#</a></h2><p>Trong khi IP động phù hợp cho hầu hết các thiết bị của người dùng cuối, có những trường hợp bạn cần một địa chỉ IP không bao giờ thay đổi. Đây là lúc cấu hình IP tĩnh trở nên cần thiết.</p><h3 id=31-tại-sao-và-khi-nào-nên-dùng-ip-tĩnh>3.1. Tại sao và Khi nào nên Dùng IP Tĩnh?<a hidden class=anchor aria-hidden=true href=#31-tại-sao-và-khi-nào-nên-dùng-ip-tĩnh>#</a></h3><p>Bạn nên sử dụng địa chỉ IP tĩnh khi một thiết bị cần được truy cập một cách nhất quán và đáng tin cậy bởi các thiết bị khác. Các kịch bản phổ biến bao gồm:</p><ul><li><strong>Chạy Dịch vụ:</strong> Nếu bạn đang lưu trữ một trang web, máy chủ file (FTP/SMB), máy chủ game, hoặc API trên máy Linux của mình, bạn cần một IP tĩnh để người dùng và các ứng dụng khác luôn biết cách kết nối đến nó.</li><li><strong>Truy cập Từ xa:</strong> Đối với các kết nối như SSH hoặc VNC, việc có một IP tĩnh giúp bạn không phải tìm lại địa chỉ IP của máy chủ mỗi khi nó khởi động lại.</li><li><strong>Thiết bị Mạng Nội bộ:</strong> Các thiết bị như máy in mạng, thiết bị lưu trữ NAS, hoặc camera an ninh nên được gán IP tĩnh để các máy tính trong mạng luôn có thể tìm thấy chúng một cách dễ dàng mà không bị gián đoạn.</li><li><strong>Port Forwarding:</strong> Nếu bạn cần chuyển tiếp các port từ router đến một máy cụ thể trong mạng LAN, máy đó phải có IP tĩnh.</li></ul><h3 id=32-hướng-dẫn-cấu-hình-ip-tĩnh-theo-từng-bản-phân-phối>3.2. Hướng dẫn Cấu hình IP Tĩnh theo Từng Bản phân phối<a hidden class=anchor aria-hidden=true href=#32-hướng-dẫn-cấu-hình-ip-tĩnh-theo-từng-bản-phân-phối>#</a></h3><p>Cách cấu hình mạng trên Linux đã có một sự tiến hóa đáng kể. Việc hiểu rõ sự khác biệt giữa các phương pháp không chỉ giúp bạn cấu hình đúng mà còn cho thấy triết lý quản lý hệ thống đang thay đổi. Chúng ta đã đi từ việc chỉnh sửa file trực tiếp và đơn giản trên Debian (<code>/etc/network/interfaces</code>), đến một phương pháp được quản lý bởi một dịch vụ trung tâm, năng động hơn trên CentOS (NetworkManager và <code>nmcli</code>), và cuối cùng là một cách tiếp cận &ldquo;khai báo&rdquo; và trừu tượng trên Ubuntu hiện đại (Netplan). Cách tiếp cận khai báo của Netplan cho phép bạn mô tả <em>trạng thái mong muốn</em> của mạng trong một file YAML đơn giản, và Netplan sẽ tự động &ldquo;dịch&rdquo; nó thành cấu hình cho backend phù hợp (như NetworkManager hoặc systemd-networkd). Điều này phản ánh một xu hướng lớn hơn trong quản trị hệ thống: hướng tới tự động hóa, tính nhất quán và trừu tượng hóa sự phức tạp.</p><p><strong>Với Ubuntu (20.04+) và Netplan</strong></p><p>Các phiên bản Ubuntu hiện đại sử dụng <code>netplan</code> làm công cụ quản lý mạng mặc định. Các file cấu hình của nó là các file YAML nằm trong thư mục</p><p><code>/etc/netplan/</code>.</p><ol><li><p><strong>Xác định tên giao diện mạng:</strong> Dùng lệnh <code>ip a</code> để tìm tên giao diện bạn muốn cấu hình (ví dụ: <code>enp0s3</code>, <code>eth0</code>).</p></li><li><p><strong>Chỉnh sửa file cấu hình Netplan:</strong> Mở file YAML trong <code>/etc/netplan/</code> (tên file có thể là <code>00-installer-config.yaml</code> hoặc tương tự) bằng một trình soạn thảo văn bản như <code>nano</code> hoặc <code>vim</code>.</p><p>Bash</p><pre tabindex=0><code>sudo nano /etc/netplan/00-installer-config.yaml
</code></pre><p><strong>Lưu ý quan trọng:</strong> Cú pháp YAML cực kỳ nhạy cảm với việc thụt lề. <strong>Hãy sử dụng dấu cách (thường là 2 hoặc 4 dấu cách cho mỗi cấp), không bao giờ sử dụng phím Tab</strong>.</p></li><li><p><strong>Cập nhật cấu hình:</strong> Sửa đổi file để trông giống như sau, thay thế các giá trị cho phù hợp với mạng của bạn.</p><p>YAML</p><pre tabindex=0><code>network:
  version: 2
  renderer: networkd
  ethernets:
    enp0s3: # &lt;-- Thay bằng tên giao diện của bạn
      dhcp4: no # &lt;-- Tắt DHCP để dùng IP tĩnh
      addresses:
        - 192.168.1.100/24 # &lt;-- Địa chỉ IP tĩnh và netmask (dạng CIDR)
      gateway4: 192.168.1.1 # &lt;-- Địa chỉ Gateway của mạng
      nameservers:
        addresses: [8.8.8.8, 1.1.1.1] # &lt;-- Địa chỉ các máy chủ DNS
</code></pre></li><li><p><strong>Kiểm tra và Áp dụng:</strong></p><ul><li>Trước khi áp dụng, hãy kiểm tra cú pháp file cấu hình:
Bash<pre tabindex=0><code>sudo netplan try
</code></pre>Lệnh này sẽ áp dụng cấu hình trong 120 giây và nếu không có vấn đề gì (ví dụ bạn không bị mất kết nối), nó sẽ giữ lại thay đổi. Nếu có lỗi, nó sẽ tự động hoàn nguyên.</li><li>Sau khi chắc chắn cấu hình đúng, hãy áp dụng vĩnh viễn:
Bash<pre tabindex=0><code>sudo netplan apply
</code></pre></li></ul></li></ol><p><strong>Với Debian & Ubuntu cũ và <code>/etc/network/interfaces</code></strong></p><p>Đây là phương pháp truyền thống trên các hệ thống dựa trên Debian (bao gồm cả Ubuntu 16.04 và cũ hơn).</p><ol><li><p><strong>Chỉnh sửa file <code>interfaces</code>:</strong></p><p>Bash</p><pre tabindex=0><code>sudo nano /etc/network/interfaces
</code></pre></li><li><p><strong>Cập nhật cấu hình:</strong> Tìm đến đoạn cấu hình cho giao diện của bạn (ví dụ <code>eth0</code>) và sửa nó từ <code>dhcp</code> thành <code>static</code>, đồng thời thêm các thông số cần thiết.</p><pre tabindex=0><code># Dòng này đảm bảo giao diện được bật khi khởi động
auto eth0

# Cấu hình IP tĩnh cho eth0
iface eth0 inet static
    address 192.168.1.100
    netmask 255.255.255.0
    gateway 192.168.1.1
    dns-nameservers 8.8.8.8 1.1.1.1
</code></pre></li><li><p><strong>Khởi động lại dịch vụ mạng:</strong> Để áp dụng các thay đổi, hãy khởi động lại dịch vụ mạng.</p><p>Bash</p><pre tabindex=0><code>sudo systemctl restart networking
</code></pre></li></ol><p><strong>Với CentOS/RHEL và <code>nmcli</code></strong></p><p>Các hệ thống dựa trên Red Hat như CentOS, Fedora và RHEL sử dụng NetworkManager làm trình quản lý mạng mặc định. <code>nmcli</code> là công cụ dòng lệnh mạnh mẽ để tương tác với nó.</p><ol><li><p><strong>Xác định tên kết nối:</strong> Trước tiên, hãy liệt kê các kết nối mạng hiện có để lấy tên chính xác.</p><p>Bash</p><pre tabindex=0><code>nmcli connection show
</code></pre><p>Kết quả sẽ hiển thị một cột <code>NAME</code>, ví dụ: <code>ens33</code>.</p></li><li><p><strong>Sửa đổi kết nối:</strong> Sử dụng một chuỗi các lệnh <code>nmcli</code> để cấu hình IP tĩnh. Thay <code>ens33</code> bằng tên kết nối của bạn.</p><p>Bash</p><pre tabindex=0><code># Chuyển sang phương thức cấu hình thủ công
sudo nmcli con mod ens33 ipv4.method manual

# Đặt địa chỉ IP và netmask
sudo nmcli con mod ens33 ipv4.addresses 192.168.1.100/24

# Đặt gateway
sudo nmcli con mod ens33 ipv4.gateway 192.168.1.1

# Đặt DNS
sudo nmcli con mod ens33 ipv4.dns &#34;8.8.8.8,1.1.1.1&#34;
</code></pre></li><li><p><strong>Áp dụng cấu hình:</strong> Kích hoạt lại kết nối để các thay đổi có hiệu lực.</p><p>Bash</p><pre tabindex=0><code>sudo nmcli con up ens33
</code></pre></li></ol><p><strong>Sử dụng Giao diện Đồ họa/Văn bản (NetworkManager GUI/TUI)</strong></p><p>Đối với các máy Linux có giao diện đồ họa (Desktop) hoặc cho những người không muốn làm việc trực tiếp với file cấu hình, NetworkManager cung cấp các công cụ trực quan.</p><ul><li><strong><code>nmtui</code> (Text User Interface):</strong> Chạy lệnh <code>nmtui</code> trong terminal sẽ mở ra một giao diện dựa trên văn bản. Chọn <code>Edit a connection</code>, chọn giao diện của bạn, và sau đó thay đổi cấu hình IPv4 từ <code>Automatic</code> sang <code>Manual</code>. Bạn sẽ có các trường để nhập địa chỉ IP, Gateway và DNS.</li><li><strong><code>nm-connection-editor</code> (Graphical User Interface):</strong> Trên môi trường desktop GNOME, KDE, v.v., bạn có thể vào phần Cài đặt Mạng (Network Settings), chọn kết nối có dây hoặc không dây, nhấp vào biểu tượng cài đặt (bánh răng), chuyển sang tab IPv4, chọn phương thức &ldquo;Manual&rdquo; và điền các thông số tương tự.</li></ul><h2 id=phần-4-khám-phá-hàng-xóm-kỹ-thuật-số-quét-tìm-thiết-bị-mạng>Phần 4: Khám phá &ldquo;Hàng xóm&rdquo; Kỹ thuật số: Quét tìm Thiết bị Mạng<a hidden class=anchor aria-hidden=true href=#phần-4-khám-phá-hàng-xóm-kỹ-thuật-số-quét-tìm-thiết-bị-mạng>#</a></h2><p>Sau khi đã cấu hình xong mạng cho máy của mình, bước tiếp theo là khám phá xem có những thiết bị nào khác đang cùng tồn tại trong mạng cục bộ (LAN) của bạn.</p><h3 id=41-quét-nhanh-khám-phá-láng-giềng-trong-lan-với-arp-scan>4.1. Quét nhanh: Khám phá Láng giềng trong LAN với <code>arp-scan</code><a hidden class=anchor aria-hidden=true href=#41-quét-nhanh-khám-phá-láng-giềng-trong-lan-với-arp-scan>#</a></h3><p><strong>Hiểu về ARP (Address Resolution Protocol)</strong></p><p>Trước khi dùng công cụ, hãy hiểu nguyên lý. Trong một mạng LAN, các thiết bị giao tiếp với nhau ở Lớp 2 (Data Link) bằng địa chỉ MAC. Khi máy A (IP <code>192.168.1.10</code>) muốn gửi dữ liệu cho máy B (IP <code>192.168.1.20</code>), nó cần biết địa chỉ MAC của máy B. Máy A sẽ phát một gói tin ARP request ra toàn mạng với câu hỏi: &ldquo;Thiết bị nào có IP <code>192.168.1.20</code>? Xin hãy cho tôi biết địa chỉ MAC của bạn&rdquo;. Máy B khi nhận được yêu cầu này sẽ trả lời bằng một gói tin ARP reply chứa địa chỉ MAC của nó.</p><p><strong>Sử dụng <code>arp-scan</code></strong></p><p><code>arp-scan</code> là một công cụ dòng lệnh khai thác chính giao thức này. Nó gửi các gói tin ARP request cho mọi địa chỉ IP có thể có trong mạng con của bạn và lắng nghe các phản hồi.</p><p>Điểm mạnh của <code>arp-scan</code> là nó hoạt động ở Lớp 2. Nhiều thiết bị có thể được cấu hình tường lửa để chặn các gói tin ping (ICMP) hoặc các kết nối TCP (Lớp 3 và 4), khiến chúng trở nên &ldquo;vô hình&rdquo; trước các công cụ quét thông thường. Tuy nhiên, để có thể hoạt động trên mạng LAN, một thiết bị <em>bắt buộc</em> phải phản hồi các yêu cầu ARP. Do đó, <code>arp-scan</code> có khả năng phát hiện gần như mọi thiết bị đang hoạt động trên mạng cục bộ của bạn, ngay cả khi chúng có tường lửa.</p><p>Để sử dụng, bạn có thể cần cài đặt nó trước:</p><p>Bash</p><pre tabindex=0><code># Trên Debian/Ubuntu
sudo apt install arp-scan
# Trên CentOS/RHEL
sudo yum install arp-scan
</code></pre><p>Sau đó, chạy lệnh với quyền root:</p><p>Bash</p><pre tabindex=0><code>sudo arp-scan --localnet
# hoặc viết tắt
sudo arp-scan -l
</code></pre><p>Kết quả sẽ là một danh sách các địa chỉ IP, địa chỉ MAC tương ứng và nhà sản xuất card mạng (dựa trên địa chỉ MAC).</p><pre tabindex=0><code>Interface: enp0s3, type: EN10MB, MAC: 08:00:27:1a:2b:3c, IPv4: 192.168.1.105
Starting arp-scan 1.9.7 with 256 hosts (https://github.com/royhills/arp-scan)
192.168.1.1     01:23:45:67:89:ab   (Unknown)
192.168.1.50    ab:cd:ef:12:34:56   TP-LINK TECHNOLOGIES CO.,LTD.
192.168.1.102   fe:dc:ba:65:43:21   Apple, Inc.
...
</code></pre><h3 id=42-quét-sâu-sức-mạnh-của-nmap>4.2. Quét sâu: Sức mạnh của <code>nmap</code><a hidden class=anchor aria-hidden=true href=#42-quét-sâu-sức-mạnh-của-nmap>#</a></h3><p><code>arp-scan</code> rất tuyệt vời để trả lời câu hỏi &ldquo;Có những ai ở đây?&rdquo;, nhưng <code>nmap</code> (Network Mapper) sẽ trả lời câu hỏi sâu hơn: &ldquo;Họ là ai và họ đang làm gì?&rdquo;. <code>nmap</code> là một con dao đa năng của Thụy Sĩ trong lĩnh vực quét mạng, có khả năng khám phá máy chủ, các cổng đang mở, các dịch vụ đang chạy, phiên bản của chúng, hệ điều hành và thậm chí cả các lỗ hổng bảo mật tiềm tàng.</p><p>Một người mới bắt đầu có thể chỉ dùng <code>nmap</code> để quét, nhưng một cách tiếp cận chuyên nghiệp và đáng tin cậy hơn là kết hợp sức mạnh của cả hai công cụ. Tường lửa có thể chặn các phương pháp khám phá máy chủ của <code>nmap</code> (dựa trên ICMP, TCP, UDP). Do đó, một quy trình làm việc hiệu quả là:</p><ol><li><strong>Sử dụng <code>arp-scan</code> (Layer 2) để xây dựng một danh sách chắc chắn về tất cả các thiết bị đang hoạt động trên mạng.</strong></li><li><strong>Sử dụng danh sách IP thu được từ <code>arp-scan</code> làm đầu vào cho <code>nmap</code> (Layer 3/4) để thực hiện quét chi tiết về cổng và dịch vụ.</strong></li></ol><p>Cách tiếp cận kết hợp này đảm bảo bạn không bỏ sót bất kỳ thiết bị nào và có được bức tranh toàn cảnh nhất về mạng của mình.</p><p><strong>Các kiểu Quét Cơ bản với <code>nmap</code></strong></p><ul><li><strong>Khám phá Máy chủ (Ping Scan):</strong> Nhanh chóng xác định các máy chủ nào đang &ldquo;sống&rdquo; trong một dải mạng mà không cần quét cổng.
Bash<pre tabindex=0><code>nmap -sn 192.168.1.0/24
</code></pre>Tùy chọn <code>-sn</code> (scan no port) chỉ thực hiện khám phá máy chủ.</li><li><strong>Quét các Cổng phổ biến:</strong> Đây là kiểu quét mặc định của <code>nmap</code>. Nó sẽ quét 1000 cổng TCP phổ biến nhất trên một mục tiêu.
Bash<pre tabindex=0><code>nmap 192.168.1.50
</code></pre>Kết quả sẽ liệt kê các cổng ở trạng thái <code>open</code> (đang có dịch vụ lắng nghe), <code>closed</code> (không có dịch vụ), hoặc <code>filtered</code> (bị tường lửa chặn).</li><li><strong>Các loại quét cổng khác:</strong><ul><li><code>nmap -sT 192.168.1.50</code>: TCP Connect Scan. Hoàn thành một bắt tay TCP đầy đủ. Đáng tin cậy nhưng dễ bị ghi lại trong log.</li><li><code>sudo nmap -sS 192.168.1.50</code>: SYN &ldquo;Stealth&rdquo; Scan. Chỉ gửi gói SYN đầu tiên của bắt tay TCP. Nhanh hơn, &ldquo;kín đáo&rdquo; hơn, nhưng yêu cầu quyền root.</li><li><code>sudo nmap -sU 192.168.1.50</code>: Quét các cổng UDP. Chậm hơn và khó xác định hơn TCP.</li></ul></li></ul><p><strong>Thu thập Thông tin Nâng cao</strong></p><ul><li><strong>Phát hiện Phiên bản Dịch vụ (<code>-sV</code>):</strong> Cố gắng xác định chính xác tên và phiên bản của dịch vụ đang chạy trên các cổng mở. Thông tin này cực kỳ quý giá để tìm kiếm các lỗ hổng đã biết.
Bash<pre tabindex=0><code>sudo nmap -sV 192.168.1.50
</code></pre></li><li><strong>Phát hiện Hệ điều hành (<code>-O</code>):</strong> Cố gắng đoán hệ điều hành của máy chủ mục tiêu dựa trên các phản hồi mạng của nó.
Bash<pre tabindex=0><code>sudo nmap -O 192.168.1.50
</code></pre></li><li><strong>Quét Toàn diện (<code>-A</code>):</strong> Tùy chọn &ldquo;hung hăng&rdquo; (Aggressive) này kết hợp nhiều tính năng mạnh mẽ, bao gồm phát hiện hệ điều hành (<code>-O</code>), phát hiện phiên bản (<code>-sV</code>), quét script (<code>-sC</code>) và traceroute. Nó cung cấp một báo cáo rất chi tiết về mục tiêu.
Bash<pre tabindex=0><code>sudo nmap -A 192.168.1.50
</code></pre></li></ul><h2 id=phần-5-điều-khiển-từ-xa-qua-ip-ssh-và-vnc>Phần 5: Điều khiển từ xa qua IP: SSH và VNC<a hidden class=anchor aria-hidden=true href=#phần-5-điều-khiển-từ-xa-qua-ip-ssh-và-vnc>#</a></h2><p>Một khi bạn đã xác định được địa chỉ IP của một máy khác, bạn có thể sử dụng nó để truy cập và điều khiển máy đó từ xa. Hai giao thức phổ biến nhất cho việc này trên Linux là SSH (cho dòng lệnh) và VNC (cho giao diện đồ họa).</p><h3 id=51-ssh-secure-shell-cổng-vào-dòng-lệnh-của-quản-trị-viên>5.1. SSH (Secure Shell): Cổng vào Dòng lệnh của Quản trị viên<a hidden class=anchor aria-hidden=true href=#51-ssh-secure-shell-cổng-vào-dòng-lệnh-của-quản-trị-viên>#</a></h3><p>SSH là giao thức tiêu chuẩn để truy cập dòng lệnh của một máy chủ Linux từ xa một cách an toàn. Mọi dữ liệu truyền qua SSH, bao gồm cả thông tin đăng nhập và các lệnh bạn gõ, đều được mã hóa mạnh mẽ.</p><p><strong>Cài đặt và Thiết lập <code>openssh-server</code></strong></p><p>Hầu hết các máy khách Linux đã cài đặt sẵn <code>openssh-client</code>. Tuy nhiên, máy bạn muốn kết nối đến (máy chủ) cần phải cài đặt và chạy <code>openssh-server</code>.</p><ul><li><strong>Trên Debian/Ubuntu:</strong>
Bash<pre tabindex=0><code>sudo apt update
sudo apt install openssh-server
</code></pre></li><li><strong>Trên CentOS/RHEL:</strong>
Bash<pre tabindex=0><code>sudo yum install openssh-server
</code></pre></li></ul><p>Sau khi cài đặt, dịch vụ SSH (thường được gọi là <code>sshd</code>) sẽ tự động khởi động. Bạn có thể kiểm tra trạng thái của nó:</p><p>Bash</p><pre tabindex=0><code>sudo systemctl status ssh
</code></pre><p><strong>Kết nối An toàn: Từ Mật khẩu Cơ bản đến Xác thực bằng Cặp khóa SSH</strong></p><ul><li><strong>Kết nối bằng mật khẩu (Cách cơ bản):</strong>
Bash<pre tabindex=0><code>ssh username@ip_address
</code></pre>Ví dụ: <code>ssh admin@192.168.1.100</code>. Lần đầu kết nối, bạn sẽ được yêu cầu xác nhận &ldquo;dấu vân tay&rdquo; (fingerprint) của máy chủ. Sau đó, bạn nhập mật khẩu của người dùng <code>admin</code> trên máy chủ. Cách này đơn giản nhưng kém an toàn hơn vì mật khẩu có thể bị dò ra.</li><li>Kết nối bằng cặp khóa SSH (Cách chuyên nghiệp và an toàn hơn):
Phương pháp này sử dụng một cặp khóa mã hóa: một khóa riêng tư (private key) được giữ bí mật trên máy khách của bạn, và một khóa công khai (public key) được đặt trên máy chủ.<ul><li><strong>Tạo cặp khóa trên máy khách của bạn:</strong>
Bash<pre tabindex=0><code>ssh-keygen -t rsa -b 4096
</code></pre>Lệnh này sẽ tạo ra một cặp khóa RSA với độ dài 4096 bit. Bạn sẽ được hỏi nơi lưu khóa (cứ nhấn Enter để dùng vị trí mặc định <code>~/.ssh/id_rsa</code>) và một cụm mật khẩu (passphrase) để bảo vệ thêm cho khóa riêng tư của bạn (bạn có thể bỏ trống).</li><li><strong>Sao chép khóa công khai lên máy chủ:</strong> Cách dễ nhất là sử dụng lệnh <code>ssh-copy-id</code>.
Bash<pre tabindex=0><code>ssh-copy-id username@ip_address
</code></pre>Lệnh này sẽ tự động kết nối đến máy chủ, yêu cầu bạn nhập mật khẩu lần cuối, và sau đó sao chép nội dung của khóa công khai (<code>~/.ssh/id_rsa.pub</code>) vào đúng file <code>~/.ssh/authorized_keys</code> trên máy chủ.</li><li><strong>Đăng nhập:</strong> Bây giờ, khi bạn chạy lại lệnh <code>ssh username@ip_address</code>, máy chủ sẽ nhận ra khóa công khai của bạn và cho phép bạn đăng nhập mà không cần mật khẩu.</li></ul></li></ul><p><strong>Tăng cường Bảo mật cho Máy chủ SSH</strong></p><p>Để làm cho máy chủ SSH của bạn an toàn hơn nữa, hãy chỉnh sửa file cấu hình <code>/etc/ssh/sshd_config</code>.</p><ul><li><strong>Thay đổi cổng mặc định:</strong> Tin tặc thường quét cổng 22 (cổng mặc định của SSH). Thay đổi nó sang một cổng khác (ví dụ: <code>Port 2222</code>) sẽ giúp tránh các cuộc tấn công tự động.</li><li><strong>Vô hiệu hóa đăng nhập của người dùng <code>root</code>:</strong> Đăng nhập trực tiếp bằng <code>root</code> là một rủi ro bảo mật lớn. Hãy đặt <code>PermitRootLogin no</code>.</li><li><strong>Chỉ cho phép đăng nhập bằng khóa:</strong> Sau khi đã thiết lập xác thực bằng khóa thành công, hãy vô hiệu hóa hoàn toàn việc đăng nhập bằng mật khẩu để tăng cường bảo mật tối đa. Đặt <code>PasswordAuthentication no</code>.</li></ul><p>Sau khi thay đổi file cấu hình, đừng quên khởi động lại dịch vụ SSH: <code>sudo systemctl restart ssh</code>.</p><h3 id=52-vnc-virtual-network-computing-giao-diện-đồ-họa-từ-xa>5.2. VNC (Virtual Network Computing): Giao diện Đồ họa Từ xa<a hidden class=anchor aria-hidden=true href=#52-vnc-virtual-network-computing-giao-diện-đồ-họa-từ-xa>#</a></h3><p>Trong khi SSH là lựa chọn hoàn hảo cho dòng lệnh, VNC cho phép bạn xem và tương tác với toàn bộ môi trường desktop đồ họa (GUI) của một máy tính từ xa, như thể bạn đang ngồi ngay trước nó. Điều này rất hữu ích cho việc hỗ trợ kỹ thuật, quản lý các ứng dụng có giao diện đồ họa, hoặc làm việc từ xa.</p><p><strong>Cài đặt và Cấu hình một Máy chủ VNC (ví dụ: TightVNC) trên Linux</strong></p><ol><li><p><strong>Cài đặt Môi trường Desktop (nếu cần):</strong> Nếu bạn đang làm việc trên một phiên bản Server của Linux (không có GUI), bạn cần cài đặt một môi trường desktop trước. XFCE là một lựa chọn nhẹ và phổ biến.</p><p>Bash</p><pre tabindex=0><code># Trên Debian/Ubuntu
sudo apt update
sudo apt install xfce4 xfce4-goodies
</code></pre></li><li><p><strong>Cài đặt VNC Server:</strong></p><p>Bash</p><pre tabindex=0><code># Trên Debian/Ubuntu
sudo apt install tightvncserver
</code></pre></li><li><p><strong>Chạy VNC Server lần đầu:</strong> Chạy lệnh <code>vncserver</code> để thiết lập. Nó sẽ yêu cầu bạn tạo một mật khẩu chỉ dành cho VNC (tối đa 8 ký tự).</p><p>Bash</p><pre tabindex=0><code>vncserver
</code></pre><p>Sau khi thiết lập mật khẩu, nó sẽ khởi động một phiên VNC mới và cho bạn biết số hiệu màn hình (display number), ví dụ: <code>New 'X' desktop is your-hostname:1</code>. Số <code>:1</code> này tương ứng với cổng TCP <code>5901</code> (cổng mặc định của VNC là 5900 + số hiệu màn hình).</p></li></ol><p><strong>Kết nối từ Máy Client bằng một Trình xem VNC</strong></p><p>Trên máy tính cục bộ của bạn (Windows, macOS, hoặc Linux khác), bạn cần cài đặt một phần mềm VNC Viewer. Có rất nhiều lựa chọn miễn phí như TightVNC Viewer, RealVNC Viewer, hoặc UltraVNC.</p><p>Mở VNC Viewer của bạn và nhập địa chỉ của máy chủ VNC theo định dạng <code>IP_máy_chủ:số_hiệu_màn_hình</code>, ví dụ: <code>192.168.1.100:1</code>. Sau đó, nhập mật khẩu VNC bạn đã tạo ở bước trên để kết nối.</p><h3 id=53-vượt-tường-lửa-an-toàn-giới-thiệu-về-ssh-tunneling-port-forwarding>5.3. Vượt Tường lửa An toàn: Giới thiệu về SSH Tunneling (Port Forwarding)<a hidden class=anchor aria-hidden=true href=#53-vượt-tường-lửa-an-toàn-giới-thiệu-về-ssh-tunneling-port-forwarding>#</a></h3><p>Đây là một kỹ thuật cực kỳ quan trọng, kết hợp sức mạnh của cả SSH và VNC. Vấn đề cốt lõi là giao thức VNC nguyên bản <strong>không được mã hóa</strong>. Mọi thứ bạn gõ và mọi thứ hiển thị trên màn hình đều được truyền đi dưới dạng văn bản thuần túy, khiến nó rất không an toàn khi sử dụng qua một mạng không tin cậy như Internet.</p><p>Việc mở trực tiếp cổng VNC (5901, 5902,&mldr;) ra Internet là một rủi ro bảo mật nghiêm trọng. Một người mới có thể làm điều này, nhưng một chuyên gia thì không. Cách tiếp cận chuyên nghiệp và an toàn là <strong>không bao giờ phơi bày một dịch vụ không an toàn ra ngoài</strong>. Thay vào đó, chúng ta sẽ sử dụng SSH, vốn đã là một kênh giao tiếp an toàn, để tạo một &ldquo;đường hầm&rdquo; được mã hóa và cho lưu lượng VNC đi qua đó. Đây không phải là một &ldquo;mẹo&rdquo;, mà là một <strong>tiêu chuẩn bắt buộc</strong> khi làm việc với các giao thức không an toàn qua mạng công cộng.</p><p><strong>Kịch bản Sử dụng Thực tế: Bảo vệ Kết nối VNC qua Đường hầm SSH</strong></p><ol><li><p><strong>Thiết lập:</strong> Đảm bảo máy chủ của bạn đã cài đặt <code>openssh-server</code> và bạn có thể kết nối đến nó bằng SSH. Đảm bảo máy chủ cũng đang chạy một phiên VNC (ví dụ trên cổng 5901). <strong>Không mở cổng 5901 trên tường lửa của máy chủ.</strong></p></li><li><p><strong>Tạo đường hầm SSH từ máy khách:</strong> Mở terminal trên máy khách của bạn và chạy lệnh sau:</p><p>Bash</p><pre tabindex=0><code>ssh -L 5901:localhost:5901 username@ip_address
</code></pre><p>Hãy phân tích lệnh này 95:</p><ul><li><code>ssh...</code>: Khởi tạo một kết nối SSH như bình thường.</li><li><code>-L 5901:localhost:5901</code>: Đây là phần tạo đường hầm (Local Port Forwarding).<ul><li><code>5901:</code> (phần đầu tiên): Mở cổng <code>5901</code> trên <strong>máy khách</strong> (máy cục bộ của bạn) và lắng nghe các kết nối.</li><li><code>localhost</code>: Từ góc nhìn của <strong>máy chủ SSH</strong>, đích đến của đường hầm là <code>localhost</code> (chính nó).</li><li><code>:5901</code> (phần cuối cùng): Kết nối sẽ được chuyển tiếp đến cổng <code>5901</code> trên đích đó (tức là cổng VNC trên máy chủ).</li></ul></li></ul><p>Nói một cách đơn giản, lệnh này có nghĩa là: &ldquo;Bất kỳ lưu lượng nào được gửi đến cổng 5901 trên máy tính của tôi, hãy chuyển tiếp nó một cách an toàn qua đường hầm SSH đến cổng 5901 trên máy chủ.&rdquo;</p></li><li><p><strong>Kết nối VNC:</strong> Bây giờ, trên máy khách của bạn, hãy mở VNC Viewer và thay vì kết nối đến <code>dia_chi_ip_may_chu:1</code>, bạn hãy kết nối đến <code>localhost:1</code> (hoặc <code>127.0.0.1:5901</code>).</p></li></ol><p>Kết nối VNC của bạn bây giờ sẽ đi qua đường hầm SSH đã được mã hóa, đảm bảo an toàn tuyệt đối cho phiên làm việc từ xa của bạn.</p><h2 id=phần-6-kết-luận-và-các-bước-tiếp-theo>Phần 6: Kết luận và các Bước Tiếp theo<a hidden class=anchor aria-hidden=true href=#phần-6-kết-luận-và-các-bước-tiếp-theo>#</a></h2><p>Chúng ta đã cùng nhau trải qua một hành trình dài và chi tiết, từ việc giải phẫu những khái niệm cơ bản nhất của địa chỉ IP, phân loại chúng, cho đến việc sử dụng các công cụ dòng lệnh mạnh mẽ của Linux để tương tác với mạng. Bạn đã học cách tìm địa chỉ IP của mình, kiểm tra sức khỏe mạng, cấu hình IP tĩnh cho các bản phân phối phổ biến, quét tìm các thiết bị khác, và quan trọng nhất là thiết lập các kết nối từ xa an toàn bằng SSH và VNC kết hợp với SSH tunneling.</p><p>Kiến thức về mạng là vô tận. Những gì bạn đã học được ở đây là những khối xây dựng cơ bản. Để tiếp tục phát triển kỹ năng của mình, bạn có thể khám phá các chủ đề nâng cao sau:</p><ul><li><strong>Tường lửa và Bảo mật Mạng:</strong> Tìm hiểu về các công cụ như <code>ufw</code> (Uncomplicated Firewall), <code>firewalld</code>, và <code>iptables</code> để kiểm soát lưu lượng ra vào máy Linux của bạn.</li><li><strong>Chia Mạng con (Subnetting):</strong> Học cách chia một mạng lớn thành các mạng con nhỏ hơn để quản lý không gian địa chỉ hiệu quả và tăng cường bảo mật.</li><li><strong>Mạng riêng ảo (VPN):</strong> Tìm hiểu cách thiết lập các máy chủ VPN như OpenVPN hoặc WireGuard để tạo ra các kết nối an toàn và riêng tư đến mạng của bạn từ bất kỳ đâu.</li><li><strong>Các khái niệm Mạng Nâng cao:</strong> Khám phá các chủ đề như Network Namespaces (để cô lập các môi trường mạng, nền tảng của container), các giao thức định tuyến động, và cấu hình mạng phức tạp hơn.</li></ul><p>Chúc bạn thành công trên con đường làm chủ hệ thống của mình!</p><hr><p><em>Nếu thấy hay, hãy để lại cho mình 1 comment xuống phía dưới để mình có động lực viết các blog chất lượng tiếp theo nhé!</em></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://blog.nagih.io.vn/tags/docker/>Docker</a></li></ul><nav class=paginav><a class=prev href=https://blog.nagih.io.vn/posts/docker-cli/><span class=title>« Prev</span><br><span>Docker CLI</span>
</a><a class=next href=https://blog.nagih.io.vn/posts/9-mysql-table-design-rules-skills/><span class=title>Next »</span><br><span>9 MySQL Table Design Rules & Skills</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Internet Protocol (IP) on x" href="https://x.com/intent/tweet/?text=Internet%20Protocol%20%28IP%29&amp;url=https%3a%2f%2fblog.nagih.io.vn%2fposts%2fip%2f&amp;hashtags=docker"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Internet Protocol (IP) on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fblog.nagih.io.vn%2fposts%2fip%2f&amp;title=Internet%20Protocol%20%28IP%29&amp;summary=Internet%20Protocol%20%28IP%29&amp;source=https%3a%2f%2fblog.nagih.io.vn%2fposts%2fip%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Internet Protocol (IP) on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fblog.nagih.io.vn%2fposts%2fip%2f&title=Internet%20Protocol%20%28IP%29"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Internet Protocol (IP) on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.nagih.io.vn%2fposts%2fip%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Internet Protocol (IP) on whatsapp" href="https://api.whatsapp.com/send?text=Internet%20Protocol%20%28IP%29%20-%20https%3a%2f%2fblog.nagih.io.vn%2fposts%2fip%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Internet Protocol (IP) on telegram" href="https://telegram.me/share/url?text=Internet%20Protocol%20%28IP%29&amp;url=https%3a%2f%2fblog.nagih.io.vn%2fposts%2fip%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Internet Protocol (IP) on ycombinator" href="https://news.ycombinator.com/submitlink?t=Internet%20Protocol%20%28IP%29&u=https%3a%2f%2fblog.nagih.io.vn%2fposts%2fip%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentcolor" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://blog.nagih.io.vn/>Nagih | Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>